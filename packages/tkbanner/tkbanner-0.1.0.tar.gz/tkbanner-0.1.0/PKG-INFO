Metadata-Version: 2.4
Name: tkbanner
Version: 0.1.0
Summary: Animated video banner for tkinter
Author: Alexei54
Requires-Python: >=3.8
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: Pillow
Dynamic: license-file

–ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ tkbanner –ø—ñ–¥—Ç—Ä–∏–º—É—î –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ –±–µ–∑ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ—Å—Ç—ñ —è–≤–Ω–æ —ó—Ö –∑–∞–¥–∞–≤–∞—Ç–∏.
–Ø–∫—â–æ –ø–µ–≤–Ω–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω–æ –ø—ñ–¥ —á–∞—Å —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è VideoBanner, –≤—ñ–Ω –±—É–¥–µ –≤–∑—è—Ç–∏–π –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –∑ –≤—ñ–¥–µ–æ—Ñ–∞–π–ª—É.

–¶—è –ª–æ–≥—ñ–∫–∞ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ —É banner.py —Ç–∞ extractor.py.

FPS

–Ø–∫—â–æ fps=None, –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞:

–æ—Ç—Ä–∏–º—É—î FPS –≤—ñ–¥–µ–æ —á–µ—Ä–µ–∑ ffprobe

–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –π–æ–≥–æ –¥–ª—è –≤—ñ–¥—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–∞–¥—Ä—ñ–≤ —ñ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó –∞—É–¥—ñ–æ

Delay (–∑–∞—Ç—Ä–∏–º–∫–∞ –º—ñ–∂ –∫–∞–¥—Ä–∞–º–∏)

–Ø–∫—â–æ delay –Ω–µ –∑–∞–¥–∞–Ω–æ, –≤—ñ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–±—á–∏—Å–ª—é—î—Ç—å—Å—è –∑ FPS:

delay = 1000 / fps

–Ø–∫—â–æ FPS –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π –∞–±–æ –¥–æ—Ä—ñ–≤–Ω—é—î 0 ‚Äî –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –±–µ–∑–ø–µ—á–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º (40 –º—Å)

–¢–∞–∫–∏–º —á–∏–Ω–æ–º, –≤—ñ–¥—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑–∞–≤–∂–¥–∏ –º–∞—î –∫–æ—Ä–µ–∫—Ç–Ω–∏–π —Ç–∞–π–º—ñ–Ω–≥ –Ω–∞–≤—ñ—Ç—å –±–µ–∑ —Ä—É—á–Ω–∏—Ö –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å.

–†–æ–∑–º—ñ—Ä–∏ –∫–∞–¥—Ä—É (width / height)

–Ø–∫—â–æ width –∞–±–æ height –Ω–µ –∑–∞–¥–∞–Ω—ñ:

–±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ –≤–∏–∑–Ω–∞—á–∞—î —Ä–µ–∞–ª—å–Ω—É —à–∏—Ä–∏–Ω—É —Ç–∞ –≤–∏—Å–æ—Ç—É –≤—ñ–¥–µ–æ —á–µ—Ä–µ–∑ ffprobe

–∫–∞–¥—Ä–∏ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å—Å—è –≤ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω—ñ–π —Ä–æ–∑–¥—ñ–ª—å–Ω—ñ–π –∑–¥–∞—Ç–Ω–æ—Å—Ç—ñ

–ê—É–¥—ñ–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏

–Ø–∫—â–æ –∞—É–¥—ñ–æ —É–≤—ñ–º–∫–Ω–µ–Ω–µ (music=True):

sample_rate —Ç–∞ channels –±–µ—Ä—É—Ç—å—Å—è –∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞

—è–∫—â–æ —ó—Ö –Ω–µ –∑–º—ñ–Ω—é–≤–∞—Ç–∏, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è (44100 Hz, 2 –∫–∞–Ω–∞–ª–∏)

–ó–∞–≥–∞–ª—å–Ω–∏–π –ø—Ä–∏–Ω—Ü–∏–ø

–Ø–∫—â–æ –ø–∞—Ä–∞–º–µ—Ç—Ä –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω–∏–π —è–≤–Ω–æ, tkbanner –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è:

–í–∑—è—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è –∑ –≤—ñ–¥–µ–æ—Ñ–∞–π–ª—É

–ê–±–æ –æ–±—á–∏—Å–ª–∏—Ç–∏ –π–æ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ

–ê–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –±–µ–∑–ø–µ—á–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º

–¶–µ –¥–æ–∑–≤–æ–ª—è—î –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ VideoBanner –∑ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–æ—é –∫—ñ–ª—å–∫—ñ—Å—Ç—é –∞—Ä–≥—É–º–µ–Ω—Ç—ñ–≤ –±–µ–∑ –≤—Ç—Ä–∞—Ç–∏ –∫–æ—Ä–µ–∫—Ç–Ω–æ—ó —Ä–æ–±–æ—Ç–∏.

–æ—Å—å –ø—Ä–∏–∫–ª–∞–¥–∏

–ø–µ—Ä—à–∏–π –ø—Ä–∏–∫–ª–∞–¥:

ads = True
def on_banner_click():
    global ads
    if ads:
        webbrowser.open("https://www.youtube.com/watch?v=xrtwJZ7hrp4&list=RDMMg6SuqTF_SU8&index=27")
        banner.set_banner(video_path="video/ads_1.mp4")
        ads = False
    elif not ads:
        webbrowser.open("https://www.pygame.org/news")
        banner.set_banner(video_path="video/ads.mp4")
        ads = True


banner = VideoBanner(
    master=root,
    video_path="video/ads.mp4",      # –ó–∞–º—ñ–Ω—ñ—Ç—å –Ω–∞ —à–ª—è—Ö –¥–æ —Å–≤–æ–≥–æ –≤—ñ–¥–µ–æ
    fps=20,
    width=400,
    height=250,
    music = True,
    loop=True,
    lazy_loading=True,
    on_click=on_banner_click
)

banner.place(x = 50,y = 240)
banner.start()

–¢–æ–∂ —è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–≤ —Å–≤–æ—é –±—ñ–±–ª—ñ–æ—Ç–µ–∫—É —É –≤–ª–∞—Å–Ω—ñ–π –ø—Ä–æ–≥—Ä–∞–º—ñ –¥–ª—è –ø–æ–∫–∞–∑—É —Ä–µ–∫–ª–∞–º–∏. –¶–µ, –∑–≤–∏—á–∞–π–Ω–æ, —Ç–µ—Å—Ç–æ–≤–∏–π –∫–æ–¥ –¥–ª—è –º–µ–Ω–µ: —Ç–∞–º –Ω–µ –ø–æ–∫–∞–∑—É—î—Ç—å—Å—è —Ä–µ–∞–ª—å–Ω–∞ —Ä–µ–∫–ª–∞–º–∞, –∞ –ª–∏—à–µ —ó—ó —ñ–º—ñ—Ç–∞—Ü—ñ—è.

–¥—Ä—É–≥–∏–π –ø—Ä–∏–∫–ª–∞–¥:

from tkinter import *
from tkbanner import VideoBanner

root = Tk()
root.title("üé¨ VideoBanner Player Demo")
root.state("zoomed")
root.configure(bg="#222")

width = root.winfo_screenwidth()
height = root.winfo_screenheight()

banner = VideoBanner(
    master=root,
    video_path="video/ads_2.mp4", # –ó–∞–º—ñ–Ω—ñ—Ç—å –Ω–∞ —à–ª—è—Ö –¥–æ —Å–≤–æ–≥–æ –≤—ñ–¥–µ–æ
    width=width,
    height=height-165,
    fps=15,
    loop=False,
    music=True,
    lazy_loading = True,
    one_frame=True,
    delay=None
)
banner.pack()

user_dragging = False  # –ø—Ä–∞–ø–æ—Ä–µ—Ü—å ‚Äî –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á —Ç—è–≥–Ω–µ –ø–æ–≤–∑—É–Ω–æ–∫

def toggle_play():
    """–°—Ç–∞—Ä—Ç –∞–±–æ —Å—Ç–æ–ø."""
    if banner.running:
        banner.stop()
        btn_play.config(text="‚è∏")
    else:
        banner.start()
        btn_play.config(text="‚ñ∂Ô∏è")


def move_left():
    """–ü–µ—Ä–µ–º–æ—Ç–∫–∞ –Ω–∞–∑–∞–¥ –Ω–∞ 5 —Å–µ–∫."""
    mov_left = 5 * banner.fps
    banner.left(mov_left)
    update_info()


def move_right():
    """–ü–µ—Ä–µ–º–æ—Ç–∫–∞ –≤–ø–µ—Ä–µ–¥ –Ω–∞ 10 —Å–µ–∫."""
    mov_right = 10 * banner.fps
    banner.right(mov_right)
    update_info()

music_not_none = True

def none_music():
    global music_not_none
    if music_not_none:
        banner.stop_audio()
        music_not_none = False
    else:
        banner.start_audio()
        music_not_none = True

def update_info():
    """–û–Ω–æ–≤–ª—é—î —ñ–Ω—Ñ–æ –ø—Ä–æ –∫–∞–¥—Ä —ñ –ø–æ–≤–∑—É–Ω–æ–∫ –±–µ–∑ –≤—Ç—Ä—É—á–∞–Ω–Ω—è —É —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—é."""
    if banner.frames:
        total = len(banner.frames)
        if scale_pos.cget("to") != total - 1:
            scale_pos.config(to=total - 1)
        val = banner.current_frame_index

        # –Ω–µ —Ä—É—Ö–∞—Ç–∏ –ø–æ–≤–∑—É–Ω–æ–∫, —è–∫—â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á —Å–∞–º —Ç—è–≥–Ω–µ –π–æ–≥–æ
        if not user_dragging:
            scale_pos.set(val)        
    root.after(100, update_info)  # –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Ä—ñ–¥—à–µ, —â–æ–± –Ω–µ –Ω–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞—Ç–∏ CPU


def on_scale_press(event):
    """–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –ø–æ—á–∞–≤ —Ç—è–≥–Ω—É—Ç–∏ –ø–æ–≤–∑—É–Ω–æ–∫."""
    global user_dragging
    user_dragging = True

def on_scale_release(event):
    """–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤—ñ–¥–ø—É—Å—Ç–∏–≤ –ø–æ–≤–∑—É–Ω–æ–∫ ‚Äî –ø–µ—Ä–µ–º–æ—Ç–∞—Ç–∏ –¥–æ –≤–∏–±—Ä–∞–Ω–æ–≥–æ –∫–∞–¥—Ä—É."""
    global user_dragging
    user_dragging = False
    val = scale_pos.get()
    banner.to_switch(int(val))


controls = Frame(root, bg="#222")
controls.pack(pady=10)

btn_left = Button(controls, text="‚è™", width=10, command=move_left)
btn_left.grid(row=0, column=1, padx=10)

btn_play = Button(controls, text="‚ñ∂Ô∏è", width=10, command=toggle_play)
btn_play.grid(row=0, column=2, padx=10)

btn_right = Button(controls, text="‚è©", width=10, command=move_right)
btn_right.grid(row=0, column=3, padx=10)

btn_music = Button(controls, text = "üîá", width=5, command = none_music)
btn_music.grid(row=0, column=4, padx=10)

scale_pos = Scale(
    root,
    from_=1,
    to=len(banner.frames),
    orient=HORIZONTAL,
    length=width-100,
    bg="#333",
    fg="white",
    troughcolor="#555",
    highlightthickness=0,
)
scale_pos.pack()

scale_pos.bind("<ButtonPress-1>", on_scale_press)
scale_pos.bind("<ButtonRelease-1>", on_scale_release)

update_info()

root.mainloop()

–≤ —Ü—å–æ–º—É –∫–æ–¥—ñ —è —Å—Ç–≤–æ—Ä–∏–≤ –≤—ñ–¥–µ–æ –ø–ª–µ—î—Ä

###############################################################################
#
# Copyright (c) 2025 HERE Europe B.V.
#
# SPDX-License-Identifier: MIT
# License-Filename: LICENSE
#
###############################################################################

[build-system]
requires = [
    "setuptools>=80.9.0",
    "wheel"
]
build-backend = "setuptools.build_meta"

[project]
name = "here-search-demo"
version = "0.17.6"
description = "HERE Geocoding and Search demo and widgets"
readme = "README.md"
authors = [ {name = "HERE Global B.V. and its affiliate(s)", email = "590094+decitre@users.noreply.github.com"} ]
license = "MIT"
requires-python = ">=3.10"
classifiers = [
    "Development Status :: 4 - Beta",
    "Environment :: WebAssembly :: Emscripten",
    "Intended Audience :: Developers",
    "Natural Language :: English",
    "Programming Language :: Python :: 3",
    "Programming Language :: Python :: 3.10",
    "Programming Language :: Python :: 3.11",
    "Programming Language :: Python :: 3.12",
    "Programming Language :: Python :: 3.13",
    "Programming Language :: Python :: 3 :: Only",
    "Programming Language :: Python :: Implementation :: CPython",
]
dynamic = ["dependencies"]

[tool.setuptools.dynamic]
dependencies = {file = ["requirements/build.txt"]}

[project.urls]
homepage = "https://here.com"
repository = "https://github.com/heremaps/here-search-demo"

[project.optional-dependencies]
lab = [
    "aiohttp",
    "xyzservices"
]
dev = [
    "bumpver",
    "pytest",
    "pytest-asyncio",
    "pytest-cov",
    "ruff",
    "isort"
]

[tool.setuptools]
include-package-data = true

[tool.setuptools.packages.find]
where = ["src"]

[tool.setuptools.package-data]
"here_search_demo" = [
    "notebooks/obm_*.ipynb",
    "notebooks/*demo.ipynb",
    "notebooks/_install.py"
]

[tool.pytest.ini_options]
asyncio_mode = "auto"
asyncio_default_fixture_loop_scope = "function"
pythonpath = ["src"]

[tool.ruff]
exclude = [
    "*.ipynb",
]

[tool.isort]
skip = [
   "*.ipynb",
]

[bumpver]
current_version = "0.17.6"
version_pattern = "MAJOR.MINOR.PATCH"
commit_message = "bump version {old_version} -> {new_version}"
commit = true
tag = true
push = true

[bumpver.file_patterns]
"pyproject.toml" = [
    '^version = "{version}"',
    '^current_version = "{version}"',
]
"src/here_search/demo/notebooks/*.py" = [
    'here_search_demo-{version}-py3-none-any.whl'
]

import{d as y,e as f,f as i,aT as R,h as e,b0 as j,b as Q,C as F,c as G,r as J,o as O,E as D,ay as W,az as X,a3 as Z,au as tt,i as r,w as o,aA as at,I as l,l as t,N as x,a8 as g,a9 as w,F as et,aw as ot,t as c,ao as lt,s as b,S as q,ad as T,aP as E,B as st,V as nt,as as rt,aC as it,aD as ct,a$ as ut,a2 as pt}from"./index-BwlMlHGj.js";import{a as dt}from"./autoCali-BClfEyaO.js";import{u as ft}from"./autoCali-Bx2FKSKK.js";import{u as _t}from"./useInterval-C0oJbCEJ.js";import{C as ht}from"./ChevronBack-4qMPmFT6.js";const mt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32"},vt=y({name:"CloudSatelliteConfig",render:function(_,a){return i(),f("svg",mt,a[0]||(a[0]=[R('<path d="M32 26v-2h-2.101a4.968 4.968 0 0 0-.732-1.753l1.49-1.49l-1.414-1.414l-1.49 1.49A4.968 4.968 0 0 0 26 20.101V18h-2v2.101a4.968 4.968 0 0 0-1.753.732l-1.49-1.49l-1.414 1.414l1.49 1.49A4.968 4.968 0 0 0 20.101 24H18v2h2.101a4.968 4.968 0 0 0 .732 1.753l-1.49 1.49l1.414 1.414l1.49-1.49a4.968 4.968 0 0 0 1.753.732V32h2v-2.101a4.968 4.968 0 0 0 1.753-.732l1.49 1.49l1.414-1.414l-1.49-1.49A4.968 4.968 0 0 0 29.899 26zm-7 2a3 3 0 1 1 3-3a3.003 3.003 0 0 1-3 3z" fill="currentColor"></path><circle cx="7" cy="20" r="2" fill="currentColor"></circle><path d="M14 20a4 4 0 1 1 4-4a4.012 4.012 0 0 1-4 4zm0-6a2 2 0 1 0 2 2a2.006 2.006 0 0 0-2-2z" fill="currentColor"></path><circle cx="21" cy="12" r="2" fill="currentColor"></circle><path d="M13.02 28.271L3 22.427V9.574l11-6.416l11.496 6.706l1.008-1.728l-12-7a1 1 0 0 0-1.008 0l-12 7A1 1 0 0 0 1 9v14a1 1 0 0 0 .496.864L12.013 30z" fill="currentColor"></path>',5)]))}}),Ct={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32"},xt=y({name:"Menu",render:function(_,a){return i(),f("svg",Ct,a[0]||(a[0]=[e("path",{d:"M4 6h24v2H4z",fill:"currentColor"},null,-1),e("path",{d:"M4 24h24v2H4z",fill:"currentColor"},null,-1),e("path",{d:"M4 12h24v2H4z",fill:"currentColor"},null,-1),e("path",{d:"M4 18h24v2H4z",fill:"currentColor"},null,-1)]))}}),gt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32"},wt=y({name:"Queued",render:function(_,a){return i(),f("svg",gt,a[0]||(a[0]=[R('<defs></defs><path d="M22 20h8v2h-8z" fill="currentColor"></path><path d="M22 24h8v2h-8z" fill="currentColor"></path><path d="M22 28h8v2h-8z" fill="currentColor"></path><path d="M18 24h2v2h-2z" fill="currentColor"></path><path d="M18 20h2v2h-2z" fill="currentColor"></path><path d="M18 28h2v2h-2z" fill="currentColor"></path><path d="M6.815 8.293a12.078 12.078 0 0 1 3.192-2.673l-1-1.73a14.085 14.085 0 0 0-3.723 3.118z" fill="currentColor"></path><path d="M25.185 8.293l1.53-1.285a14.085 14.085 0 0 0-3.723-3.118l-.999 1.73a12.078 12.078 0 0 1 3.192 2.673z" fill="currentColor"></path><path d="M4.737 11.9l-1.878-.683A13.902 13.902 0 0 0 2 16h2a11.917 11.917 0 0 1 .737-4.1z" fill="currentColor"></path><path d="M6.815 23.707A11.998 11.998 0 0 1 4.737 20.1l-1.878.683a13.99 13.99 0 0 0 2.425 4.21z" fill="currentColor"></path><path d="M27.263 11.9A11.917 11.917 0 0 1 28 16h2a13.897 13.897 0 0 0-.86-4.783z" fill="currentColor"></path><path d="M13.918 27.807a11.89 11.89 0 0 1-3.911-1.427l-1 1.73a13.867 13.867 0 0 0 4.564 1.664z" fill="currentColor"></path><path d="M13.918 4.193a11.301 11.301 0 0 1 4.164 0l.347-1.967a13.187 13.187 0 0 0-4.858 0z" fill="currentColor"></path>',14)]))}}),yt={class:"-mt-1.5"},zt={class:"flex items-center gap-2"},Mt={class:"flex flex-1 gap-2"},kt={class:"text-2xl"},Dt={class:"text-xs opacity-70 font-mono"},bt={key:0},At={class:"text-xs opacity-70 font-mono"},Bt={key:0},It={class:"mt-5 flex-1"},Nt=y({__name:"AutoCaliDetail",setup(z){const _=ft(),{sessionInfo:a}=j(_),{t:u,locale:A}=Q(),h=F(),B=G(),m=J(),$=p=>{var s;B.push({name:p,query:{...h.query,space_id:(s=a.value)==null?void 0:s.space_id}})},K=()=>{B.push({name:"autoCaliList",query:{device_group_name:h.query.device_group_name}})},M=async()=>{var v;const[p,s]=await dt({session_id:+h.query.session_id});!p&&(s==null?void 0:s.status)===0&&(a.value=s.data,((v=s.data)==null?void 0:v.status)!==ut.RUNNING&&N())},{start:I,stop:N,runing:S}=_t(M,{isManual:!0});return O(()=>{D(()=>{S.value||(M(),I())})}),W(()=>{D(()=>{S.value||(M(),I())})}),X(()=>{D(()=>{N()})}),Z(h,p=>{m.value=p.name},{deep:!0,immediate:!0}),(p,s)=>{const v=st,k=at,C=lt,L=ot,P=rt,U=tt("router-view");return i(),f("div",yt,[e("div",null,[r(P,{type:"card",animated:"",class:"!h-full !w-auto",value:t(m),"onUpdate:value":s[0]||(s[0]=d=>nt(m)?m.value=d:null),onUpdateValue:$},{prefix:o(()=>[r(v,{onClick:K,quaternary:"",class:"!w-[140px] !justify-start !text-left"},{icon:o(()=>[r(t(x),{size:"26"},{default:o(()=>[r(t(ht))]),_:1})]),default:o(()=>[e("span",null,c(t(u)("groupDetail.autoCali.back")),1)]),_:1})]),suffix:o(()=>[t(et)(t(a))?w("",!0):(i(),g(L,{key:0,"show-icon":!1,type:"info",class:"h-[42px] py-1"},{default:o(()=>{var d,V,H;return[e("div",zt,[e("div",Mt,[e("div",kt,c((d=t(a))==null?void 0:d.task_name),1),r(C,{type:"warning",size:"large"},{default:o(()=>{var n;return[b("Session "+c((n=t(a))==null?void 0:n.session_id),1)]}),_:1}),r(C,{type:"primary",size:"large"},{default:o(()=>{var n;return[b(c((n=t(a))==null?void 0:n.space_name),1)]}),_:1}),r(C,{size:"large"},{default:o(()=>{var n,Y;return[e("div",Dt,[e("span",{class:q(["inline-block",[t(A)==="cn"?"w-8":"w-12"]])},c(t(u)("groupDetail.autoCali.start"))+":  ",3),(n=t(a))!=null&&n.start_time?(i(),f("span",bt,c(t(T)(t(a).start_time*1e3).format("YYYY-MM-DD HH:mm:ss")),1)):w("",!0)]),e("div",At,[e("span",{class:q(["inline-block",[t(A)==="cn"?"w-8":"w-12"]])},c(t(u)("groupDetail.autoCali.end"))+":  ",3),(Y=t(a))!=null&&Y.end_time?(i(),f("span",Bt,c(t(T)(t(a).end_time*1e3).format("YYYY-MM-DD HH:mm:ss")),1)):w("",!0)])]}),_:1}),(V=t(a))!=null&&V.status?(i(),g(C,{key:0,color:{color:t(E)[(H=t(a))==null?void 0:H.status].color,textColor:"#fff"},size:"large"},{default:o(()=>{var n;return[b(c(t(u)(t(E)[(n=t(a))==null?void 0:n.status].text)),1)]}),_:1},8,["color"])):w("",!0)])])]}),_:1}))]),default:o(()=>[r(k,{name:"autoCaliConfig",tab:l("div",{class:"flex items-center gap-2 h-8"},[l("div",{class:"flex"},l(t(x),{size:20,component:t(vt)})),l("div",t(u)("groupDetail.autoCali.config"))])},null,8,["tab"]),r(k,{name:"autoCaliProcess",tab:l("div",{class:"flex items-center gap-2"},[l("div",{class:"flex"},l(t(x),{size:20,component:t(wt)})),l("div",t(u)("groupDetail.autoCali.process"))])},null,8,["tab"]),r(k,{name:"autoCaliEntity",tab:l("div",{class:"flex items-center gap-2"},[l("div",{class:"flex"},l(t(x),{size:20,component:t(xt)})),l("div",t(u)("groupDetail.autoCali.entity"))])},null,8,["tab"])]),_:1},8,["value"]),e("div",It,[r(U,null,{default:o(({Component:d})=>[(i(),g(it,null,[(i(),g(ct(d),{key:p.$route.fullPath}))],1024))]),_:1})])])])}}}),Tt=pt(Nt,[["__scopeId","data-v-664654c1"]]);export{Tt as default};

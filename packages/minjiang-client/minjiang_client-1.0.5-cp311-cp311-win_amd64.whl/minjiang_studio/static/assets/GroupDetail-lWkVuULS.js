import{d as w,e as x,f as d,h as c,b as q,i as a,a9 as L,l as e,at as I,t as _,C as b,au as N,a8 as k,w as l,s as y,N as D,O as z,av as M,aw as $,ax as B,a2 as G,c as F,L as V,o as J,ay as T,az as E,aA as R,aB as j,as as H,aC as K,aD as P,aE as S,E as U}from"./index-BwlMlHGj.js";import{u as W}from"./useInterval-C0oJbCEJ.js";import{u as Q}from"./groupDetail-Bjf-6Lmm.js";import{_ as X}from"./Badge-B_uQt2zr.js";import{C as Y,A as Z,F as ee}from"./FlashAuto24Filled-DKJdUFaY.js";const te={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},se=w({name:"Home",render:function(p,s){return d(),x("svg",te,s[0]||(s[0]=[c("path",{d:"M261.56 101.28a8 8 0 0 0-11.06 0L66.4 277.15a8 8 0 0 0-2.47 5.79L63.9 448a32 32 0 0 0 32 32H192a16 16 0 0 0 16-16V328a8 8 0 0 1 8-8h80a8 8 0 0 1 8 8v136a16 16 0 0 0 16 16h96.06a32 32 0 0 0 32-32V282.94a8 8 0 0 0-2.47-5.79z",fill:"currentColor"},null,-1),c("path",{d:"M490.91 244.15l-74.8-71.56V64a16 16 0 0 0-16-16h-48a16 16 0 0 0-16 16v32l-57.92-55.38C272.77 35.14 264.71 32 256 32c-8.68 0-16.72 3.14-22.14 8.63l-212.7 203.5c-6.22 6-7 15.87-1.34 22.37A16 16 0 0 0 43 267.56L250.5 69.28a8 8 0 0 1 11.06 0l207.52 198.28a16 16 0 0 0 22.59-.44c6.14-6.36 5.63-16.86-.76-22.97z",fill:"currentColor"},null,-1)]))}}),ae={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},oe=w({name:"KeyboardArrowRightFilled",render:function(p,s){return d(),x("svg",ae,s[0]||(s[0]=[c("path",{d:"M8.59 16.59L13.17 12L8.59 7.41L10 6l6 6l-6 6l-1.41-1.41z",fill:"currentColor"},null,-1)]))}}),ne={class:"inline-flex items-center gap-2 min-w-8"},ie={key:0},re={class:"text-sm break-keep"},le=w({__name:"StatusBadge",props:{status:{}},setup(C){const{t:p}=q();return(s,o)=>{var g,v,r;return d(),x("div",ne,[a(e(X),{dot:"",type:(g=e(I)[s.status])==null?void 0:g.type,color:(v=e(I)[s.status])==null?void 0:v.color},null,8,["type","color"]),(r=e(I)[s.status])!=null&&r.text?(d(),x("span",ie,[c("span",re,_(e(p)(e(I)[s.status].text)),1)])):L("",!0)])}}}),ue={class:"min-h-8 flex justify-between gap-4"},ce={class:"flex gap-2 items-center"},pe={class:"text-xl font-bold"},me={class:"mt-2"},_e={class:"text-xl font-bold inline-flex items-center gap-1"},de={class:"text-sm font-light mt-2 opacity-60"},ge={class:"flex justify-end items-center gap-5"},fe=w({__name:"GroupInfo",setup(C){const p=b(),s=Q();return W(async()=>{const g=p.query.device_group_name;if(!g)return;const[v,r]=await B({device_group_name:g});if(!v&&(r==null?void 0:r.status)===0){const{space_list:i,...u}=r.data;s.groupInfo=u,s.spaceList=i.map(t=>({...t,label:t.space_name,value:t.space_id}))}}),(g,v)=>{const r=D,i=N("router-link"),u=$;return d(),k(u,{type:"info","show-icon":!1,class:"!py-0 !px-4"},{default:l(()=>{var t,n,f,m;return[c("div",ue,[c("div",ce,[c("span",pe,[a(i,{class:"cursor-pointer",to:{name:"deviceGroup",query:{org:(t=e(s).groupInfo)==null?void 0:t.organization_id}}},{default:l(()=>{var h;return[a(r,{component:e(z)},null,8,["component"]),y(" "+_((h=e(s).groupInfo)==null?void 0:h.organization_name),1)]}),_:1},8,["to"])]),c("span",me,[a(r,{size:"24",component:e(oe)},null,8,["component"])]),c("span",_e,[a(r,{component:e(M)},null,8,["component"]),y(" "+_((n=e(s).groupInfo)==null?void 0:n.device_group_name),1)]),c("span",de,_((f=e(s).groupInfo)==null?void 0:f.description),1)]),c("div",ge,[(m=e(s).groupInfo)!=null&&m.status?(d(),k(le,{key:0,status:e(s).groupInfo.status},null,8,["status"])):L("",!0)])])]}),_:1})}}}),ve=G(fe,[["__scopeId","data-v-f9e7ab5b"]]),ye={class:"mt-5"},ke=w({__name:"GroupDetail",setup(C){const{t:p}=q(),s=F(),o=b(),g=V(()=>{let i="";return["overview","task","deviceManager","parameterManager","autoCaliList","autoCaliDetail","utilities"].some(t=>{if(o.matched.find(n=>n.name&&t.includes(n.name)))return i=t==="autoCaliDetail"?"autoCaliList":t,!0}),i}),v=i=>{o.name==="taskList"?sessionStorage.setItem("isex",""):o.name==="experimentList"?sessionStorage.setItem("isex",JSON.stringify(o.query)):o.name==="autoCaliList"?sessionStorage.setItem("isal",""):o.name==="autoCaliConfig"?sessionStorage.setItem("isal",JSON.stringify({q:o.query,k:"ac"})):o.name==="autoCaliProcess"?sessionStorage.setItem("isal",JSON.stringify({q:o.query,k:"ap"})):o.name==="autoCaliEntity"&&sessionStorage.setItem("isal",JSON.stringify({q:o.query,k:"ae"})),U(()=>{const u=sessionStorage.getItem("isex");let t={};try{t=JSON.parse(u||"{}")}catch(f){console.log(f),t={}}const n={device_group_name:o.query.device_group_name,...t};if(i==="task")u?s.push({name:"experimentList",query:n}):s.push({name:"taskList",query:n});else if(i==="autoCaliList"){const f=sessionStorage.getItem("isal");let m={};try{m=JSON.parse(f||"{}")}catch(O){console.log(O),m={}}const h={device_group_name:o.query.device_group_name,...m.q||{}},A={ac:"autoCaliConfig",ae:"autoCaliEntity",ap:"autoCaliProcess"};s.push({name:m.k?A[m.k]:"autoCaliList",query:h})}else s.push({name:i,query:{device_group_name:o.query.device_group_name,...t}})})},r=()=>{var n;const i=o.query.device_group_name,u=S(sessionStorage.getItem("isex"));(u==null?void 0:u.device_group_name)!==i&&sessionStorage.removeItem("isex");const t=S(sessionStorage.getItem("isal"));((n=t==null?void 0:t.q)==null?void 0:n.device_group_name)!==i&&sessionStorage.removeItem("isal")};return J(()=>{r()}),T(()=>{r()}),E(()=>{sessionStorage.removeItem("isex"),sessionStorage.removeItem("isal")}),(i,u)=>{const t=D,n=R,f=H,m=N("router-view");return d(),x("div",null,[a(f,{type:"line",animated:"",size:"large","justify-content":"space-evenly","display-directive":"show","onUpdate:value":v,value:e(g)},{prefix:l(()=>[a(ve)]),default:l(()=>[a(n,{name:"overview"},{default:l(()=>[a(t,{class:"mr-1",component:e(se)},null,8,["component"]),y(" "+_(e(p)("groupDetail.overview.tabName")),1)]),_:1}),a(n,{name:"task"},{default:l(()=>[a(t,{class:"mr-1"},{default:l(()=>[a(e(Y))]),_:1}),y(" "+_(e(p)("groupDetail.taskList.tabTitle")),1)]),_:1}),a(n,{name:"parameterManager"},{default:l(()=>[a(t,{class:"mr-1"},{default:l(()=>[a(e(Z))]),_:1}),y(" "+_(e(p)("groupDetail.parameterManager.tabName")),1)]),_:1}),a(n,{name:"autoCaliList"},{default:l(()=>[a(t,{class:"mr-1"},{default:l(()=>[a(e(ee))]),_:1}),y(" "+_(e(p)("groupDetail.autoCali.tabName")),1)]),_:1}),a(n,{name:"utilities"},{default:l(()=>[a(t,{class:"mr-1"},{default:l(()=>[a(e(j))]),_:1}),y(" "+_(e(p)("groupDetail.utilities.tabName")),1)]),_:1})]),_:1},8,["value"]),c("div",ye,[a(m,null,{default:l(({Component:h})=>[(d(),k(K,null,[(d(),k(P(h),{key:i.$route.path}))],1024))]),_:1})])])}}});export{ke as default};

{% extends 'allianceauth/base-bs5.html' %}
{% load i18n %}

{% block page_title %}
    {{ page_title}}
{% endblock %}

{% block header_nav_brand %}
    <a class="nav-link text-white link-light link-underline link-underline-opacity-0" href="{% url 'skillfarm:index' %}">Skillfarm</a>
{% endblock header_nav_brand %}

{% block header_nav_collapse_left %}
    {% include 'skillfarm/partials/navigation.html' %}
{% endblock header_nav_collapse_left %}

{% block header_nav_collapse_right %}
    {% include 'skillfarm/partials/administration.html' %}
{% endblock header_nav_collapse_right %}

{% block content %}
    <div class="aa-skillfarm">
        <div class="aa-skillfarm-body">
            {% get_datatables_language_static LANGUAGE_CODE as DT_LANG_PATH %}
            <script type="application/javascript">
                const aaSkillfarmDeafaultSettings = {
                    // Alliance Auth settings
                    locale: '{{ LANGUAGE_CODE }}',
                    csrfToken: '{{ csrf_token }}',
                    // Skillfarm settings
                    characterPk: '{{ character_id }}',
                    updateInterval: '{{ update_interval }}',
                    dataTables: {
                        paging: true,
                        language: {url: '{{ DT_LANG_PATH }}'},
                        layout: {
                            topStart: 'pageLength',
                            topEnd: null,
                            bottomStart: 'info',
                            bottomEnd: 'paging'
                        },
                        ordering: {
                            indicators: false,
                            handler: false
                        },
                        columnControl: [
                            {
                                target: 0,
                                content: [
                                    'order',
                                ]
                            },
                            {
                                target: 1,
                                content: [
                                    'search'
                                ]
                            }
                        ]
                    },
                    translations: {
                        character: '{% translate "Character" %}',
                        progress: '{% translate "Progress" %}',
                        skillInfo: '{% translate "Skill Info" %}',
                        lastUpdated: '{% translate "Last Updated" %}',
                        filter: '{% translate "Filter" %}',
                        actions: '{% translate "Actions" %}',
                        errorLoadingData: '{% translate "Error loading data:" %}',
                    },
                };
            </script>
            {% block skillfarm_block %}
                <!-- Content goes here -->
            {% endblock %}
        </div>
    </div>
{% endblock %}

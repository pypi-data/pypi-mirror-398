'\" t
.\" Automatically generated by Pandoc 3.8.3
.\"
.TH "dataset-translator" "1" "" ""
.SH \f[CR]dataset\-translator\f[R]
[IMAGE: \c
.UR https://img.shields.io/badge/python-3.8%20%7C%203.9%20%7C%203.10%20%7C%203.11%20%7C%203.12%20%7C%203.13%20%7C%203.14-blue
Python version
.UE \c
] \c
.UR https://pypi.org/project/dataset-translator/
[IMAGE: \c
.UR https://badge.fury.io/py/dataset-translator.svg?icon=si%3Apython
PyPI version
.UE \c
]
.UE \c
\ [IMAGE: \c
.UR https://img.shields.io/badge/license-MIT-blue
License
.UE \c
] [IMAGE: Tests]
.PP
A robust CLI tool for translating text columns in datasets using Google
Translate, with support for protected words, retries, and checkpoint
recovery.
Works with both the unofficial Google Translate backend (free) and the
Google Cloud Translation API.
.RS
.PP
[!TIP] Check the \c
.UR https://github.com/users/ivanvmoreno/projects/1/views/3?system_template=iterative_development
prioritized backlog
.UE \c
\ for ideas to contribute, or to get an idea of what\(cqs coming next!
.RE
.SS Features
.IP \(bu 2
\f[B]üìÑ Supports multiple input and output formats\f[R]
.RS 2
.IP \(bu 2
Supports \f[CR]CSV\f[R], \f[CR]Parquet\f[R], \f[CR]JSONL\f[R] inputs and
outputs, with automatic format detection.
.RE
.IP \(bu 2
\f[B]‚ö°Ô∏è Asynchronous\f[R]
.RS 2
.IP \(bu 2
Leverages Python\(cqs \f[CR]asyncio\f[R] for concurrent translation of
text batches.
.RE
.IP \(bu 2
\f[B]üì¶ Batch Processing\f[R]
.RS 2
.IP \(bu 2
Translates texts in batches to improve API efficiency.
.RE
.IP \(bu 2
\f[B]üíæ Checkpointing\f[R]
.RS 2
.IP \(bu 2
Saves completed translations periodically to prevent data loss during
long\-running tasks.
Supports resuming from the last checkpoint.
.RE
.IP \(bu 2
\f[B]üåç Multi\-target Translation\f[R]
.RS 2
.IP \(bu 2
Translate to multiple target languages in a single run.
.RE
.IP \(bu 2
\f[B]üîÑ Retry Mechanism\f[R]
.RS 2
.IP \(bu 2
Automatically retries failed translation batches with exponential
backoff.
.RE
.IP \(bu 2
\f[B]üõ°Ô∏è Protected Words\f[R]
.RS 2
.IP \(bu 2
Preserves specific terms/phrases from being translated.
.RE
.IP \(bu 2
\f[B]üöë Failure Handling\f[R]
.RS 2
.IP \(bu 2
Supports re\-processing of previously failed translations using a
dedicated \(lqonly\-failed\(rq mode.
.RE
.IP \(bu 2
\f[B]üß≠ Auto Source Detection\f[R]
.RS 2
.IP \(bu 2
Omit the source language to auto\-detect it (per batch).
.RE
.IP \(bu 2
\f[B]üß© Schema Control\f[R]
.RS 2
.IP \(bu 2
Filter by column types and optionally replace columns in\-place.
.RE
.IP \(bu 2
\f[B]ü§ó Hugging Face Datasets\f[R]
.RS 2
.IP \(bu 2
Translate datasets from the Hub with support for subsets/configs,
splits, and column type filters.
.RE
.IP \(bu 2
\f[B]üßæ Translation Metadata\f[R]
.RS 2
.IP \(bu 2
Writes \f[CR]translation_metadata.json\f[R] alongside outputs for
reproducibility and traceability.
.RE
.IP \(bu 2
\f[B]üß∞ HF Subset Management\f[R]
.RS 2
.IP \(bu 2
Saves translated subsets as \f[CR]<subset>\-<lang>\f[R] and can merge
them into a unified dataset.
.RE
.IP \(bu 2
\f[B]‚òÅÔ∏è Hub Uploads\f[R]
.RS 2
.IP \(bu 2
Optionally push translated HF datasets to the Hugging Face Hub.
.RE
.IP \(bu 2
\f[B]üåê Proxy Support\f[R]
.RS 2
.IP \(bu 2
Supports HTTP/HTTPS proxies for network requests.
.RE
.SS ‚úã Important Notes and Limitations
.IP \(bu 2
This project is not affiliated with Google.
.IP \(bu 2
This project supports two backends: the unofficial web API via \c
.UR https://github.com/ssut/py-googletrans#how-does-this-library-work
py\-googletrans
.UE \c
\ and the official Google Cloud Translation API.
The CLI is designed for feature parity across both.
.IP \(bu 2
To use Google Cloud Translation API, pass \f[CR]\-\-use\-cloud\-api\f[R]
and ensure the Cloud Translation API is enabled for your project and
credentials.
.IP \(bu 2
Maximum length per text is \f[CR]15,000\f[R] characters for the
unofficial Google Translate backend.
.IP \(bu 2
When using the unofficial backend, your IP may be at risk of being
blocked by Google if you abuse the service.
Use responsibly (or consider using a proxy; see \f[CR]\-\-proxy\f[R]
option).
.SS Installation
.IP
.EX
> pip install \-U dataset\-translator
> dataset\-translator \-\-help
.EE
.SS Usage
.IP
.EX
> dataset\-translator <path_to_dataset> ./output eu \(rs
  \-c instruction \-c output
.EE
.PP
Multi\-target example (comma\-separated targets):
.IP
.EX
> dataset\-translator <path_to_dataset> ./output en es,fr,de \(rs
  \-c instruction \-c output
.EE
.PP
You can omit the source language to auto\-detect it:
.IP
.EX
> dataset\-translator <path_to_dataset> ./output es \(rs
  \-c instruction \-c output
.EE
.SS Output Layout
Each run creates a dedicated subdirectory under \f[CR]save_dir\f[R] to
prevent collisions:
.IP \(bu 2
\f[CR]<save_dir>/<dataset>__<source>_to_<target>/<dataset>_<target>.<format>\f[R]
(use \f[CR]auto\f[R] when source is auto\-detected)
.IP \(bu 2
Checkpoints: \f[CR]checkpoints/batches/checkpoint_XXXX.<format>\f[R]
.IP \(bu 2
Failures: \f[CR]checkpoints/failures/translation_failures.csv\f[R] (or
\f[CR].parquet\f[R] for parquet inputs)
.IP \(bu 2
Translation metadata: \f[CR]translation_metadata.json\f[R]
.SS Key Options
The \f[CR]target_lang\f[R] positional argument can be a single language
code or a comma\-separated list for multi\-target output.
If \f[CR]source_lang\f[R] is omitted, it defaults to auto\-detection.
.PP
.TS
tab(@);
lw(26.7n) lw(43.3n).
T{
Option
T}@T{
Description
T}
_
T{
\f[CR]\-\-columns \(rs| \-c\f[R]
T}@T{
Columns to translate (multiple allowed).
Defaults to string columns.
You can pass this flag multiple times for several columns.
T}
T{
\f[CR]\-\-column\-type \(rs| \-t\f[R]
T}@T{
Filter columns by type (\f[CR]string\f[R], \f[CR]list[string]\f[R]).
Can be provided multiple times or comma\-separated.
T}
T{
\f[CR]\-\-protected\-words \(rs| \-p\f[R]
T}@T{
Comma\-separated list or \f[CR]\(atfile.txt\f[R] of protected words.
T}
T{
\f[CR]\-\-file\-format \(rs| \-f\f[R]
T}@T{
File format (\f[CR]csv\f[R], \f[CR]parquet\f[R], \f[CR]jsonl\f[R],
\f[CR]auto\f[R]).
If not specified, file format will be inferred from the input file path.
(default: \f[CR]auto\f[R]).
T}
T{
\f[CR]\-\-output\-file\-format\f[R]
T}@T{
Output file format (\f[CR]csv\f[R], \f[CR]parquet\f[R],
\f[CR]jsonl\f[R], \f[CR]auto\f[R]).
If not specified, output format will be fallback to input file format.
(default: \f[CR]auto\f[R]).
T}
T{
\f[CR]\-\-replace\-columns\f[R]
T}@T{
Replace translated columns in\-place to keep the output schema identical
to the input.
T}
T{
\f[CR]\-\-batch\-size \(rs| \-b\f[R]
T}@T{
Number of texts per translation request (default: \f[CR]20\f[R]).
T}
T{
\f[CR]\-\-max\-concurrency\f[R]
T}@T{
Maximum concurrent translation requests (default: \f[CR]10\f[R]).
T}
T{
\f[CR]\-\-checkpoint\-step\f[R]
T}@T{
Number of successful translations between checkpoints (default:
\f[CR]100\f[R]).
T}
T{
\f[CR]\-\-max\-retries\f[R]
T}@T{
Maximum retry attempts per batch before marking as failed (default:
\f[CR]3\f[R]).
T}
T{
\f[CR]\-\-max\-failure\-cycles\f[R]
T}@T{
Number of full retry cycles for previously failed translations (default:
\f[CR]3\f[R]).
T}
T{
\f[CR]\-\-only\-failed\f[R]
T}@T{
Process only previously failed translations from the checkpoint
directory (default: \f[CR]False\f[R]).
T}
T{
\f[CR]\-\-rate\-limit\f[R]
T}@T{
Max translation requests per second (applied per batch).
T}
T{
\f[CR]\-\-proxy\f[R]
T}@T{
HTTP/HTTPS proxy URL.
Protocol must be specified.
(e.g., \f[CR]http://<proxy_host>:<proxy_port>\f[R]).
T}
T{
\f[CR]\-\-use\-cloud\-api\f[R]
T}@T{
Use Google Cloud Translation API (auth via standard Google Cloud
credentials).
T}
T{
\f[CR]\-\-hf\-cache\-dir\f[R]
T}@T{
Shared Hugging Face cache directory (defaults to
\f[CR]<save_dir>/../hf_cache\f[R]).
T}
T{
\f[CR]\-\-help\f[R]
T}@T{
Show help message and exit.
T}
.TE
.SS Hugging Face Datasets ü§ó
Translate datasets from the Hub by passing \f[CR]\-\-hf\f[R] and using
the dataset name in place of the input path.
.PP
Each translation run creates a new subset directory named
\f[CR]<subset>\-<lang_code>\f[R] (or
\f[CR]<dataset_name>\-<lang_code>\f[R] when no subset is provided) under
\f[CR]save_dir/<dataset_name>/\f[R], saved as a Hugging Face dataset
with translated splits.
.PP
Downloads are cached locally in a shared sibling directory
(\f[CR]<save_dir>/../hf_cache\f[R]) and reused on resume.
.PP
Each translated subset includes a \f[CR]translation_metadata.json\f[R]
file with the configuration used for reproducibility.
.PP
Checkpoints for each split are stored under
\f[CR]checkpoints/<split>\f[R] within the subset directory.
.PP
If \f[CR]\-\-merge\-translated\-subsets\f[R] is used, a unified dataset
is written to \f[CR]save_dir/<dataset_name>/merged/\f[R] containing the
original splits plus \f[CR]<split>\-<lang>\f[R] translated splits.
.PP
When pushing merged datasets to the Hub, translated split names use
underscores (\f[CR]<split>_<lang>\f[R]) to satisfy Hub split naming
rules.
.IP
.EX
> dataset\-translator imdb ./output en es \(rs
  \-\-hf \(rs
  \-\-split train \-\-split test \(rs
  \-\-column\-type string
.EE
.PP
Use \f[CR]\-\-subset\f[R] (or \f[CR]\-\-config\f[R]) for dataset
configurations, and \f[CR]\-\-columns\f[R] / \f[CR]\-\-column\-type\f[R]
to control which fields get translated (defaults to string columns).
.PP
Common HF options:
.PP
.TS
tab(@);
lw(26.7n) lw(43.3n).
T{
Option
T}@T{
Description
T}
_
T{
\f[CR]\-\-hf\f[R]
T}@T{
Treat the input path as a Hugging Face dataset name.
T}
T{
\f[CR]\-\-subset \(rs| \-\-config\f[R]
T}@T{
Dataset subset/config name.
T}
T{
\f[CR]\-\-split \(rs| \-s\f[R]
T}@T{
Split(s) to translate; can be provided multiple times.
T}
T{
\f[CR]\-\-merge\-translated\-subsets\f[R]
T}@T{
Merge per\-language translated subsets into a single dataset root with
\f[CR]<split>\-<lang>\f[R] split names, keeping the original splits
intact.
T}
T{
\f[CR]\-\-push\-to\-hub\f[R]
T}@T{
Push translated HF dataset(s) to the Hub.
Use \f[CR]{lang}\f[R] placeholder in the repo ID name template for
per\-language outputs (omit \f[CR]{lang}\f[R] when using
\f[CR]\-\-merge\-translated\-subsets\f[R]).
Missing repos are created automatically.
If you omit the namespace, the logged\-in user is used.
T}
T{
\f[CR]\-\-hub\-private\f[R]
T}@T{
Create/push the Hub repo as private (HF only).
T}
.TE
.SS Supported Languages
Here is the list of languages supported by the Google Translate
backends.
.PP
.TS
tab(@);
l l.
T{
Code
T}@T{
Language
T}
_
T{
af
T}@T{
Afrikaans
T}
T{
sq
T}@T{
Albanian
T}
T{
am
T}@T{
Amharic
T}
T{
ar
T}@T{
Arabic
T}
T{
hy
T}@T{
Armenian
T}
T{
as
T}@T{
Assamese
T}
T{
ay
T}@T{
Aymara
T}
T{
az
T}@T{
Azerbaijani
T}
T{
bm
T}@T{
Bambara
T}
T{
eu
T}@T{
Basque
T}
T{
be
T}@T{
Belarusian
T}
T{
bn
T}@T{
Bengali
T}
T{
bho
T}@T{
Bhojpuri
T}
T{
bs
T}@T{
Bosnian
T}
T{
bg
T}@T{
Bulgarian
T}
T{
ca
T}@T{
Catalan
T}
T{
ceb
T}@T{
Cebuano
T}
T{
ny
T}@T{
Chichewa
T}
T{
zh\-CN
T}@T{
Chinese (Simplified)
T}
T{
zh\-TW
T}@T{
Chinese (Traditional)
T}
T{
co
T}@T{
Corsican
T}
T{
hr
T}@T{
Croatian
T}
T{
cs
T}@T{
Czech
T}
T{
da
T}@T{
Danish
T}
T{
fa\-AF
T}@T{
Dari
T}
T{
dv
T}@T{
Dhivehi
T}
T{
doi
T}@T{
Dogri
T}
T{
nl
T}@T{
Dutch
T}
T{
en
T}@T{
English
T}
T{
eo
T}@T{
Esperanto
T}
T{
et
T}@T{
Estonian
T}
T{
ee
T}@T{
Ewe
T}
T{
tl
T}@T{
Filipino
T}
T{
fi
T}@T{
Finnish
T}
T{
fr
T}@T{
French
T}
T{
fy
T}@T{
Frisian
T}
T{
gl
T}@T{
Galician
T}
T{
ka
T}@T{
Georgian
T}
T{
de
T}@T{
German
T}
T{
el
T}@T{
Greek
T}
T{
gn
T}@T{
Guarani
T}
T{
gu
T}@T{
Gujarati
T}
T{
ht
T}@T{
Haitian Creole
T}
T{
ha
T}@T{
Hausa
T}
T{
haw
T}@T{
Hawaiian
T}
T{
iw
T}@T{
Hebrew
T}
T{
hi
T}@T{
Hindi
T}
T{
hmn
T}@T{
Hmong
T}
T{
hu
T}@T{
Hungarian
T}
T{
is
T}@T{
Icelandic
T}
T{
ig
T}@T{
Igbo
T}
T{
ilo
T}@T{
Ilocano
T}
T{
id
T}@T{
Indonesian
T}
T{
ga
T}@T{
Irish
T}
T{
it
T}@T{
Italian
T}
T{
ja
T}@T{
Japanese
T}
T{
jw
T}@T{
Javanese
T}
T{
kn
T}@T{
Kannada
T}
T{
kk
T}@T{
Kazakh
T}
T{
km
T}@T{
Khmer
T}
T{
rw
T}@T{
Kinyarwanda
T}
T{
gom
T}@T{
Konkani
T}
T{
ko
T}@T{
Korean
T}
T{
kri
T}@T{
Krio
T}
T{
ku
T}@T{
Kurdish (Kurmanji)
T}
T{
ckb
T}@T{
Kurdish (Sorani)
T}
T{
ky
T}@T{
Kyrgyz
T}
T{
lo
T}@T{
Lao
T}
T{
la
T}@T{
Latin
T}
T{
lv
T}@T{
Latvian
T}
T{
ln
T}@T{
Lingala
T}
T{
lt
T}@T{
Lithuanian
T}
T{
lg
T}@T{
Luganda
T}
T{
lb
T}@T{
Luxembourgish
T}
T{
mk
T}@T{
Macedonian
T}
T{
mai
T}@T{
Maithili
T}
T{
mg
T}@T{
Malagasy
T}
T{
ms
T}@T{
Malay
T}
T{
ms\-Arab
T}@T{
Malay (Jawi)
T}
T{
ml
T}@T{
Malayalam
T}
T{
mt
T}@T{
Maltese
T}
T{
mi
T}@T{
Maori
T}
T{
mr
T}@T{
Marathi
T}
T{
mni\-Mtei
T}@T{
Meiteilon (Manipuri)
T}
T{
lus
T}@T{
Mizo
T}
T{
mn
T}@T{
Mongolian
T}
T{
my
T}@T{
Myanmar (Burmese)
T}
T{
ne
T}@T{
Nepali
T}
T{
bm\-Nkoo
T}@T{
NKo
T}
T{
no
T}@T{
Norwegian
T}
T{
or
T}@T{
Odia (Oriya)
T}
T{
om
T}@T{
Oromo
T}
T{
ps
T}@T{
Pashto
T}
T{
fa
T}@T{
Persian
T}
T{
pl
T}@T{
Polish
T}
T{
pt
T}@T{
Portuguese (Brazil)
T}
T{
pt\-PT
T}@T{
Portuguese (Portugal)
T}
T{
pa
T}@T{
Punjabi (Gurmukhi)
T}
T{
pa\-Arab
T}@T{
Punjabi (Shahmukhi)
T}
T{
qu
T}@T{
Quechua
T}
T{
ro
T}@T{
Romanian
T}
T{
ru
T}@T{
Russian
T}
T{
sm
T}@T{
Samoan
T}
T{
sa
T}@T{
Sanskrit
T}
T{
gd
T}@T{
Scots Gaelic
T}
T{
nso
T}@T{
Sepedi
T}
T{
sr
T}@T{
Serbian
T}
T{
st
T}@T{
Sesotho
T}
T{
sn
T}@T{
Shona
T}
T{
sd
T}@T{
Sindhi
T}
T{
si
T}@T{
Sinhala
T}
T{
sk
T}@T{
Slovak
T}
T{
sl
T}@T{
Slovenian
T}
T{
so
T}@T{
Somali
T}
T{
es
T}@T{
Spanish
T}
T{
su
T}@T{
Sundanese
T}
T{
sw
T}@T{
Swahili
T}
T{
sv
T}@T{
Swedish
T}
T{
tg
T}@T{
Tajik
T}
T{
ta
T}@T{
Tamil
T}
T{
tt
T}@T{
Tatar
T}
T{
te
T}@T{
Telugu
T}
T{
th
T}@T{
Thai
T}
T{
ti
T}@T{
Tigrinya
T}
T{
ts
T}@T{
Tsonga
T}
T{
tr
T}@T{
Turkish
T}
T{
tk
T}@T{
Turkmen
T}
T{
ak
T}@T{
Twi
T}
T{
uk
T}@T{
Ukrainian
T}
T{
ur
T}@T{
Urdu
T}
T{
ug
T}@T{
Uyghur
T}
T{
uz
T}@T{
Uzbek
T}
T{
vi
T}@T{
Vietnamese
T}
T{
cy
T}@T{
Welsh
T}
T{
xh
T}@T{
Xhosa
T}
T{
yi
T}@T{
Yiddish
T}
T{
yo
T}@T{
Yoruba
T}
T{
zu
T}@T{
Zulu
T}
.TE
.PP
\c
.UR https://github.com/ssut/py-googletrans/issues/408#issuecomment-2246262832
Source
.UE \c
.SS Development
.SS \f[CR]man\f[R] Page from \f[CR]README.md\f[R]
.IP
.EX
pandoc \-s \-f markdown \-t man README.md \-V title=\(dqdataset\-translator\(dq \-V section=1 \-o docs/dataset\-translator.1
.EE

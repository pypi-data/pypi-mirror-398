{% load i18n %}

{% if cl.paginator.num_pages > 1 %}
    <div class="paginator">
        {% if cl.paginator.page_range|length > 10 %}
            {% if cl.page_num > 5 %}
                <a href="?{% if cl.is_popup %}_popup=1{% endif %}{% if cl.preserved_filters %}&{{ cl.preserved_filters }}{% endif %}p=1" class="page-link">{% trans "First" %}</a>
            {% endif %}
        {% endif %}
        
        {% for page_num in cl.paginator.page_range %}
            {% if page_num == cl.page_num %}
                <span class="this-page">{{ page_num }}</span>
            {% elif page_num > cl.page_num|add:"-5" and page_num < cl.page_num|add:"5" %}
                <a href="?{% if cl.is_popup %}_popup=1{% endif %}{% if cl.preserved_filters %}&{{ cl.preserved_filters }}{% endif %}p={{ page_num }}" class="page-link">{{ page_num }}</a>
            {% endif %}
        {% endfor %}
        
        {% if cl.paginator.page_range|length > 10 %}
            {% if cl.page_num < cl.paginator.num_pages|add:"-5" %}
                <a href="?{% if cl.is_popup %}_popup=1{% endif %}{% if cl.preserved_filters %}&{{ cl.preserved_filters }}{% endif %}p={{ cl.paginator.num_pages }}" class="page-link">{% trans "Last" %}</a>
            {% endif %}
        {% endif %}
        
        <span class="paginator-info">
            {% blocktrans with cl.result_count as total_count %}Showing {{ cl.page_num }} of {{ total_count }} results{% endblocktrans %}
        </span>
    </div>
{% endif %}


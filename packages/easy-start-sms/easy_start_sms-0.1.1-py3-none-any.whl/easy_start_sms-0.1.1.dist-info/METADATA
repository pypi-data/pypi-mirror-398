Metadata-Version: 2.4
Name: easy-start-sms
Version: 0.1.1
Summary: easy_start_sms 是一个用于短信集成的 Python 包，旨在简化常见的短信操作，如发送短信等。该包提供了直观的 API，支持 httpx 库。
Home-page: https://gitee.com/guolei19850528/easy_start_sms
Author: guolei
Author-email: 174000902@qq.com
Classifier: Programming Language :: Python :: 3
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Requires-Python: >=3.6
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: httpx
Requires-Dist: jsonschema
Dynamic: author
Dynamic: author-email
Dynamic: classifier
Dynamic: description
Dynamic: description-content-type
Dynamic: home-page
Dynamic: license-file
Dynamic: requires-dist
Dynamic: requires-python
Dynamic: summary

# easy-start-sms

## 项目介绍

easy-start-sms 是一个用于与中国移动短信平台 API 交互的 Python 包，提供了简洁易用的接口来发送短信。该包支持同步和异步两种发送方式，自动处理签名生成、请求参数构建和响应解析，大大简化了短信发送流程。

## 功能特性

- **同步和异步支持**：提供同步和异步两种发送短信的方法
- **自动签名生成**：自动处理 API 认证所需的签名生成
- **参数验证**：内置 JSON Schema 验证，确保 API 响应符合预期
- **灵活配置**：支持自定义 API 地址、账号信息等参数
- **错误处理**：自动处理请求和响应中的错误

## 技术栈

- Python 3.6+
- httpx (HTTP 客户端，支持同步和异步)
- jsonschema (用于验证 API 响应)

## 安装说明

### 使用 pip 安装

```bash
pip install easy-start-sms
```

### 从源码安装

```bash
git clone <项目仓库地址>
cd easy_start_sms
pip install -r requirements.txt
pip install -e .
```

## 使用示例

### 同步发送短信

```python
from easy_start_sms.lmobile import Sender

# 创建 Sender 实例
sender = Sender(
    account_id="your_account_id",
    password="your_password",
    product_id="your_product_id"
)

# 发送短信
success = sender.send_sms(
    phone_nos="13800138000,13900139000",  # 多个号码用逗号分隔
    content="【您的签名】这是一条测试短信"
)

print(f"短信发送{'成功' if success else '失败'}")
```

### 异步发送短信

```python
import asyncio
from easy_start_sms.lmobile import Sender

async def send_sms_async():
    # 创建 Sender 实例
    sender = Sender(
        account_id="your_account_id",
        password="your_password",
        product_id="your_product_id"
    )

    # 异步发送短信
    success = await sender.async_send_sms(
        phone_nos="13800138000",
        content="【您的签名】这是一条异步测试短信"
    )

    print(f"异步短信发送{'成功' if success else '失败'}")

# 运行异步函数
asyncio.run(send_sms_async())
```

### 使用自定义 HTTP 客户端

```python
from easy_start_sms.lmobile import Sender
import httpx

# 创建自定义 HTTP 客户端
client = httpx.Client(timeout=30)

try:
    sender = Sender(
        account_id="your_account_id",
        password="your_password",
        product_id="your_product_id"
    )

    # 使用自定义客户端发送短信
    success = sender.send_sms(
        client=client,
        phone_nos="13800138000",
        content="【您的签名】使用自定义客户端发送的短信"
    )

    print(f"短信发送{'成功' if success else '失败'}")
finally:
    client.close()
```


## 依赖说明

| 依赖包 | 用途 |
| ------ | ---- |
| httpx | HTTP 客户端，支持同步和异步请求 |
| jsonschema | 用于验证 API 响应的 JSON Schema 验证器 |

## 版本历史

### 0.1.1 (当前版本)
- 实现同步和异步短信发送功能
- 支持自动签名生成和参数验证

## 许可证

MIT License

## 作者信息

- 作者：郭磊
- 邮箱：174000902@qq.com

{# src/devbooster/templates/egov/oracle/controller.java.j2 #}

package egovframework.{{ module }}.web;

import egovframework.{{ module }}.service.{{ class_name }}Service;
import egovframework.{{ module }}.service.{{ class_name }}VO;

import javax.annotation.Resource;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.servlet.mvc.support.RedirectAttributes;

/**
  * {{ class_name }}Controller
  */
@Controller
@RequestMapping("/{{ module }}")
public class Egov{{ class_name }}Controller {

    @Resource(name = "{{ module | camel }}Service")
    private {{ class_name }}Service {{ module | camel }}Service;

    /**
      * {{ table.name }} 목록화면
      */
    @RequestMapping("/{{ module }}List.do")
    public String list({{ class_name }}VO vo, Model model) throws Exception {
        model.addAttribute("resultList",{{ module | camel }}Service.select{{ class_name }}List(vo));
        return "{{ module }}/{{ module }}List";
    }

    /**
      * {{ table.name }} 상세화면
      */
    @RequestMapping("/{{ module }}View.do")
    public String view({{ class_name }}VO vo, Model model) throws Exception {
        model.addAttribute("result",{{ module | camel }}Service.select{{ class_name }}(vo));
        return "{{ module }}/{{ module }}View";
    }

    /**
      * {{ table.name }} 등록화면
      */
    @RequestMapping("/{{ module }}RegisterView.do")
    public String registerView() {
        return "{{ module }}/{{ module }}Register";
    }

    /**
      * {{ table.name }} 등록처리
      */
    @RequestMapping("/{{ module }}Register.do")
    public String Register({{ class_name }}VO vo, RedirectAttributes redirectAttributes) throws Exception {
        {{ module | camel }}Service.insert{{ class_name }}(vo);
        redirectAttributes.addFlashAttribute("message","등록되었습니다");
        return "redirect:/{{ module }}/{{ module }}List.do";
    }

    /**
      * {{ table.name }} 수정화면
      */
    @RequestMapping("/{{ module }}ModifyView.do")
    public String modifyView({{ class_name }}VO vo, Model model) throws Exception {
        model.addAttribute("result",{{ module | camel }}Service.select{{ class_name }}(vo));
        return "{{ module }}/{{ module }}Modify";
    }

    /**
      * {{ table.name }} 수정처리
      */
    @RequestMapping("/{{ module }}Modify.do")
    public String modify({{ class_name }}VO vo, RedirectAttributes redirectAttributes) throws Exception {
        {{ module | camel }}Service.update{{ class_name }}(vo);
        redirectAttributes.addFlashAttribute("message", "수정되었습니다");
        return "redirect:/{{ module }}/{{ module }}View.do";
    }

    /**
      * {{ table.name }} 삭제처리
      */
    @RequestMapping("/{{ module }}Delete.do")
    public String delete({{ class_name }}VO vo, RedirectAttributes redirectAttributes) throws Exception {
        {{ module | camel }}Service.delete{{ class_name }}(vo);
        redirectAttributes.addFlashAttribute("message", "삭제되었습니다");
        return "redirect:/{{ module }}/{{ module }}List.do";
    }
}
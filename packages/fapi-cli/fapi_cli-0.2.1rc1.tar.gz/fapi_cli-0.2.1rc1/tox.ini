[tox]
envlist = py{39,310,311,312,313,314}-fastapi{100,115,latest}
isolated_build = true
minversion = 4.0

[testenv]
description = Run tests with Python {env:TOX_ENVNAME:} and FastAPI {env:FASTAPI_VERSION:}
deps =
    fastapi100: fastapi>=0.100.0,<0.115.0
    fastapi115: fastapi>=0.115.0,<0.120.0
    fastapilatest: fastapi>=0.120.0,<1.0
    pytest>=7.4
    pytest-cov>=4.1
commands =
    pytest {posargs} --cov=fapi_cli --cov-report=term-missing

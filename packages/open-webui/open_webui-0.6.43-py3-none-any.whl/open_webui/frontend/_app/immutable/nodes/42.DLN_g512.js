import"../chunks/CWj6FrbW.js";import"../chunks/CN51-NxK.js";import{g as N,o as O,d as $,e as b,a as m,p as V,b as k,i as y,j as r,m as T,c as p,r as u,f as U}from"../chunks/lUdQH9Xf.js";import{i as B}from"../chunks/a8_cTibZ.js";import{i as W}from"../chunks/VsCEtJ32.js";import{s as q,a as g}from"../chunks/CcA7kcll.js";import{g as x}from"../chunks/CSKGYGI6.js";import{p as P}from"../chunks/COFBUr-U.js";import{a as j,u as C,g as D}from"../chunks/BW-M1y0G.js";import{S as Q}from"../chunks/CkkUFZ96.js";import{T as z}from"../chunks/CYed-thT.js";import{W as f}from"../chunks/DSSqs2bl.js";import{t as F}from"../chunks/B-g4jA4X.js";import{e as H,c as M}from"../chunks/DqlUe4q2.js";import{t as s}from"../chunks/1N3xujas.js";var A=U('<div class="flex items-center justify-center h-full"><div class=" pb-16"><!></div></div>');function co(_,d){k(d,!1);const i=()=>g(I,"$i18n",c),v=()=>g(P,"$page",c),[c,E]=q(),I=N("i18n");let t=T(null);const S=async o=>{const e=H(o.content);if(M((e==null?void 0:e.required_open_webui_version)??"0.0.0",f)){s.error(i().t("Open WebUI version (v{{OPEN_WEBUI_VERSION}}) is lower than required version (v{{REQUIRED_VERSION}})",{OPEN_WEBUI_VERSION:f,REQUIRED_VERSION:(e==null?void 0:e.required_open_webui_version)??"0.0.0"}));return}await C(localStorage.token,r(t).id,{id:o.id,name:o.name,meta:o.meta,content:o.content,access_control:o.access_control}).catch(n=>(s.error(`${n}`),null))&&(s.success(i().t("Tool updated successfully")),F.set(await D(localStorage.token)))};O(async()=>{const o=v().url.searchParams.get("id");o&&(y(t,await j(localStorage.token,o).catch(e=>(s.error(`${e}`),x("/workspace/tools"),null))),r(t))}),W();var l=$(),h=b(l);{var R=o=>{z(o,{edit:!0,get id(){return r(t).id},get name(){return r(t).name},get meta(){return r(t).meta},get content(){return r(t).content},get accessControl(){return r(t).access_control},onSave:e=>{S(e)}})},w=o=>{var e=A(),a=p(e),n=p(a);Q(n,{className:"size-5"}),u(a),u(e),m(o,e)};B(h,o=>{r(t)?o(R):o(w,!1)})}m(_,l),V(),E()}export{co as component};
//# sourceMappingURL=42.DLN_g512.js.map

import"../chunks/CWj6FrbW.js";import"../chunks/CN51-NxK.js";import{g as ne,t as ve,l as E,a as F,p as ce,f as T,b as me,k as o,c as e,j as r,i as d,s as g,r as t,aY as ue,m as b,n as G}from"../chunks/lUdQH9Xf.js";import{i as fe}from"../chunks/a8_cTibZ.js";import{a as I,s as ge,r as pe}from"../chunks/AGdekky4.js";import{b as J}from"../chunks/gZt8HVPH.js";import{p as xe}from"../chunks/Bfc47y5P.js";import{i as _e}from"../chunks/VsCEtJ32.js";import{s as be,a as O}from"../chunks/CcA7kcll.js";import{t as z}from"../chunks/1N3xujas.js";import{g as Q}from"../chunks/CSKGYGI6.js";import{u as we}from"../chunks/B-g4jA4X.js";import{c as ye}from"../chunks/CSd5F3vZ.js";import{A as he}from"../chunks/X8s0Nigp.js";import{S as ke}from"../chunks/CkkUFZ96.js";var $e=T('<div class="ml-1.5 self-center"><!></div>'),Ce=T('<div class="w-full max-h-full"><button class="flex space-x-1"><div class=" self-center"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M17 10a.75.75 0 01-.75.75H5.612l4.158 3.96a.75.75 0 11-1.04 1.08l-5.5-5.25a.75.75 0 010-1.08l5.5-5.25a.75.75 0 111.04 1.08L5.612 9.25H16.25A.75.75 0 0117 10z" clip-rule="evenodd"></path></svg></div> <div class=" self-center font-medium text-sm"> </div></button> <form class="flex flex-col max-w-lg mx-auto mt-10 mb-10"><div class=" w-full flex flex-col justify-center"><div class=" text-2xl font-medium font-primary mb-2.5"> </div> <div class="w-full flex flex-col gap-2.5"><div class="w-full"><div class=" text-sm mb-2"> </div> <div class="w-full mt-1"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" type="text" required/></div></div> <div><div class="text-sm mb-2"> </div> <div class=" w-full mt-1"><textarea class="w-full resize-none rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" rows="4" required></textarea></div></div></div></div> <div class="mt-2"><!></div> <div class="flex justify-end mt-2"><div><button type="submit"><div class=" self-center font-medium"> </div> <!></button></div></div></form></div>');function je(w,U){me(U,!1);const i=()=>O(X,"$i18n",D),p=()=>O(we,"$user",D),[D,V]=be(),X=ne("i18n");let m=b(!1),u=b(""),f=b(""),y=b({});const Z=async()=>{if(d(m,!0),r(u).trim()===""||r(f).trim()===""){z.error(i().t("Please fill in all fields.")),d(u,""),d(f,""),d(m,!1);return}const a=await ye(localStorage.token,r(u),r(f),r(y)).catch(l=>{z.error(`${l}`)});a&&(z.success(i().t("Knowledge created successfully.")),Q(`/workspace/knowledge/${a.id}`)),d(m,!1)};_e();var h=Ce(),x=e(h),N=o(e(x),2),ee=e(N,!0);t(N),t(x);var k=o(x,2),$=e(k),C=e($),te=e(C,!0);t(C);var P=o(C,2),j=e(P),K=e(j),ae=e(K,!0);t(K);var W=o(K,2),q=e(W);pe(q),t(W),t(j);var L=o(j,2),A=e(L),re=e(A,!0);t(A);var M=o(A,2),B=e(M);ue(B),t(M),t(L),t(P),t($);var H=o($,2),se=e(H);{let a=G(()=>{var s,n,v,c;return((v=(n=(s=p())==null?void 0:s.permissions)==null?void 0:n.sharing)==null?void 0:v.knowledge)||((c=p())==null?void 0:c.role)==="admin"}),l=G(()=>{var s,n,v,c;return((v=(n=(s=p())==null?void 0:s.permissions)==null?void 0:n.sharing)==null?void 0:v.public_knowledge)||((c=p())==null?void 0:c.role)==="admin"});he(se,{accessRoles:["read","write"],get share(){return r(a)},get sharePublic(){return r(l)},get accessControl(){return r(y)},set accessControl(s){d(y,s)},$$legacy:!0})}t(H);var R=o(H,2),Y=e(R),_=e(Y),S=e(_),ie=e(S,!0);t(S);var le=o(S,2);{var oe=a=>{var l=$e(),s=e(l);ke(s,{}),t(l),F(a,l)};fe(le,a=>{r(m)&&a(oe)})}t(_),t(Y),t(R),t(k),t(h),ve((a,l,s,n,v,c,de)=>{g(ee,a),g(te,l),g(ae,s),I(q,"placeholder",n),g(re,v),I(B,"placeholder",c),ge(_,1,` text-sm px-4 py-2 transition rounded-lg ${r(m)?" cursor-not-allowed bg-gray-100 dark:bg-gray-800":" bg-gray-50 hover:bg-gray-100 dark:bg-gray-850 dark:hover:bg-gray-800"} flex`),_.disabled=r(m),g(ie,de)},[()=>i().t("Back"),()=>i().t("Create a knowledge base"),()=>i().t("What are you working on?"),()=>i().t("Name your knowledge base"),()=>i().t("What are you trying to achieve?"),()=>i().t("Describe your knowledge base and objectives"),()=>i().t("Create Knowledge")]),E("click",x,()=>{Q("/workspace/knowledge")}),J(q,()=>r(u),a=>d(u,a)),J(B,()=>r(f),a=>d(f,a)),E("submit",k,xe(()=>{Z()})),F(w,h),ce(),V()}function Ee(w){je(w,{})}export{Ee as component};
//# sourceMappingURL=33.BRblDlkO.js.map

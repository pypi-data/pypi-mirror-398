import"../chunks/CWj6FrbW.js";import"../chunks/CN51-NxK.js";import{g as x,o as y,d as U,e as k,a as l,p as B,b as W,i as q,j as r,m as P,c as m,r as u,f as _}from"../chunks/lUdQH9Xf.js";import{i as j}from"../chunks/a8_cTibZ.js";import{i as C}from"../chunks/VsCEtJ32.js";import{s as D,a as i}from"../chunks/CcA7kcll.js";import{t as c}from"../chunks/1N3xujas.js";import{g as M}from"../chunks/CSKGYGI6.js";import{p as Q}from"../chunks/COFBUr-U.js";import{f as z,a as H,c as A,b as G}from"../chunks/B-g4jA4X.js";import{a as J,u as K,g as L}from"../chunks/9HvU6daC.js";import{F as T}from"../chunks/DaMcwEy9.js";import{S as X}from"../chunks/CkkUFZ96.js";import{g as Y}from"../chunks/CLVquUu1.js";import{e as Z,c as ee}from"../chunks/DqlUe4q2.js";import{W as v}from"../chunks/DSSqs2bl.js";var oe=_('<div class="px-[16px] h-full"><!></div>'),te=_('<div class="flex items-center justify-center h-full"><div class=" pb-16"><!></div></div>');function Ie(E,I){W(I,!1);const p=()=>i(R,"$i18n",a),S=()=>i(A,"$config",a),$=()=>i(G,"$settings",a),h=()=>i(Q,"$page",a),[a,b]=D(),R=x("i18n");let t=P(null);const w=async e=>{var s,d,g;const o=Z(e.content);if(ee((o==null?void 0:o.required_open_webui_version)??"0.0.0",v)){c.error(p().t("Open WebUI version (v{{OPEN_WEBUI_VERSION}}) is lower than required version (v{{REQUIRED_VERSION}})",{OPEN_WEBUI_VERSION:v,REQUIRED_VERSION:(o==null?void 0:o.required_open_webui_version)??"0.0.0"}));return}await K(localStorage.token,r(t).id,{id:e.id,name:e.name,meta:e.meta,content:e.content}).catch(V=>(c.error(`${V}`),null))&&(c.success(p().t("Function updated successfully")),z.set(await L(localStorage.token)),H.set(await Y(localStorage.token,((d=(s=S())==null?void 0:s.features)==null?void 0:d.enable_direct_connections)&&(((g=$())==null?void 0:g.directConnections)??null),!1,!0)))};y(async()=>{const e=h().url.searchParams.get("id");e&&(q(t,await J(localStorage.token,e).catch(o=>(c.error(`${o}`),M("/admin/functions"),null))),r(t))}),C();var f=U(),N=k(f);{var O=e=>{var o=oe(),n=m(o);T(n,{edit:!0,get id(){return r(t).id},get name(){return r(t).name},get meta(){return r(t).meta},get content(){return r(t).content},onSave:s=>{w(s)}}),u(o),l(e,o)},F=e=>{var o=te(),n=m(o),s=m(n);X(s,{className:"size-5"}),u(n),u(o),l(e,o)};j(N,e=>{r(t)?e(O):e(F,!1)})}l(E,f),B(),b()}export{Ie as component};
//# sourceMappingURL=16.XGV058Js.js.map

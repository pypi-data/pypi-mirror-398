import"./CWj6FrbW.js";import"./CN51-NxK.js";import{b as qt,g as Pt,o as zt,i as n,x as Nt,q as Ot,u as Dt,j as e,v as Et,e as Lt,k as i,c as a,r,t as ot,w as d,s as p,l as H,a as I,A as Wt,p as Ft,f as R,m as x,n as M}from"./lUdQH9Xf.js";import{i as Ht}from"./a8_cTibZ.js";import{r as lt,a as nt,s as It}from"./AGdekky4.js";import{b as dt}from"./gZt8HVPH.js";import{p as Rt}from"./Bfc47y5P.js";import{i as Zt}from"./VsCEtJ32.js";import{p as S}from"./wFFmXPqF.js";import{a as ct,s as Bt}from"./CcA7kcll.js";import{T as Gt}from"./DljGs0XM.js";import{t as Jt}from"./1N3xujas.js";import{T as Kt}from"./BtoSXKKz.js";import{L as Qt}from"./Nos9qo-N.js";import{A as Ut}from"./BZ4vDKbQ.js";import{u as Vt}from"./B-g4jA4X.js";import{s as mt}from"./DqlUe4q2.js";import{S as Xt}from"./CkkUFZ96.js";var Yt=R('<div class="flex flex-col w-full"><div class="flex items-center"><input class="text-2xl font-medium w-full bg-transparent outline-hidden" required/> <div class="self-center shrink-0"><button class="bg-gray-50 hover:bg-gray-100 text-black dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-white transition px-2 py-1 rounded-full flex gap-1 items-center" type="button"><!> <div class="text-sm font-medium shrink-0"> </div></button></div></div> <div class="flex gap-0.5 items-center text-xs text-gray-500"><div>/</div> <input class=" w-full bg-transparent outline-hidden" required/></div></div>'),te=R('<div class="ml-1.5 self-center"><!></div>'),ee=R('<!> <div class="w-full max-h-full flex justify-center"><form class="flex flex-col w-full mb-10"><div class="my-2"><!></div> <div class="my-2"><div class="flex w-full justify-between"><div class=" self-center text-sm font-medium"> </div></div> <div class="mt-2"><div><!></div> <div class="text-xs text-gray-400 dark:text-gray-500"> <span class=" text-gray-600 dark:text-gray-300 font-medium"> </span> <span class=" text-gray-600 dark:text-gray-300 font-medium"></span> <span class=" text-gray-600 dark:text-gray-300 font-medium"></span>.</div> <div class="text-xs text-gray-400 dark:text-gray-500 underline"><a href="https://docs.openwebui.com/features/workspace/prompts" target="_blank"> </a></div></div></div> <div class="my-4 flex justify-end pb-20"><button type="submit"><div class=" self-center font-medium"> </div> <!></button></div></form></div>',1);function he(vt,b){qt(b,!1);const t=()=>ct(pt,"$i18n",Z),_=()=>ct(Vt,"$user",Z),[Z,ut]=Bt();let ft=S(b,"onSubmit",8),T=S(b,"edit",8,!1),u=S(b,"prompt",8,null);S(b,"clone",8,!1);const pt=Pt("i18n");let h=x(!1),g=x(""),f=x(""),w=x(""),$=x({}),j=x(!1),q=x(!1);function gt(s){n(q,!0)}const xt=async()=>{n(h,!0),_t(e(f))?await ft()({title:e(g),command:e(f),content:e(w),access_control:e($)}):Jt.error(t().t("Only alphanumeric characters and hyphens are allowed in the command string.")),n(h,!1)},_t=s=>/^[a-zA-Z0-9-_]+$/.test(s);zt(async()=>{var s,o;u()&&(n(g,u().title),await Nt(),n(f,u().command.at(0)==="/"?u().command.slice(1):u().command),n(w,u().content),n($,((s=u())==null?void 0:s.access_control)===void 0?{}:(o=u())==null?void 0:o.access_control))}),Ot(()=>(Dt(T()),e(q),e(g),mt),()=>{!T()&&!e(q)&&n(f,e(g)!==""?mt(e(g)):"")}),Et(),Zt();var B=ee(),G=Lt(B);{let s=M(()=>(_(),d(()=>{var l,m,v,c;return((v=(m=(l=_())==null?void 0:l.permissions)==null?void 0:m.sharing)==null?void 0:v.prompts)||((c=_())==null?void 0:c.role)==="admin"}))),o=M(()=>(_(),d(()=>{var l,m,v,c;return((v=(m=(l=_())==null?void 0:l.permissions)==null?void 0:m.sharing)==null?void 0:v.public_prompts)||((c=_())==null?void 0:c.role)==="admin"})));Ut(G,{accessRoles:["read","write"],get share(){return e(s)},get sharePublic(){return e(o)},get show(){return e(j)},set show(l){n(j,l)},get accessControl(){return e($)},set accessControl(l){n($,l)},$$legacy:!0})}var J=i(G,2),P=a(J),z=a(P),bt=a(z);{let s=M(()=>(t(),e(f),d(()=>`${t().t("Only alphanumeric characters and hyphens are allowed")} - ${t().t('Activate this command by typing "/{{COMMAND}}" to chat input.',{COMMAND:e(f)})}`)));Kt(bt,{get content(){return e(s)},placement:"bottom-start",children:(o,l)=>{var m=Yt(),v=a(m),c=a(v);lt(c);var A=i(c,2),F=a(A),rt=a(F);Qt(rt,{strokeWidth:"2.5",className:"size-3.5"});var st=i(rt,2),St=a(st,!0);r(st),r(F),r(A),r(v);var it=i(v,2),y=i(a(it),2);lt(y),r(it),r(m),ot((k,Tt,jt)=>{nt(c,"placeholder",k),p(St,Tt),nt(y,"placeholder",jt),y.disabled=T()},[()=>(t(),d(()=>t().t("Title"))),()=>(t(),d(()=>t().t("Access"))),()=>(t(),d(()=>t().t("Command")))]),dt(c,()=>e(g),k=>n(g,k)),H("click",F,()=>{n(j,!0)}),dt(y,()=>e(f),k=>n(f,k)),H("input",y,gt),I(o,m)},$$slots:{default:!0}})}r(z);var N=i(z,2),O=a(N),K=a(O),ht=a(K,!0);r(K),r(O);var Q=i(O,2),D=a(Q),yt=a(D);{let s=M(()=>(t(),d(()=>t().t("Write a summary in 50 words that summarizes {{topic}}."))));Gt(yt,{className:"text-sm w-full bg-transparent outline-hidden overflow-y-hidden resize-none",get placeholder(){return e(s)},rows:6,required:!0,get value(){return e(w)},set value(o){n(w,o)},$$legacy:!0})}r(D);var E=i(D,2),U=a(E),L=i(U),kt=a(L);r(L);var V=i(L),X=i(V);X.textContent="{{";var Y=i(X),wt=i(Y);wt.textContent="}}",Wt(),r(E);var tt=i(E,2),et=a(tt),$t=a(et,!0);r(et),r(tt),r(Q),r(N);var at=i(N,2),C=a(at),W=a(C),Ct=a(W,!0);r(W);var At=i(W,2);{var Mt=s=>{var o=te(),l=a(o);Xt(l,{}),r(o),I(s,o)};Ht(At,s=>{e(h)&&s(Mt)})}r(C),r(at),r(P),r(J),ot((s,o,l,m,v,c,A)=>{p(ht,s),p(U,`ⓘ ${o??""} `),p(kt,`{{${l??""}}}`),p(V,`.
					${m??""} `),p(Y,` ${v??""} `),p($t,c),It(C,1,` text-sm w-full lg:w-fit px-4 py-2 transition rounded-xl ${e(h)?" cursor-not-allowed bg-black hover:bg-gray-900 text-white dark:bg-white dark:hover:bg-gray-100 dark:text-black":"bg-black hover:bg-gray-900 text-white dark:bg-white dark:hover:bg-gray-100 dark:text-black"} flex w-full justify-center`),C.disabled=e(h),p(Ct,A)},[()=>(t(),d(()=>t().t("Prompt Content"))),()=>(t(),d(()=>t().t("Format your variables using brackets like this:"))),()=>(t(),d(()=>t().t("variable"))),()=>(t(),d(()=>t().t("Make sure to enclose them with"))),()=>(t(),d(()=>t().t("and"))),()=>(t(),d(()=>t().t("To learn more about powerful prompt variables, click here"))),()=>(t(),d(()=>t().t("Save & Create")))]),H("submit",P,Rt(()=>{xt()})),I(vt,B),Ft(),ut()}export{he as P};
//# sourceMappingURL=dpQdIzdx.js.map

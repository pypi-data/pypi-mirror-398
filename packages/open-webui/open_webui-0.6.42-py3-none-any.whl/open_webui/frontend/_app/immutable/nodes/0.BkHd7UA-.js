import"../chunks/CWj6FrbW.js";import"../chunks/CN51-NxK.js";import{a$ as xo,d as X,e as R,a as u,B as kt,b as ft,c as de,r as ee,t as ke,p as mt,f as se,m as P,o as xt,i as f,j as e,q as K,u as o,v as so,w as g,k as _e,l as ue,x as _t,s as dt,z as Ft,aT as So,n as Je,y as Io,b3 as To,h as Eo,$ as Po}from"../chunks/lUdQH9Xf.js";import{i as j}from"../chunks/a8_cTibZ.js";import{s as Le}from"../chunks/9RuGBeWD.js";import{a as z,c as tt,s as Ke,h as Ot,f as Ao,S as Bo}from"../chunks/AGdekky4.js";import{i as gt}from"../chunks/VsCEtJ32.js";import{b as $o,a as q,s as St}from"../chunks/CcA7kcll.js";import{l as Co}from"../chunks/CGwCSIWv.js";import{r as jt,l as Oo}from"../chunks/BGGTUj09.js";import{W as Lo}from"../chunks/DmTNmOsd.js";import{e as Rt,i as io}from"../chunks/CyDjujdM.js";import{b as ro}from"../chunks/D72e2DEW.js";import{p as A,l as Ut,s as Lt}from"../chunks/wFFmXPqF.js";import{u as No,c as Oe,a as lo,t as Nt}from"../chunks/1N3xujas.js";import{c as pt}from"../chunks/B-5ZfLrN.js";import{k as ut,b as bt,l as wt,n as Jt,o as Do,q as Vt,m as Dt,u as vt,c as Mt,W as Kt,i as qt,r as Xt,v as Gt,w as Zt,x as Mo,y as Ro,h as ht,e as Uo,z as Wo,j as zo,A as Ho}from"../chunks/CQ5nDkjA.js";import{u as Yo,s as Fo,b as jo,g as ct}from"../chunks/CeIFb-7H.js";import{p as Jo}from"../chunks/DRW7FbpN.js";import{i as Vo,a as Ko,g as qo,c as Xo}from"../chunks/DB2dSxVg.js";import{a as Qt,c as Go,e as Zo}from"../chunks/C7-mw5nO.js";import{g as Qo,b as en}from"../chunks/DRKHUzt9.js";import{e as tn,f as on}from"../chunks/CXz3UUqn.js";import{c as nn}from"../chunks/DrHmROi9.js";import{b as ot,a as an}from"../chunks/BJunrENY.js";import{m as eo,I as sn}from"../chunks/BXNnaNI-.js";import{s as rn}from"../chunks/DAxQLg4P.js";import{h as ln}from"../chunks/DVvqZTde.js";import{p as cn}from"../chunks/Bfc47y5P.js";import{b as dn}from"../chunks/lfS5zWcj.js";import to from"../chunks/BFmuJLeH.js";import{T as un}from"../chunks/BtoSXKKz.js";import{S as fn}from"../chunks/CkkUFZ96.js";import{g as mn}from"../chunks/BdY-qA8s.js";import{d as gn}from"../chunks/I1CDPYOB.js";import{k as oo}from"../chunks/DBQvhM_r.js";const pn=!1,vn="ignore",Ca=Object.freeze(Object.defineProperty({__proto__:null,ssr:pn,trailingSlash:vn},Symbol.toStringTag,{value:"Module"}));function no(S){return Object.prototype.toString.call(S)==="[object Date]"}function Wt(S,a,p,U){if(typeof p=="number"||no(p)){const _=U-p,B=(p-a)/(S.dt||1/60),H=S.opts.stiffness*_,Y=S.opts.damping*B,G=(H-Y)*S.inv_mass,te=(B+G)*S.dt;return Math.abs(te)<S.opts.precision&&Math.abs(_)<S.opts.precision?U:(S.settled=!1,no(p)?new Date(p.getTime()+te):p+te)}else{if(Array.isArray(p))return p.map((_,B)=>Wt(S,a[B],p[B],U[B]));if(typeof p=="object"){const _={};for(const B in p)_[B]=Wt(S,a[B],p[B],U[B]);return _}else throw new Error(`Cannot spring ${typeof p} values`)}}function hn(S,a={}){const p=xo(S),{stiffness:U=.15,damping:_=.8,precision:B=.01}=a;let H,Y,G,te=S,ie=S,N=1,v=0,L=!1;function oe(ne,Z={}){ie=ne;const pe=G={};return S==null||Z.hard||J.stiffness>=1&&J.damping>=1?(L=!0,H=jt.now(),te=ne,p.set(S=ie),Promise.resolve()):(Z.soft&&(v=1/((Z.soft===!0?.5:+Z.soft)*60),N=0),Y||(H=jt.now(),L=!1,Y=Oo(h=>{if(L)return L=!1,Y=null,!1;N=Math.min(N+v,1);const xe=Math.min(h-H,1e3/30),be={inv_mass:N,opts:J,settled:!0,dt:xe*60/1e3},ve=Wt(be,te,S,ie);return H=h,te=S,p.set(S=ve),be.settled&&(Y=null),!be.settled})),new Promise(h=>{Y.promise.then(()=>{pe===G&&h()})}))}const J={set:oe,update:(ne,Z)=>oe(ne(ie,S),Z),subscribe:p.subscribe,stiffness:U,damping:_,precision:B};return J}var yn=kt('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" height="20" width="20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z" clip-rule="evenodd"></path></svg>'),_n=kt('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" height="20" width="20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"></path></svg>'),bn=kt('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" height="20" width="20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z" clip-rule="evenodd"></path></svg>'),wn=kt('<svg viewBox="0 0 64 64" fill="currentColor" height="20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M32.427,7.987c2.183,0.124 4,1.165 5.096,3.281l17.936,36.208c1.739,3.66 -0.954,8.585 -5.373,8.656l-36.119,0c-4.022,-0.064 -7.322,-4.631 -5.352,-8.696l18.271,-36.207c0.342,-0.65 0.498,-0.838 0.793,-1.179c1.186,-1.375 2.483,-2.111 4.748,-2.063Zm-0.295,3.997c-0.687,0.034 -1.316,0.419 -1.659,1.017c-6.312,11.979 -12.397,24.081 -18.301,36.267c-0.546,1.225 0.391,2.797 1.762,2.863c12.06,0.195 24.125,0.195 36.185,0c1.325,-0.064 2.321,-1.584 1.769,-2.85c-5.793,-12.184 -11.765,-24.286 -17.966,-36.267c-0.366,-0.651 -0.903,-1.042 -1.79,-1.03Z"></path><path d="M33.631,40.581l-3.348,0l-0.368,-16.449l4.1,0l-0.384,16.449Zm-3.828,5.03c0,-0.609 0.197,-1.113 0.592,-1.514c0.396,-0.4 0.935,-0.601 1.618,-0.601c0.684,0 1.223,0.201 1.618,0.601c0.395,0.401 0.593,0.905 0.593,1.514c0,0.587 -0.193,1.078 -0.577,1.473c-0.385,0.395 -0.929,0.593 -1.634,0.593c-0.705,0 -1.249,-0.198 -1.634,-0.593c-0.384,-0.395 -0.576,-0.886 -0.576,-1.473Z"></path></svg>');function yt(S,a){let p=A(a,"type",8,"success");var U=X(),_=R(U);{var B=Y=>{var G=yn();u(Y,G)},H=Y=>{var G=X(),te=R(G);{var ie=v=>{var L=_n();u(v,L)},N=v=>{var L=X(),oe=R(L);{var J=Z=>{var pe=bn();u(Z,pe)},ne=Z=>{var pe=X(),h=R(pe);{var xe=ve=>{var Ne=wn();u(ve,Ne)},be=ve=>{};j(h,ve=>{p()==="warning"?ve(xe):ve(be,!1)},!0)}u(Z,pe)};j(oe,Z=>{p()==="info"?Z(J):Z(ne,!1)},!0)}u(v,L)};j(te,v=>{p()==="error"?v(ie):v(N,!1)},!0)}u(Y,G)};j(_,Y=>{p()==="success"?Y(B):Y(H,!1)})}u(S,U)}var kn=se('<div class="sonner-loading-bar"></div>'),xn=se('<div class="sonner-loading-wrapper"><div class="sonner-spinner"></div></div>');function Sn(S,a){ft(a,!1);let p=A(a,"visible",8);const U=Array(12).fill(0);gt();var _=xn(),B=de(_);Rt(B,5,()=>U,io,(H,Y)=>{var G=kn();u(H,G)}),ee(B),ee(_),ke(()=>z(_,"data-visible",p())),u(S,_),mt()}var In=se('<button aria-label="Close toast" data-close-button=""><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></button>'),Tn=se('<div data-icon=""><!> <!></div>'),En=se('<div data-title=""><!></div>'),Pn=se('<div data-description=""><!></div>'),An=se('<button data-button="" data-cancel=""> </button>'),Bn=se('<button data-button=""> </button>'),$n=se('<!> <div data-content=""><!> <!></div> <!> <!>',1),Cn=se('<li aria-atomic="true" role="status" data-sonner-toast=""><!> <!></li>');function On(S,a){const p=Ut(a,["children","$$slots","$$events","$$legacy"]);ft(a,!1);const U=()=>q($,"$heights",H),_=()=>q(e(E),"$effect",H),B=()=>q(ze,"$toasts",H),[H,Y]=St(),G=P(void 0,!0),te=P(void 0,!0),ie=P(void 0,!0),N=P(void 0,!0),v=P(void 0,!0),L=P(void 0,!0),oe=P(void 0,!0),J=P(void 0,!0),ne=P(void 0,!0),Z=P(void 0,!0),pe=P(void 0,!0),h=P(void 0,!0),xe=4e3,be=14,ve=20,Ne=200,Fe=.05,De={toast:"",title:"",description:"",loader:"",closeButton:"",cancelButton:"",actionButton:"",action:"",warning:"",error:"",success:"",default:"",info:"",loading:""},{toasts:ze,heights:$,removeHeight:I,setHeight:fe,remove:qe}=lo;let t=A(a,"toast",9),we=A(a,"index",9),Me=A(a,"expanded",9),Se=A(a,"invert",13),He=A(a,"position",9),Re=A(a,"visibleToasts",9),Ee=A(a,"expandByDefault",9),Ae=A(a,"closeButton",9),Ue=A(a,"interacting",9),nt=A(a,"cancelButtonStyle",9,""),at=A(a,"actionButtonStyle",9,""),n=A(a,"duration",9,4e3),i=A(a,"descriptionClass",9,""),r=A(a,"classes",29,()=>({})),s=A(a,"unstyled",9,!1),l=P(!1,!0),w=P(!1,!0),k=P(!1,!0),T=P(!1,!0),c=P(0,!0),d=P(0,!0),m=P(void 0,!0),b=P(0,!0),Q=0,re=0,M=null;async function F(){if(!e(l))return;await _t();let y;Me()||Ee()?y=1:y=1-we()*Fe,e(m).style.setProperty("height","auto");const C=e(m).offsetHeight,V=e(m).getBoundingClientRect().height,ae=Math.round((V/y+Number.EPSILON)*100)/100;e(m).style.removeProperty("height");let le;Math.abs(ae-C)<1?le=ae:le=C,f(d,le),fe({toastId:t().id,height:le})}function D(){f(w,!0),f(c,e(b)),I(t().id),setTimeout(()=>{qe(t().id)},Ne)}let Be=P(void 0,!0),Pe=P(t().duration||n()||xe,!0);function $e(){if(re<Q){const y=new Date().getTime()-Q;f(Pe,e(Pe)-y)}re=new Date().getTime()}function st(){Q=new Date().getTime(),f(Be,setTimeout(()=>{var y,C;(C=(y=t()).onAutoClose)==null||C.call(y,t()),D()},e(Pe)))}let E=P(void 0,!0);xt(()=>{f(l,!0);const y=e(m).getBoundingClientRect().height;return f(d,y),fe({toastId:t().id,height:y}),()=>I(t().id)});function Ve(y){if(e(pe))return;f(c,e(b));const C=y.target;C.setPointerCapture(y.pointerId),C.tagName!=="BUTTON"&&(f(k,!0),M={x:y.clientX,y:y.clientY})}function he(){var C,V,ae;if(e(T))return;M=null;const y=Number(((C=e(m))==null?void 0:C.style.getPropertyValue("--swipe-amount").replace("px",""))||0);if(Math.abs(y)>=ve){f(c,e(b)),(ae=(V=t()).onDismiss)==null||ae.call(V,t()),D(),f(T,!0);return}e(m).style.setProperty("--swipe-amount","0px"),f(k,!1)}function Ie(y){if(!M)return;const C=y.clientY-M.y,V=y.clientX-M.x,le=(e(ne)[0]==="top"?Math.min:Math.max)(0,C),We=y.pointerType==="touch"?10:2;Math.abs(le)>We?e(m).style.setProperty("--swipe-amount",`${C}px`):Math.abs(V)>We&&(M=null)}K(()=>o(r()),()=>{r({...De,...r()})}),K(()=>o(we()),()=>{f(G,we()===0)}),K(()=>(o(we()),o(Re())),()=>{f(te,we()+1<=Re())}),K(()=>o(t()),()=>{f(ie,t().title)}),K(()=>o(t()),()=>{f(N,t().description)}),K(()=>o(t()),()=>{f(v,t().type)}),K(()=>o(t()),()=>{f(L,t().class||"")}),K(()=>o(t()),()=>{f(oe,t().descriptionClass||"")}),K(()=>(U(),o(t())),()=>{f(J,U().findIndex(y=>y.toastId===t().id)||0)}),K(()=>o(He()),()=>{f(ne,He().split("-"))}),K(()=>(U(),e(J)),()=>{f(Z,U().reduce((y,C,V)=>V>=e(J)?y:y+C.height,0))}),K(()=>(o(Se()),o(t())),()=>{Se(t().invert||Se())}),K(()=>e(v),()=>{f(pe,e(v)==="loading")}),K(()=>(e(J),e(Z)),()=>{f(b,Math.round(e(J)*be+e(Z)))}),K(()=>(e(ie),e(N)),()=>{e(ie),e(N),F()}),K(()=>(o(t()),e(Be),o(n())),()=>{t().updated&&(clearTimeout(e(Be)),f(Pe,t().duration||n()||xe),st())}),K(()=>(o(t()),e(v)),()=>{f(h,t().promise&&e(v)==="loading"||t().duration===Number.POSITIVE_INFINITY)}),K(()=>(e(h),o(Me()),o(Ue()),e(Be)),()=>{$o(f(E,No(()=>(e(h)||(Me()||Ue()?$e():st()),()=>clearTimeout(e(Be))))),"$effect",H)}),K(()=>_(),()=>{_()}),K(()=>o(t()),()=>{t().delete&&D()}),so(),gt(!0);var x=Cn();z(x,"tabindex",0);let Xe;var It=de(x);{var Tt=y=>{var C=In();ke(V=>{z(C,"data-disabled",e(pe)),Ke(C,1,V)},[()=>tt((o(Oe),o(r()),o(t()),g(()=>{var V,ae,le;return Oe((V=r())==null?void 0:V.closeButton,(le=(ae=t())==null?void 0:ae.classes)==null?void 0:le.closeButton)})))]),ue("click",C,function(...V){var ae;(ae=e(pe)?void 0:()=>{var le,We;D(),(We=(le=t()).onDismiss)==null||We.call(le,t())})==null||ae.apply(this,V)}),u(y,C)};j(It,y=>{o(Ae()),o(t()),g(()=>Ae()&&!t().component)&&y(Tt)})}var Ge=_e(It,2);{var co=y=>{var C=X(),V=R(C);pt(V,()=>t().component,(ae,le)=>{le(ae,Lt(()=>t().componentProps,{$$events:{closeToast:D}}))}),u(y,C)},uo=y=>{var C=$n(),V=R(C);{var ae=me=>{var W=Tn(),Ye=de(W);{var ce=ye=>{var Ce=X(),je=R(Ce);Le(je,a,"loading-icon",{},null),u(ye,Ce)};j(Ye,ye=>{o(t()),e(v),g(()=>(t().promise||e(v)==="loading")&&!t().icon)&&ye(ce)})}var Te=_e(Ye,2);{var O=ye=>{var Ce=X(),je=R(Ce);pt(je,()=>t().icon,(Et,Pt)=>{Pt(Et,{})}),u(ye,Ce)},ge=ye=>{var Ce=X(),je=R(Ce);{var Et=Ze=>{var it=X(),At=R(it);Le(At,a,"success-icon",{},null),u(Ze,it)},Pt=Ze=>{var it=X(),At=R(it);{var ho=Qe=>{var rt=X(),Bt=R(rt);Le(Bt,a,"error-icon",{},null),u(Qe,rt)},yo=Qe=>{var rt=X(),Bt=R(rt);{var _o=et=>{var lt=X(),$t=R(lt);Le($t,a,"warning-icon",{},null),u(et,lt)},bo=et=>{var lt=X(),$t=R(lt);{var wo=Ct=>{var Yt=X(),ko=R(Yt);Le(ko,a,"info-icon",{},null),u(Ct,Yt)};j($t,Ct=>{e(v)==="info"&&Ct(wo)},!0)}u(et,lt)};j(Bt,et=>{e(v)==="warning"?et(_o):et(bo,!1)},!0)}u(Qe,rt)};j(At,Qe=>{e(v)==="error"?Qe(ho):Qe(yo,!1)},!0)}u(Ze,it)};j(je,Ze=>{e(v)==="success"?Ze(Et):Ze(Pt,!1)},!0)}u(ye,Ce)};j(Te,ye=>{o(t()),g(()=>t().icon)?ye(O):ye(ge,!1)})}ee(W),u(me,W)};j(V,me=>{e(v),o(t()),g(()=>e(v)!=="default"||t().icon||t().promise)&&me(ae)})}var le=_e(V,2),We=de(le);{var zt=me=>{var W=En(),Ye=de(W);{var ce=O=>{var ge=X(),ye=R(ge);pt(ye,()=>t().title,(Ce,je)=>{je(Ce,Lt(()=>t().componentProps))}),u(O,ge)},Te=O=>{var ge=Ft();ke(()=>dt(ge,(o(t()),g(()=>t().title)))),u(O,ge)};j(Ye,O=>{o(t()),g(()=>typeof t().title!="string")?O(ce):O(Te,!1)})}ee(W),ke(O=>Ke(W,1,O),[()=>tt((o(Oe),o(r()),o(t()),g(()=>{var O,ge,ye;return Oe((O=r())==null?void 0:O.title,(ye=(ge=t())==null?void 0:ge.classes)==null?void 0:ye.title)})))]),u(me,W)};j(We,me=>{o(t()),g(()=>t().title)&&me(zt)})}var fo=_e(We,2);{var mo=me=>{var W=Pn(),Ye=de(W);{var ce=O=>{var ge=X(),ye=R(ge);pt(ye,()=>t().description,(Ce,je)=>{je(Ce,Lt(()=>t().componentProps))}),u(O,ge)},Te=O=>{var ge=Ft();ke(()=>dt(ge,(o(t()),g(()=>t().description)))),u(O,ge)};j(Ye,O=>{o(t()),g(()=>typeof t().description!="string")?O(ce):O(Te,!1)})}ee(W),ke(O=>Ke(W,1,O),[()=>tt((o(Oe),o(i()),e(oe),o(r()),o(t()),g(()=>{var O,ge;return Oe(i(),e(oe),(O=r())==null?void 0:O.description,(ge=t().classes)==null?void 0:ge.description)})))]),u(me,W)};j(fo,me=>{o(t()),g(()=>t().description)&&me(mo)})}ee(le);var Ht=_e(le,2);{var go=me=>{var W=An(),Ye=de(W,!0);ee(W),ke(ce=>{Ot(W,nt()),Ke(W,1,ce),dt(Ye,(o(t()),g(()=>t().cancel.label)))},[()=>tt((o(Oe),o(r()),o(t()),g(()=>{var ce,Te,O;return Oe((ce=r())==null?void 0:ce.cancelButton,(O=(Te=t())==null?void 0:Te.classes)==null?void 0:O.cancelButton)})))]),ue("click",W,()=>{var ce;D(),(ce=t().cancel)!=null&&ce.onClick&&t().cancel.onClick()}),u(me,W)};j(Ht,me=>{o(t()),g(()=>t().cancel)&&me(go)})}var po=_e(Ht,2);{var vo=me=>{var W=Bn(),Ye=de(W,!0);ee(W),ke(ce=>{Ot(W,at()),Ke(W,1,ce),dt(Ye,(o(t()),g(()=>t().action.label)))},[()=>tt((o(Oe),o(r()),o(t()),g(()=>{var ce,Te,O;return Oe((ce=r())==null?void 0:ce.actionButton,(O=(Te=t())==null?void 0:Te.classes)==null?void 0:O.actionButton)})))]),ue("click",W,ce=>{var Te;(Te=t().action)==null||Te.onClick(ce),!ce.defaultPrevented&&D()}),u(me,W)};j(po,me=>{o(t()),g(()=>t().action)&&me(vo)})}u(y,C)};j(Ge,y=>{o(t()),g(()=>t().component)?y(co):y(uo,!1)})}ee(x),ro(x,y=>f(m,y),()=>e(m)),ke((y,C,V)=>{z(x,"aria-live",(o(t()),g(()=>t().important?"assertive":"polite"))),Ke(x,1,y),z(x,"data-styled",(o(t()),o(s()),g(()=>{var ae;return!(t().component||(ae=t())!=null&&ae.unstyled||s())}))),z(x,"data-mounted",e(l)),z(x,"data-promise",C),z(x,"data-removed",e(w)),z(x,"data-visible",e(te)),z(x,"data-y-position",(e(ne),g(()=>e(ne)[0]))),z(x,"data-x-position",(e(ne),g(()=>e(ne)[1]))),z(x,"data-index",we()),z(x,"data-front",e(G)),z(x,"data-swiping",e(k)),z(x,"data-type",e(v)),z(x,"data-invert",Se()),z(x,"data-swipe-out",e(T)),z(x,"data-expanded",V),Xe=Ot(x,(o(p),o(t()),g(()=>`${p.style} ${t().style}`)),Xe,{"--index":we(),"--toasts-before":we(),"--z-index":(B(),o(we()),g(()=>B().length-we())),"--offset":`${e(w)?e(c):e(b)}px`,"--initial-height":`${e(d)}px`})},[()=>tt((o(Oe),o(p),e(L),o(r()),o(t()),e(v),g(()=>{var y,C,V,ae,le,We;return Oe(p.class,e(L),(y=r())==null?void 0:y.toast,(V=(C=t())==null?void 0:C.classes)==null?void 0:V.toast,(ae=r())==null?void 0:ae[e(v)],(We=(le=t())==null?void 0:le.classes)==null?void 0:We[e(v)])}))),()=>(o(t()),g(()=>!!t().promise)),()=>(o(Me()),o(Ee()),e(l),g(()=>!!(Me()||Ee()&&e(l))))]),ue("pointerdown",x,Ve),ue("pointerup",x,he),ue("pointermove",x,Ie),u(S,x),mt(),Y()}var Ln=se("<ol></ol>"),Nn=se('<section class="svelte-nbs0zk"></section>');function Dn(S,a){const p=Ut(a,["children","$$slots","$$events","$$legacy"]),U=Ut(p,["invert","theme","position","hotkey","containerAriaLabel","richColors","expand","duration","visibleToasts","closeButton","toastOptions","offset","dir"]);ft(a,!1);const _=()=>q(t,"$toasts",H),B=()=>q(we,"$heights",H),[H,Y]=St(),G=P(),te=P(),ie=3,N="32px",v=356,L=14,oe="dark",J="light";function ne(s){return s!=="system"?s:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?oe:J}function Z(){if(typeof window>"u"||typeof document>"u")return"ltr";const s=document.documentElement.getAttribute("dir");return s==="auto"||!s?window.getComputedStyle(document.documentElement).direction:s}let pe=A(a,"invert",8,!1),h=A(a,"theme",8,"light"),xe=A(a,"position",8,"bottom-right"),be=A(a,"hotkey",24,()=>["altKey","KeyT"]),ve=A(a,"containerAriaLabel",8,"Notifications"),Ne=A(a,"richColors",8,!1),Fe=A(a,"expand",8,!1),De=A(a,"duration",8,4e3),ze=A(a,"visibleToasts",8,ie),$=A(a,"closeButton",8,!1),I=A(a,"toastOptions",24,()=>({})),fe=A(a,"offset",8,null),qe=A(a,"dir",24,Z);const{toasts:t,heights:we,reset:Me}=lo;let Se=P(!1),He=P(!1),Re=P(ne(h())),Ee=P(),Ae=null,Ue=!1;So(()=>{e(Ee)&&Ae&&(Ae.focus({preventScroll:!0}),Ae=null,Ue=!1)}),xt(()=>{Me();const s=l=>{var k,T;be().every(c=>l[c]||l.code===c)&&(f(Se,!0),(k=e(Ee))==null||k.focus()),l.code==="Escape"&&(document.activeElement===e(Ee)||(T=e(Ee))!=null&&T.contains(document.activeElement))&&f(Se,!1)};return document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s)}});function nt(s){Ue&&!s.currentTarget.contains(s.relatedTarget)&&(Ue=!1,Ae&&(Ae.focus({preventScroll:!0}),Ae=null))}function at(s){Ue||(Ue=!0,Ae=s.relatedTarget)}K(()=>(o(xe()),_()),()=>{f(G,Array.from(new Set([xe(),..._().filter(s=>s.position).map(s=>s.position)].filter(Boolean))))}),K(()=>o(be()),()=>{f(te,be().join("+").replace(/Key/g,"").replace(/Digit/g,""))}),K(()=>_(),()=>{_().length<=1&&f(Se,!1)}),K(()=>_(),()=>{const s=_().filter(l=>l.dismiss&&!l.delete);if(s.length>0){const l=_().map(w=>s.find(T=>T.id===w.id)?{...w,delete:!0}:w);t.set(l)}}),K(()=>o(h()),()=>{if(h()!=="system"&&f(Re,h()),typeof window<"u"){h()==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?f(Re,oe):f(Re,J));const s=window.matchMedia("(prefers-color-scheme: dark)"),l=({matches:w})=>{f(Re,w?oe:J)};"addEventListener"in s?s.addEventListener("change",l):s.addListener(l)}}),so(),gt();var n=X(),i=R(n);{var r=s=>{var l=Nn();z(l,"tabindex",-1),Rt(l,5,()=>e(G),io,(w,k,T,c)=>{var d=Ln();Ao(d,(m,b,Q)=>({tabIndex:-1,class:(o(p),g(()=>p.class)),"data-sonner-toaster":!0,"data-theme":e(Re),"data-rich-colors":Ne(),dir:m,"data-y-position":b,"data-x-position":Q,style:(o(p),g(()=>p.style)),...U,[Bo]:{"--front-toast-height":(B(),g(()=>{var re;return`${(re=B()[0])==null?void 0:re.height}px`})),"--offset":typeof fe()=="number"?`${fe()}px`:fe()||N,"--width":`${v}px`,"--gap":`${L}px`}}),[()=>(o(qe()),g(()=>qe()==="auto"?Z():qe())),()=>(e(k),g(()=>e(k).split("-")[0])),()=>(e(k),g(()=>e(k).split("-")[1]))],void 0,"svelte-nbs0zk"),Rt(d,7,()=>(_(),e(k),g(()=>_().filter(m=>!m.position&&T===0||m.position===e(k)))),m=>m.id,(m,b,Q,re)=>{{let M=Je(()=>(o(I()),g(()=>{var E;return((E=I())==null?void 0:E.actionButtonStyle)||""}))),F=Je(()=>(o(I()),g(()=>{var E;return((E=I())==null?void 0:E.cancelButtonStyle)||""}))),D=Je(()=>(o(I()),g(()=>{var E;return((E=I())==null?void 0:E.class)||""}))),Be=Je(()=>(o(I()),g(()=>{var E;return((E=I())==null?void 0:E.descriptionClass)||""}))),Pe=Je(()=>(o(I()),g(()=>I().classes||{}))),$e=Je(()=>(o(I()),o(De()),g(()=>{var E;return((E=I())==null?void 0:E.duration)??De()}))),st=Je(()=>(o(I()),g(()=>I().unstyled||!1)));On(m,{get index(){return e(Q)},get toast(){return e(b)},get invert(){return pe()},get visibleToasts(){return ze()},get closeButton(){return $()},get interacting(){return e(He)},get position(){return e(k)},get expandByDefault(){return Fe()},get expanded(){return e(Se)},get actionButtonStyle(){return e(M)},get cancelButtonStyle(){return e(F)},get class(){return e(D)},get descriptionClass(){return e(Be)},get classes(){return e(Pe)},get duration(){return e($e)},get unstyled(){return e(st)},$$slots:{"loading-icon":(E,Ve)=>{var he=X(),Ie=R(he);Le(Ie,a,"loading-icon",{},x=>{{let Xe=Je(()=>(e(b),g(()=>e(b).type==="loading")));Sn(x,{get visible(){return e(Xe)}})}}),u(E,he)},"success-icon":(E,Ve)=>{var he=X(),Ie=R(he);Le(Ie,a,"success-icon",{},x=>{yt(x,{type:"success"})}),u(E,he)},"error-icon":(E,Ve)=>{var he=X(),Ie=R(he);Le(Ie,a,"error-icon",{},x=>{yt(x,{type:"error"})}),u(E,he)},"warning-icon":(E,Ve)=>{var he=X(),Ie=R(he);Le(Ie,a,"warning-icon",{},x=>{yt(x,{type:"warning"})}),u(E,he)},"info-icon":(E,Ve)=>{var he=X(),Ie=R(he);Le(Ie,a,"info-icon",{},x=>{yt(x,{type:"info"})}),u(E,he)}}})}}),ee(d),ro(d,m=>f(Ee,m),()=>e(Ee)),ke(()=>d.dir=d.dir),ue("blur",d,nt),ue("focus",d,at),ue("mouseenter",d,()=>f(Se,!0)),ue("mousemove",d,()=>f(Se,!0)),ue("mouseleave",d,()=>{e(He)||f(Se,!1)}),ue("pointerdown",d,()=>f(He,!0)),ue("pointerup",d,()=>f(He,!1)),u(w,d)}),ee(l),ke(()=>z(l,"aria-label",`${ve()} ${e(te)}`)),u(s,l)};j(i,s=>{_(),g(()=>_().length>0)&&s(r)})}u(S,n),mt(),Y()}const Mn={get current(){return Yo.current},check:Fo.updated.check},Rn=Mn;var Un=se('<div class=" text-[13px] font-medium mb-0.5 line-clamp-1"> </div>'),Wn=se('<div class="flex gap-2.5 text-left min-w-[var(--width)] w-full dark:bg-gray-850 dark:text-white bg-white text-black border border-gray-100 dark:border-gray-800 rounded-3xl px-4 py-3.5 cursor-pointer select-none"><div class="shrink-0 self-top -translate-y-0.5"><img alt="favicon" class="size-6 rounded-full"/></div> <div><!> <div class=" line-clamp-2 text-xs self-center dark:text-gray-300 font-normal"><!></div></div></div>');function ao(S,a){ft(a,!1);const p=()=>q(bt,"$settings",B),U=()=>q(ut,"$playingNotificationSound",B),_=()=>q(wt,"$isLastActiveTab",B),[B,H]=St(),Y=Io();let G=A(a,"onClick",8,()=>{}),te=A(a,"title",8,"HI"),ie=A(a,"content",8),N=0,v=0,L=P(!1);const oe=6,J=()=>{G()(),Y("closeToast")};function ne($){var I,fe;N=$.clientX,v=$.clientY,f(L,!1),(fe=(I=$.currentTarget).setPointerCapture)==null||fe.call(I,$.pointerId)}function Z($){if(e(L))return;const I=$.clientX-N,fe=$.clientY-v;I*I+fe*fe>oe*oe&&f(L,!0)}function pe($){var I,fe;(fe=(I=$.currentTarget).releasePointerCapture)==null||fe.call(I,$.pointerId),e(L)||J()}xt(()=>{var $;navigator.userActivation.hasBeenActive&&((($=p())==null?void 0:$.notificationSound)??!0)&&!U()&&_()&&(ut.set(!0),new Audio("/audio/notification.mp3").play().finally(()=>{ut.set(!1)}))}),gt();var h=Wn(),xe=de(h),be=de(xe);ee(xe);var ve=_e(xe,2),Ne=de(ve);{var Fe=$=>{var I=Un(),fe=de(I,!0);ee(I),ke(()=>dt(fe,te())),u($,I)};j(Ne,$=>{te()&&$(Fe)})}var De=_e(Ne,2),ze=de(De);ln(ze,()=>(o(to),o(eo),o(ie()),g(()=>to.sanitize(eo(ie()))))),ee(De),ee(ve),ee(h),ke(()=>z(be,"src",`${ot}/static/favicon.png`)),ue("dragstart",h,cn(function($){dn.call(this,a,$)})),ue("pointerdown",h,ne),ue("pointermove",h,Z),ue("pointerup",h,pe),ue("pointercancel",h,()=>f(L,!0)),ue("keydown",h,$=>{($.key==="Enter"||$.key===" ")&&($.preventDefault(),J())}),u(S,h),mt(),H()}var zn=se('<div class="absolute top-0 left-0 flex h-full"><div class="my-auto rounded-r-lg w-1 h-8 bg-black dark:bg-white"></div></div>'),Hn=se('<button><img class="size-11 dark:invert p-0.5" alt="logo" draggable="false"/></button>'),Yn=se('<div class="absolute top-0 left-0 flex h-full"><div class="my-auto rounded-r-lg w-1 h-8 bg-black dark:bg-white"></div></div>'),Fn=se('<div class="min-w-[4.5rem] bg-gray-50 dark:bg-gray-950 flex gap-2.5 flex-col pt-8"><div class="flex justify-center relative"><!> <!></div> <div class=" -mt-1 border-[1.5px] border-gray-100 dark:border-gray-900 mx-4"></div> <div class="flex justify-center relative group"><!> <button class=" cursor-pointer bg-transparent"><img alt="logo" draggable="false"/></button></div></div>');function jn(S){let a=P("");var p=Fn(),U=de(p),_=de(U);{var B=v=>{var L=zn();u(v,L)};j(_,v=>{e(a)==="home"&&v(B)})}var H=_e(_,2);un(H,{content:"Home",placement:"right",children:(v,L)=>{var oe=Hn(),J=de(oe);ee(oe),ke(()=>{Ke(oe,1,` cursor-pointer ${e(a)==="home"?"rounded-2xl":"rounded-full"}`),z(J,"src",`${ot}/static/splash.png`)}),ue("click",oe,()=>{f(a,"home"),window.electronAPI&&window.electronAPI.load("home")}),u(v,oe)},$$slots:{default:!0}}),ee(U);var Y=_e(U,4),G=de(Y);{var te=v=>{var L=Yn();u(v,L)};j(G,v=>{e(a)===""&&v(te)})}var ie=_e(G,2),N=de(ie);ee(ie),ee(Y),ee(p),ke(()=>{z(N,"src",`${ot}/static/favicon.png`),Ke(N,1,`size-10 ${e(a)===""?"rounded-2xl":"rounded-full"}`)}),ue("click",ie,()=>{f(a,"")}),u(S,p)}var Jn=se('<link crossorigin="anonymous" rel="icon"/> <meta name="apple-mobile-web-app-title"/> <meta name="description"/> <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" crossorigin="use-credentials"/>',1),Vn=se('<div class=" py-5"><!></div>'),Kn=se('<div class="flex flex-row h-screen"><!> <div class="w-full flex-1 max-w-[calc(100%-4.5rem)]"><!></div></div>'),qn=se("<!> <!> <!>",1);function Oa(S,a){ft(a,!1);const p=()=>q(Gt,"$WEBUI_VERSION",h),U=()=>q(Xt,"$WEBUI_DEPLOYMENT_ID",h),_=()=>q(bt,"$settings",h),B=()=>q(Ho,"$toolServers",h),H=()=>q(Jo,"$page",h),Y=()=>q(Uo,"$chatId",h),G=()=>q(Wo,"$temporaryChatEnabled",h),te=()=>q(wt,"$isLastActiveTab",h),ie=()=>q(Zt,"$currentChatPage",h),N=()=>q(qt,"$socket",h),v=()=>q(vt,"$user",h),L=()=>q(ht,"$channels",h),oe=()=>q(zo,"$channelId",h),J=()=>q(Mt,"$config",h),ne=()=>q(Kt,"$WEBUI_NAME",h),Z=()=>q(Jt,"$isApp",h),pe=()=>q(Vt,"$theme",h),[h,xe]=St();let be=hn(0,{stiffness:.05});const ve=async()=>{if("serviceWorker"in navigator)try{const n=await navigator.serviceWorker.getRegistrations();return await Promise.all(n.map(i=>i.unregister())),!0}catch(n){return!1}return!1};jo(async({willUnload:n,to:i})=>{Rn.current&&!n&&(i!=null&&i.url)&&(await ve(),location.href=i.url.href)}),To("i18n",Vo);const Ne=new BroadcastChannel("active-tab-channel");let Fe=P(!1),De=null,ze=P(!1),$=null;const I=768,fe=async n=>{const i=Co(`${ot}`||void 0,{reconnection:!0,reconnectionDelay:1e3,reconnectionDelayMax:5e3,randomizationFactor:.5,path:"/ws/socket.io",transports:n?["websocket"]:["polling","websocket"],auth:{token:localStorage.token}});await qt.set(i),i.on("connect_error",r=>{}),i.on("connect",async()=>{i.id;const r=await Go(localStorage.token),s=(r==null?void 0:r.deployment_id)??null,l=(r==null?void 0:r.version)??null;if((l!==null||s!==null)&&(p()!==null&&l!==p()||U()!==null&&s!==U())){await ve(),location.href=location.href;return}$=setInterval(()=>{i.connected&&i.emit("heartbeat",{})},3e4),s!==null&&Xt.set(s),l!==null&&Gt.set(l),localStorage.getItem("token")?i.emit("user-join",{auth:{token:localStorage.token}}):console.warn("No token found in localStorage, user-join event not emitted")}),i.on("reconnect_attempt",r=>{}),i.on("reconnect_failed",()=>{}),i.on("disconnect",(r,s)=>{`${i.id}${r}`,$&&(clearInterval($),$=null)})},qe=async(n,i,r)=>{let s=null,l=null,w=null,k=!0,T=[/\bimport\s+requests\b|\bfrom\s+requests\b/.test(i)?"requests":null,/\bimport\s+bs4\b|\bfrom\s+bs4\b/.test(i)?"beautifulsoup4":null,/\bimport\s+numpy\b|\bfrom\s+numpy\b/.test(i)?"numpy":null,/\bimport\s+pandas\b|\bfrom\s+pandas\b/.test(i)?"pandas":null,/\bimport\s+matplotlib\b|\bfrom\s+matplotlib\b/.test(i)?"matplotlib":null,/\bimport\s+seaborn\b|\bfrom\s+seaborn\b/.test(i)?"seaborn":null,/\bimport\s+sklearn\b|\bfrom\s+sklearn\b/.test(i)?"scikit-learn":null,/\bimport\s+scipy\b|\bfrom\s+scipy\b/.test(i)?"scipy":null,/\bimport\s+re\b|\bfrom\s+re\b/.test(i)?"regex":null,/\bimport\s+seaborn\b|\bfrom\s+seaborn\b/.test(i)?"seaborn":null,/\bimport\s+sympy\b|\bfrom\s+sympy\b/.test(i)?"sympy":null,/\bimport\s+tiktoken\b|\bfrom\s+tiktoken\b/.test(i)?"tiktoken":null,/\bimport\s+pytz\b|\bfrom\s+pytz\b/.test(i)?"pytz":null].filter(Boolean);const c=new Lo;c.postMessage({id:n,code:i,packages:T}),setTimeout(()=>{k&&(k=!1,w="Execution Time Limit Exceeded",c.terminate(),r&&r(JSON.parse(JSON.stringify({stdout:l,stderr:w,result:s},(d,m)=>typeof m=="bigint"?m.toString():m))))},6e4),c.onmessage=d=>{const{id:m,...b}=d.data;b.stdout&&(l=b.stdout),b.stderr&&(w=b.stderr),b.result&&(s=b.result),r&&r(JSON.parse(JSON.stringify({stdout:l,stderr:w,result:s},(Q,re)=>typeof re=="bigint"?re.toString():re))),k=!1},c.onerror=d=>{r&&r(JSON.parse(JSON.stringify({stdout:l,stderr:w,result:s},(m,b)=>typeof b=="bigint"?b.toString():b))),k=!1}},t=async(n,i)=>{var l,w,k;const r=(w=(l=_())==null?void 0:l.toolServers)==null?void 0:w.find(T=>{var c;return T.url===((c=n.server)==null?void 0:c.url)}),s=(k=B())==null?void 0:k.find(T=>{var c;return T.url===((c=n.server)==null?void 0:c.url)});if(r){let T=null;const c=(r==null?void 0:r.auth_type)??"bearer";c==="bearer"?T=r==null?void 0:r.key:c==="none"||c==="session"&&(T=localStorage.token);const d=await Zo(T,r.url,n==null?void 0:n.name,n==null?void 0:n.params,s);i&&i(JSON.parse(JSON.stringify(d)))}else i&&i(JSON.parse(JSON.stringify({error:"Tool Server Not Found"})))},we=async(n,i)=>{var w,k,T,c,d;H().url.pathname.includes(`/c/${n.chat_id}`);let r=document.visibilityState!=="visible";if(window.electronAPI){const m=await window.electronAPI.send({type:"window:isFocused"});m&&(r=m.isFocused)}await _t();const s=((w=n==null?void 0:n.data)==null?void 0:w.type)??null,l=((k=n==null?void 0:n.data)==null?void 0:k.data)??null;if(n.chat_id!==Y()&&!G()||r)if(s==="chat:completion"){const{done:m,content:b,title:Q}=l;m&&((((T=_())==null?void 0:T.notificationSoundAlways)??!1)&&(ut.set(!0),new Audio("/audio/notification.mp3").play().finally(()=>{ut.set(!1)})),te()&&(((c=_())==null?void 0:c.notificationEnabled)??!1)&&new Notification(`${Q} • Open WebUI`,{body:b,icon:`${ot}/static/favicon.png`}),Nt.custom(ao,{componentProps:{onClick:()=>{ct(`/c/${n.chat_id}`)},content:b,title:Q},duration:15e3,unstyled:!0}))}else s==="chat:title"?(Zt.set(1),await Mo.set(await tn(localStorage.token,ie()))):s==="chat:tags"&&Ro.set(await on(localStorage.token));else if((l==null?void 0:l.session_id)===N().id){if(s==="execute:python")qe(l.id,l.code,i);else if(s==="execute:tool")t(l,i);else if(s==="request:chat:completion"){N().id;const{session_id:m,channel:b,form_data:Q,model:re}=l;try{const M=((d=_())==null?void 0:d.directConnections)??{};if(M){const F=re==null?void 0:re.urlIdx,D=M.OPENAI_API_BASE_URLS[F],Be=M.OPENAI_API_KEYS[F],Pe=M.OPENAI_API_CONFIGS[F];try{if(Pe!=null&&Pe.prefix_id){const E=Pe.prefix_id;Q.model=Q.model.replace(`${E}.`,"")}const[$e,st]=await nn(Be,Q,D);if($e){if(!$e.ok)throw await $e.json();if((Q==null?void 0:Q.stream)??!1){i({status:!0});const E=$e.body.getReader(),Ve=new TextDecoder;await(async()=>{var Ie;for(;;){const{done:x,value:Xe}=await E.read();if(x)break;const Tt=Ve.decode(Xe,{stream:!0}).split(`
`).filter(Ge=>Ge.trim()!=="");for(const Ge of Tt)(Ie=N())==null||Ie.emit(b,Ge)}})()}else{const E=await $e.json();i(E)}}else throw new Error("An error occurred while fetching the completion")}catch($e){i($e)}}}catch(M){i(M)}finally{N().emit(b,{done:!0})}}}},Me=async n=>{var s,l,w,k,T,c,d,m,b,Q,re;if(((s=n.data)==null?void 0:s.type)==="typing")return;if(((l=n.data)==null?void 0:l.type)==="channel:created"){const M=await oo(localStorage.token).catch(async F=>null);M&&await ht.set(M.sort((F,D)=>["",null,"group","dm"].indexOf(F.type)-["",null,"group","dm"].indexOf(D.type)));return}const i=H().url.pathname.includes(`/channels/${n.channel_id}`);let r=document.visibilityState!=="visible";if(window.electronAPI){const M=await window.electronAPI.send({type:"window:isFocused"});M&&(r=M.isFocused)}if((!i||r)&&((w=n==null?void 0:n.user)==null?void 0:w.id)!==((k=v())==null?void 0:k.id)){await _t();const M=((T=n==null?void 0:n.data)==null?void 0:T.type)??null,F=((c=n==null?void 0:n.data)==null?void 0:c.data)??null;if(L())if(L().find(D=>D.id===n.channel_id)&&oe()!==n.channel_id)ht.set(L().map(D=>D.id===n.channel_id&&M==="message"?{...D,unread_count:(D.unread_count??0)+1,last_message_at:n.created_at}:D));else{const D=await oo(localStorage.token).catch(async Be=>null);D&&await ht.set(D.sort((Be,Pe)=>["",null,"group","dm"].indexOf(Be.type)-["",null,"group","dm"].indexOf(Pe.type)))}if(M==="message"){const D=`${(d=F==null?void 0:F.user)==null?void 0:d.name}${((m=n==null?void 0:n.channel)==null?void 0:m.type)!=="dm"?` (#${(b=n==null?void 0:n.channel)==null?void 0:b.name})`:""}`;te()&&(((Q=_())==null?void 0:Q.notificationEnabled)??!1)&&new Notification(`${D} • Open WebUI`,{body:F==null?void 0:F.content,icon:`${an}/users/${(re=F==null?void 0:F.user)==null?void 0:re.id}/profile/image`}),Nt.custom(ao,{componentProps:{onClick:()=>{ct(`/channels/${n.channel_id}`)},content:F==null?void 0:F.content,title:`${D}`},duration:15e3,unstyled:!0})}}},Se=60,He=async()=>{var r;const n=(r=v())==null?void 0:r.expires_at,i=Math.floor(Date.now()/1e3);if(n&&i>=n-Se){const s=await en();vt.set(null),localStorage.removeItem("token"),location.href=(s==null?void 0:s.redirect_url)??"/auth"}};xt(async()=>{var w,k,T;let n=0;function i(c){const d=document.querySelector("nav");return d&&(c===d||d.contains(c))}if(document.addEventListener("touchstart",c=>{i(c.target)&&(n=c.touches[0].clientY)}),document.addEventListener("touchmove",c=>{if(!i(c.target))return;c.touches[0].clientY-n>50&&window.scrollY===0&&(f(ze,!0),c.preventDefault())}),document.addEventListener("touchend",c=>{i(c.target)&&e(ze)&&(f(ze,!1),location.reload())}),typeof window<"u"&&window.applyTheme&&window.applyTheme(),window!=null&&window.electronAPI){const c=await window.electronAPI.send({type:"app:info"});if(c){Jt.set(!0),Do.set(c);const d=await window.electronAPI.send({type:"app:data"});d&&appData.set(d)}}Ne.onmessage=c=>{c.data==="active"&&wt.set(!1)};const r=()=>{document.visibilityState==="visible"&&(wt.set(!0),Ne.postMessage("active"),He())};document.addEventListener("visibilitychange",r),r(),Vt.set(localStorage.theme),Dt.set(window.innerWidth<I);const s=()=>{window.innerWidth<I?Dt.set(!0):Dt.set(!1)};window.addEventListener("resize",s),vt.subscribe(async c=>{var d,m,b,Q,re,M,F;if(c){(d=N())==null||d.off("events",we),(m=N())==null||m.off("events:channel",Me),(b=N())==null||b.on("events",we),(Q=N())==null||Q.on("events:channel",Me);const D=await mn(localStorage.token);D?bt.set(D.ui):bt.set(JSON.parse(localStorage.getItem("settings")??"{}")),rn(((re=_())==null?void 0:re.textScale)??1),De&&clearInterval(De),De=setInterval(He,15e3)}else(M=N())==null||M.off("events",we),(F=N())==null||F.off("events:channel",Me)});let l=null;try{l=await Qt()}catch(c){}if(Ko(localStorage==null?void 0:localStorage.locale),!localStorage.locale){const c=await qo(),d=navigator.languages?navigator.languages:[navigator.language||navigator.userLanguage],m=l.default_locale?l.default_locale:sn(c,d,"en-US");Xo(m),gn.locale(m)}if(l){if(await Mt.set(l),await Kt.set(l.name),J()){await fe(((w=J().features)==null?void 0:w.enable_websocket)??!0);const c=`${window.location.pathname}${window.location.search}`,d=encodeURIComponent(c);if(localStorage.token){const m=await Qo(localStorage.token).catch(b=>(Nt.error(`${b}`),null));m?(await vt.set(m),await Mt.set(await Qt())):(localStorage.removeItem("token"),await ct(`/auth?redirect=${d}`))}else H().url.pathname!=="/auth"&&await ct(`/auth?redirect=${d}`)}}else await ct("/error");if(await _t(),document.documentElement.classList.contains("her")&&document.getElementById("progress-bar")){be.subscribe(m=>{const b=document.getElementById("progress-bar");b&&(b.style.width=`${m}%`)}),await be.set(100),(k=document.getElementById("splash-screen"))==null||k.remove();const c=new Audio("/audio/greeting.mp3"),d=()=>{c.play(),document.removeEventListener("click",d)};document.addEventListener("click",d),f(Fe,!0)}else(T=document.getElementById("splash-screen"))==null||T.remove(),f(Fe,!0);return()=>{window.removeEventListener("resize",s)}}),gt();var Re=qn();Eo(n=>{var i=Jn(),r=R(i),s=_e(r,2),l=_e(s,2),w=_e(l,2);ke(()=>{Po.title=ne()??"",z(r,"href",`${ot??""}/static/favicon.png`),z(s,"content",ne()),z(l,"content",ne()),z(w,"title",ne())}),u(n,i)});var Ee=R(Re);{var Ae=n=>{var i=Vn(),r=de(i);fn(r,{className:"size-5"}),ee(i),u(n,i)};j(Ee,n=>{e(ze)&&n(Ae)})}var Ue=_e(Ee,2);{var nt=n=>{var i=X(),r=R(i);{var s=w=>{var k=Kn(),T=de(k);jn(T);var c=_e(T,2),d=de(c);Le(d,a,"default",{},null),ee(c),ee(k),u(w,k)},l=w=>{var k=X(),T=R(k);Le(T,a,"default",{},null),u(w,k)};j(r,w=>{Z()?w(s):w(l,!1)})}u(n,i)};j(Ue,n=>{e(Fe)&&n(nt)})}var at=_e(Ue,2);{let n=Je(()=>pe().includes("dark")||pe()==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");Dn(at,{get theme(){return e(n)},richColors:!0,position:"top-right",closeButton:!0})}u(S,Re),mt(),xe()}export{Oa as component,Ca as universal};
//# sourceMappingURL=0.BkHd7UA-.js.map

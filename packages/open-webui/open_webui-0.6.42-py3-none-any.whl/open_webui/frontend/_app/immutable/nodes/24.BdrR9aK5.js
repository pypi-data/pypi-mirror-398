import"../chunks/CWj6FrbW.js";import"../chunks/CN51-NxK.js";import{b as Ft,g as Et,o as Wt,i as o,aT as va,q as At,j as e,v as ca,h as ua,t as g,$ as fa,w as i,e as we,k as v,c as a,r as t,a as d,p as Ht,f as u,m as P,A as ma,s as x,l as Qe,n as F,d as ht,u as Y,z as It}from"../chunks/lUdQH9Xf.js";import{i as I}from"../chunks/a8_cTibZ.js";import{r as pa,a as Re,s as Ze}from"../chunks/AGdekky4.js";import{i as zt}from"../chunks/VsCEtJ32.js";import{a as de,s as qt}from"../chunks/CcA7kcll.js";import{d as T,r as ga}from"../chunks/I1CDPYOB.js";import"../chunks/BkIq4suy.js";import{W as xa,s as Mt,m as _a,u as ba,g as ya}from"../chunks/CQ5nDkjA.js";import{g as Vt}from"../chunks/CeIFb-7H.js";import{p as ha}from"../chunks/DRW7FbpN.js";import{c as Xt,d as $a}from"../chunks/OD-RErDD.js";import{U as wa}from"../chunks/mPisGjQv.js";import{e as _t,i as ka}from"../chunks/CyDjujdM.js";import{b as Na}from"../chunks/gZt8HVPH.js";import{m as Da,j as Je,k as Bt,g as Sa}from"../chunks/BXNnaNI-.js";import{t as G}from"../chunks/1N3xujas.js";import{f as La}from"../chunks/CHfhHIQf.js";import{d as ja}from"../chunks/BQWQRICs.js";import{s as Pa,d as Oa,c as Ca}from"../chunks/CVs1a4Ei.js";import{E as Tt}from"../chunks/CJyvYL24.js";import{C as Ua}from"../chunks/7L2QCwoR.js";import{S as Aa}from"../chunks/BoK-DDlo.js";import{P as Ia}from"../chunks/C4_WGY8S.js";import{S as bt}from"../chunks/CkkUFZ96.js";import{T as Me}from"../chunks/BtoSXKKz.js";import{N as Yt}from"../chunks/XczIcwmb.js";import{F as Ma}from"../chunks/DnmAlURW.js";import{X as Ba}from"../chunks/9jNi-Hzr.js";import{D as yt}from"../chunks/CWovuUG_.js";import{L as Ta}from"../chunks/BrFI5UBi.js";import{S as Ya}from"../chunks/Dguw-oCp.js";import{a as Fa}from"../chunks/BJunrENY.js";var Ea=u('<div class=" text-sm text-gray-500 truncate"> <span class="  font-semibold"> </span>.</div>'),Wa=u('<div class="self-center pl-1.5 translate-y-[0.5px] rounded-l-xl bg-transparent"><button class="p-0.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-900 transition"><!></button></div>'),Ha=u('<div class=" text-sm font-medium capitalize flex-1 w-full line-clamp-1"> </div>'),za=u("<div> </div>"),qa=u('<div class="shrink-0 text-gray-500"> </div>'),Va=u('<button class="self-center w-fit text-sm p-1 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl" type="button"><!></button>'),Xa=u('<div class=" flex cursor-pointer w-full px-3.5 py-1.5 border border-gray-50 dark:border-gray-850/30 bg-transparent dark:hover:bg-gray-850 hover:bg-white rounded-2xl transition"><a class="w-full flex flex-col justify-between"><div class="flex-1"><div class="  flex items-center gap-2 self-center justify-between"><!> <div class="flex shrink-0 items-center text-xs gap-2.5"><!> <!> <div><!></div></div></div></div></a></div>'),Ga=u("<div></div>"),Ka=u('<button class="self-center w-fit text-sm p-1 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl" type="button"><!></button>'),Ja=u('<div class="shrink-0 text-gray-500"> </div>'),Qa=u('<div class=" flex space-x-4 cursor-pointer w-full px-4.5 py-4 border border-gray-50 dark:border-gray-850/30 bg-transparent dark:hover:bg-gray-850 hover:bg-white rounded-2xl transition"><div class=" flex flex-1 space-x-4 cursor-pointer w-full"><a class="w-full -translate-y-0.5 flex flex-col justify-between"><div class="flex-1"><div class="  flex items-center gap-2 self-center mb-1 justify-between"><div class=" font-semibold line-clamp-1 capitalize"> </div> <div><!></div></div> <div class=" text-xs text-gray-500 dark:text-gray-500 mb-3 line-clamp-3 min-h-10"><!></div></div> <div class=" text-xs px-0.5 w-full flex justify-between items-center"><div> </div> <!></div></a></div></div>'),Ra=u("<div></div>"),Za=u('<div class="w-full text-xs text-gray-500 dark:text-gray-500 font-medium px-2.5 pb-2.5"> </div> <!>',1),er=u('<div class="w-full flex justify-center py-4 text-xs animate-pulse items-center gap-2"><!> <div class=" "> </div></div>'),tr=u('<div class="@container h-full py-2.5 px-2.5"><div><!> <!></div></div>'),ar=u('<div class="w-full h-full flex flex-col items-center justify-center"><div class="py-20 text-center"><div class=" text-sm text-gray-400 dark:text-gray-600"> </div> <div class="mt-1 text-xs text-gray-300 dark:text-gray-700"> </div></div></div>'),rr=u('<div class="w-full h-full flex justify-center items-center py-10"><!></div>'),sr=u('<!> <div class="flex flex-col gap-1 px-1 mt-1.5 mb-3"><div class="flex justify-between items-center"><div class="flex items-center md:self-center text-xl font-medium px-0.5 gap-2 shrink-0"><div> </div> <div class="text-lg font-medium text-gray-500 dark:text-gray-500"> </div></div> <div class="flex w-full justify-end gap-1.5"><button class=" px-2 py-1.5 rounded-xl bg-black text-white dark:bg-white dark:text-black transition font-medium text-sm flex items-center"><!> <div class=" ml-1 text-xs"> </div></button></div></div></div> <div class="py-2 bg-white dark:bg-gray-900 rounded-3xl border border-gray-100/30 dark:border-gray-850/30"><div class="px-3.5 flex flex-1 items-center w-full space-x-2 py-0.5 pb-2"><div class="flex flex-1 items-center"><div class=" self-center ml-1 mr-3"><!></div> <input class=" w-full text-sm py-1 rounded-r-xl outline-hidden bg-transparent"/> <!></div></div> <div class="px-3 flex justify-between"><div class="flex w-full bg-transparent overflow-x-auto scrollbar-none"><div class="flex gap-3 w-fit text-center text-sm rounded-full bg-transparent px-0.5 whitespace-nowrap"><!> <!></div></div> <div><!></div></div> <!></div>',1),lr=u('<div class="w-full h-full flex justify-center items-center"><!></div>'),ir=u('<!> <div id="notes-container" class="w-full min-h-full h-full px-3 md:px-[18px]"><!></div>',1);function or(et,tt){Ft(tt,!1);const r=()=>de(at,"$i18n",Be),ve=()=>de(xa,"$WEBUI_NAME",Be),[Be,ke]=qt(),{saveAs:te}=La;T.extend(ja),T.extend(ga);async function ae(s){for(const l of s)try{T.locale(l);break}catch(m){`${l}`}}const at=Et("i18n");let ce=P(!1),y=P(null),K=P(!1),O=P(null),ue=P(null),L=P(""),E=null,N=P(null),C=P(null),W=P(null),Ne=1,re=P(!1),H=P(!1);const De=async s=>{if(s==="txt"){const l=new Blob([e(y).data.content.md],{type:"text/plain"});te(l,`${e(y).title}.txt`)}else if(s==="md"){const l=new Blob([e(y).data.content.md],{type:"text/markdown"});te(l,`${e(y).title}.md`)}else if(s==="pdf")try{await $a(e(y))}catch(l){G.error(`${l}`)}},Te=async s=>{await Oa(localStorage.token,s).catch(m=>(G.error(`${m}`),null))&&Se()},rt=async s=>{for(const l of s){if(l.type!=="text/markdown"){G.error(r().t("Only markdown files are allowed"));return}const m=new FileReader;m.onload=async $=>{const me=$.target.result;let Pe=l.name.replace(/\.md$/,"");if(typeof me!="string"){G.error(r().t("Invalid file content"));return}await Ca(localStorage.token,{title:Pe,data:{content:{json:null,html:Da.parse(me??""),md:me}},meta:null,access_control:{}}).catch(ot=>(G.error(`${ot}`),null))&&Se()},m.readAsText(l)}},Ye=()=>{Ne=1,o(O,null),o(ue,null),o(H,!1),o(re,!1)},st=async()=>{e(H)||(Ne+=1,await Le())},Se=async()=>{Ye(),await Le()},Le=async()=>{o(re,!0),e(C)==="created"&&o(W,null);const s=await Pa(localStorage.token,e(L),e(C),e(W),E,Ne).catch(()=>[]);if(s){o(ue,s.total);const l=s.items;(l??[]).length===0?o(H,!0):o(H,!1),e(O)?o(O,[...e(O),...l]):o(O,l)}return o(re,!1),s},lt=s=>{if(!Array.isArray(s))return{};const l={};for(const m of s){const $=Sa(m.updated_at/1e9);l[$]||(l[$]=[]),l[$].push({...m,timeRange:$})}return l};let h=P(!1);const z=s=>{var l,m;s.preventDefault(),(m=(l=s.dataTransfer)==null?void 0:l.types)!=null&&m.includes("Files")?o(h,!0):o(h,!1)},M=()=>{o(h,!1)},je=async s=>{var l,m;if(s.preventDefault(),(l=s.dataTransfer)!=null&&l.files){const $=Array.from((m=s.dataTransfer)==null?void 0:m.files);$&&$.length>0&&rt($)}o(h,!1)};Wt(async()=>{o(C,(localStorage==null?void 0:localStorage.noteViewOption)??null),o(N,(localStorage==null?void 0:localStorage.noteDisplayOption)??null),o(ce,!0);const s=document.getElementById("notes-container");s==null||s.addEventListener("dragover",z),s==null||s.addEventListener("drop",je),s==null||s.addEventListener("dragleave",M)}),va(()=>{const s=document.getElementById("notes-container");s&&(s==null||s.removeEventListener("dragover",z),s==null||s.removeEventListener("drop",je),s==null||s.removeEventListener("dragleave",M))}),At(()=>r(),()=>{ae(r().languages)}),At(()=>(e(ce),e(L),e(W),e(C)),()=>{e(ce)&&e(L)!==void 0&&E!==void 0&&e(W)!==void 0&&e(C)!==void 0&&Se()}),ca(),zt();var J=ir();ua(s=>{g(l=>fa.title=`
		${l??""} â€¢ ${ve()??""}
	`,[()=>(r(),i(()=>r().t("Notes")))])});var fe=we(J);Ma(fe,{get show(){return e(h)}});var q=v(fe,2),se=a(q);{var it=s=>{var l=sr(),m=we(l);{let n=F(()=>(r(),i(()=>r().t("Delete note?"))));Ua(m,{get title(){return e(n)},get show(){return e(K)},set show(c){o(K,c)},$$events:{confirm:()=>{Te(e(y).id),o(K,!1)}},children:(c,U)=>{var le=Ea(),He=a(le),V=v(He),_=a(V,!0);t(V),ma(),t(le),g(Q=>{x(He,`${Q??""} `),x(_,(e(y),i(()=>e(y).title)))},[()=>(r(),i(()=>r().t("This will delete")))]),d(c,le)},$$slots:{default:!0},$$legacy:!0})}var $=v(m,2),me=a($),Pe=a(me),Fe=a(Pe),ot=a(Fe,!0);t(Fe);var $t=v(Fe,2),Kt=a($t,!0);t($t),t(Pe);var wt=v(Pe,2),nt=a(wt),kt=a(nt);Ia(kt,{className:"size-3",strokeWidth:"2.5"});var Nt=v(kt,2),Jt=a(Nt,!0);t(Nt),t(nt),t(wt),t(me),t($);var Dt=v($,2),dt=a(Dt),St=a(dt),vt=a(St),Qt=a(vt);Aa(Qt,{className:"size-3.5"}),t(vt);var Ee=v(vt,2);pa(Ee);var Rt=v(Ee,2);{var Zt=n=>{var c=Wa(),U=a(c),le=a(U);Ba(le,{className:"size-3",strokeWidth:"2"}),t(U),t(c),Qe("click",U,()=>{o(L,"")}),d(n,c)};I(Rt,n=>{e(L)&&n(Zt)})}t(St),t(dt);var ct=v(dt,2),We=a(ct),Lt=a(We),jt=a(Lt);{let n=F(()=>(r(),i(()=>[{value:null,label:r().t("All")},{value:"created",label:r().t("Created by you")},{value:"shared",label:r().t("Shared with you")}])));yt(jt,{align:"start",className:"flex w-full items-center gap-2 truncate px-3 py-1.5 text-sm bg-gray-50 dark:bg-gray-850 rounded-xl  placeholder-gray-400 outline-hidden focus:outline-hidden",get items(){return e(n)},onChange:c=>{c?localStorage.noteViewOption=c:delete localStorage.noteViewOption},get value(){return e(C)},set value(c){o(C,c)},$$legacy:!0})}var ea=v(jt,2);{var ta=n=>{{let c=F(()=>(r(),i(()=>[{value:null,label:r().t("Write")},{value:"read_only",label:r().t("Read Only")}])));yt(n,{align:"start",get items(){return e(c)},get value(){return e(W)},set value(U){o(W,U)},$$legacy:!0})}};I(ea,n=>{e(C),i(()=>[null,"shared"].includes(e(C)))&&n(ta)})}t(Lt),t(We);var Pt=v(We,2),aa=a(Pt);{let n=F(()=>(r(),i(()=>[{value:null,label:r().t("List")},{value:"grid",label:r().t("Grid")}])));yt(aa,{align:"start",get items(){return e(n)},onChange:()=>{e(N)?localStorage.noteDisplayOption=e(N):delete localStorage.noteDisplayOption},get value(){return e(N)},set value(c){o(N,c)},$$legacy:!0})}t(Pt),t(ct);var ra=v(ct,2);{var sa=n=>{var c=ht(),U=we(c);{var le=V=>{const _=F(()=>(e(O),i(()=>lt(e(O)))));var Q=tr(),pe=a(Q),ze=a(pe);_t(ze,1,()=>(Y(e(_)),i(()=>Object.keys(e(_)))),ka,(ie,B,ft)=>{var ge=Za(),xe=we(ge),Ve=a(xe,!0);t(xe);var mt=v(xe,2);{var pt=R=>{var oe=Ga();_t(oe,7,()=>(Y(e(_)),e(B),i(()=>e(_)[e(B)])),ne=>ne.id,(ne,p,Xe,Oe)=>{var X=Xa(),f=a(X),gt=a(f),xt=a(gt),_e=a(xt);Me(_e,{get content(){return e(p),i(()=>e(p).title)},className:"flex-1",placement:"top-start",children:(j,A)=>{var D=Ha(),S=a(D,!0);t(D),g(()=>x(S,(e(p),i(()=>e(p).title)))),d(j,D)},$$slots:{default:!0}});var Ce=v(_e,2),be=a(Ce);{let j=F(()=>(Y(T),e(p),i(()=>T(e(p).updated_at/1e6).format("LLLL"))));Me(be,{get content(){return e(j)},children:(A,D)=>{var S=za(),Ae=a(S,!0);t(S),g(Z=>x(Ae,Z),[()=>(Y(T),e(p),i(()=>T(e(p).updated_at/1e6).fromNow()))]),d(A,S)},$$slots:{default:!0}})}var ye=v(be,2);{let j=F(()=>(e(p),r(),i(()=>{var A,D;return((D=(A=e(p))==null?void 0:A.user)==null?void 0:D.email)??r().t("Deleted User")})));Me(ye,{get content(){return e(j)},className:"flex shrink-0",placement:"top-start",children:(A,D)=>{var S=qa(),Ae=a(S,!0);t(S),g(Z=>x(Ae,Z),[()=>(r(),Y(Je),e(p),i(()=>{var Z,Ge,Ie,$e;return r().t("By {{name}}",{name:Je(((Ge=(Z=e(p))==null?void 0:Z.user)==null?void 0:Ge.name)??(($e=(Ie=e(p))==null?void 0:Ie.user)==null?void 0:$e.email)??r().t("Deleted User"))})}))]),d(A,S)},$$slots:{default:!0}})}var he=v(ye,2),Ue=a(he);Yt(Ue,{onDownload:j=>{o(y,e(p)),De(j)},onCopyLink:async()=>{const j=window.location.origin;await Bt(`${j}/notes/${e(p).id}`)?G.success(r().t("Copied link to clipboard")):G.error(r().t("Failed to copy link"))},onDelete:()=>{o(y,e(p)),o(K,!0)},children:(j,A)=>{var D=Va(),S=a(D);Tt(S,{className:"size-5"}),t(D),d(j,D)},$$slots:{default:!0}}),t(he),t(Ce),t(xt),t(gt),t(f),t(X),g(()=>Re(f,"href",(e(p),i(()=>`/notes/${e(p).id}`)))),d(ne,X)}),t(oe),g(ne=>Ze(oe,1,`${ne??""} gap-1.5 flex flex-col`),[()=>(Y(e(_)),i(()=>Object.keys(e(_)).length-1!==ft?"mb-3":""))]),d(R,oe)},ia=R=>{var oe=ht(),ne=we(oe);{var p=Xe=>{var Oe=Ra();_t(Oe,7,()=>(Y(e(_)),e(B),i(()=>e(_)[e(B)])),X=>X.id,(X,f,gt,xt)=>{var _e=Qa(),Ce=a(_e),be=a(Ce),ye=a(be),he=a(ye),Ue=a(he),j=a(Ue,!0);t(Ue);var A=v(Ue,2),D=a(A);Yt(D,{onDownload:b=>{o(y,e(f)),De(b)},onCopyLink:async()=>{const b=window.location.origin;await Bt(`${b}/notes/${e(f).id}`)?G.success(r().t("Copied link to clipboard")):G.error(r().t("Failed to copy link"))},onDelete:()=>{o(y,e(f)),o(K,!0)},children:(b,w)=>{var k=Ka(),ee=a(k);Tt(ee,{className:"size-5"}),t(k),d(b,k)},$$slots:{default:!0}}),t(A),t(he);var S=v(he,2),Ae=a(S);{var Z=b=>{var w=It();g(()=>x(w,(e(f),i(()=>{var k,ee;return(ee=(k=e(f).data)==null?void 0:k.content)==null?void 0:ee.md})))),d(b,w)},Ge=b=>{var w=It();g(k=>x(w,k),[()=>(r(),i(()=>r().t("No content")))]),d(b,w)};I(Ae,b=>{e(f),i(()=>{var w,k;return(k=(w=e(f).data)==null?void 0:w.content)==null?void 0:k.md})?b(Z):b(Ge,!1)})}t(S),t(ye);var Ie=v(ye,2),$e=a(Ie),oa=a($e,!0);t($e);var na=v($e,2);{let b=F(()=>(e(f),r(),i(()=>{var w,k;return((k=(w=e(f))==null?void 0:w.user)==null?void 0:k.email)??r().t("Deleted User")})));Me(na,{get content(){return e(b)},className:"flex shrink-0",placement:"top-start",children:(w,k)=>{var ee=Ja(),da=a(ee,!0);t(ee),g(Ke=>x(da,Ke),[()=>(r(),Y(Je),e(f),i(()=>{var Ke,Ot,Ct,Ut;return r().t("By {{name}}",{name:Je(((Ot=(Ke=e(f))==null?void 0:Ke.user)==null?void 0:Ot.name)??((Ut=(Ct=e(f))==null?void 0:Ct.user)==null?void 0:Ut.email)??r().t("Deleted User"))})}))]),d(w,ee)},$$slots:{default:!0}})}t(Ie),t(be),t(Ce),t(_e),g(b=>{Re(be,"href",(e(f),i(()=>`/notes/${e(f).id}`))),x(j,(e(f),i(()=>e(f).title))),x(oa,b)},[()=>(Y(T),e(f),i(()=>T(e(f).updated_at/1e6).fromNow()))]),d(X,_e)}),t(Oe),g(X=>Ze(Oe,1,`${X??""} gap-2.5 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5`),[()=>(Y(e(_)),i(()=>Object.keys(e(_)).length-1!==ft?"mb-5":""))]),d(Xe,Oe)};I(ne,Xe=>{e(N)==="grid"&&Xe(p)},!0)}d(R,oe)};I(mt,R=>{e(N)===null?R(pt):R(ia,!1)})}g(R=>x(Ve,R),[()=>(r(),e(B),i(()=>r().t(e(B))))]),d(ie,ge)});var qe=v(ze,2);{var ut=ie=>{Ta(ie,{$$events:{visible:B=>{e(re)||st()}},children:(B,ft)=>{var ge=er(),xe=a(ge);bt(xe,{className:" size-4"});var Ve=v(xe,2),mt=a(Ve,!0);t(Ve),t(ge),g(pt=>x(mt,pt),[()=>(r(),i(()=>r().t("Loading...")))]),d(B,ge)},$$slots:{default:!0}})};I(qe,ie=>{e(H)||ie(ut)})}t(pe),t(Q),d(V,Q)},He=V=>{var _=ar(),Q=a(_),pe=a(Q),ze=a(pe,!0);t(pe);var qe=v(pe,2),ut=a(qe,!0);t(qe),t(Q),t(_),g((ie,B)=>{x(ze,ie),x(ut,B)},[()=>(r(),i(()=>r().t("No Notes"))),()=>(r(),i(()=>r().t("Create your first note by clicking on the plus button below.")))]),d(V,_)};I(U,V=>{e(O),i(()=>(e(O)??[]).length>0)?V(le):V(He,!1)})}d(n,c)},la=n=>{var c=rr(),U=a(c);bt(U,{className:"size-4"}),t(c),d(n,c)};I(ra,n=>{e(O)!==null&&e(ue)!==null?n(sa):n(la,!1)})}t(Dt),g((n,c,U)=>{x(ot,n),x(Kt,e(ue)),x(Jt,c),Re(Ee,"placeholder",U)},[()=>(r(),i(()=>r().t("Notes"))),()=>(r(),i(()=>r().t("New Note"))),()=>(r(),i(()=>r().t("Search Notes")))]),Qe("click",nt,async()=>{const n=await Xt(T().format("YYYY-MM-DD"));n&&Vt(`/notes/${n.id}`)}),Na(Ee,()=>e(L),n=>o(L,n)),Qe("wheel",We,n=>{n.deltaY!==0&&(n.preventDefault(),n.currentTarget.scrollLeft+=n.deltaY)}),d(s,l)},Gt=s=>{var l=lr(),m=a(l);bt(m,{className:"size-4"}),t(l),d(s,l)};I(se,s=>{e(ce)?s(it):s(Gt,!1)})}t(q),d(et,J),Ht(),ke()}var nr=u('<button id="sidebar-toggle-button" class=" cursor-pointer flex rounded-lg hover:bg-gray-100 dark:hover:bg-gray-850 transition cursor-"><div class=" self-center p-1.5"><!></div></button>'),dr=u("<div><!></div>"),vr=u('<button class="select-none flex rounded-xl p-1.5 w-full hover:bg-gray-50 dark:hover:bg-gray-850 transition" aria-label="User Menu"><div class=" self-center"><img class="size-6 object-cover rounded-full" alt="User profile" draggable="false"/></div></button>'),cr=u('<div><nav class="   px-2 pt-1.5 backdrop-blur-xl w-full drag-region"><div class=" flex items-center"><!> <div class="ml-2 py-0.5 self-center flex items-center justify-between w-full"><div><div class="flex gap-1 scrollbar-none overflow-x-auto w-fit text-center text-sm font-medium bg-transparent py-1 touch-auto pointer-events-auto"><a class="min-w-fit transition" href="/notes"> </a></div></div> <div class=" self-center flex items-center gap-1"><!></div></div></div></nav> <div class=" flex-1 max-h-full overflow-y-auto @container"><!></div></div>');function Vr(et,tt){Ft(tt,!1);const r=()=>de(ha,"$page",ae),ve=()=>de(Mt,"$showSidebar",ae),Be=()=>de(_a,"$mobile",ae),ke=()=>de(ce,"$i18n",ae),te=()=>de(ba,"$user",ae),[ae,at]=qt(),ce=Et("i18n");let y=P(!1);Wt(async()=>{if(r().url.searchParams.get("content")!==null||r().url.searchParams.get("title")!==null){const L=r().url.searchParams.get("title")??T().format("YYYY-MM-DD"),E=r().url.searchParams.get("content")??"",N=await Xt(L,E);N&&Vt(`/notes/${N.id}`);return}o(y,!0)}),zt();var K=ht(),O=we(K);{var ue=L=>{var E=cr(),N=a(E),C=a(N),W=a(C);{var Ne=h=>{var z=dr(),M=a(z);{let je=F(()=>ve()?ke().t("Close Sidebar"):ke().t("Open Sidebar"));Me(M,{get content(){return e(je)},interactive:!0,children:(J,fe)=>{var q=nr(),se=a(q),it=a(se);Ya(it,{}),t(se),t(q),Qe("click",q,()=>{Mt.set(!ve())}),d(J,q)},$$slots:{default:!0}})}t(z),g(()=>Ze(z,1,`${ve()?"md:hidden":""} flex flex-none items-center`)),d(h,z)};I(W,h=>{Be()&&h(Ne)})}var re=v(W,2),H=a(re),De=a(H),Te=a(De),rt=a(Te,!0);t(Te),t(De),t(H);var Ye=v(H,2),st=a(Ye);{var Se=h=>{{let z=F(()=>{var M;return(M=te())==null?void 0:M.role});wa(h,{className:"max-w-[240px]",get role(){return e(z)},help:!0,$$events:{show:M=>{M.detail==="archived-chat"&&ya.set(!0)}},children:(M,je)=>{var J=vr(),fe=a(J),q=a(fe);t(fe),t(J),g(()=>{var se;return Re(q,"src",`${Fa}/users/${(se=te())==null?void 0:se.id}/profile/image`)}),d(M,J)},$$slots:{default:!0}})}};I(st,h=>{te()!==void 0&&te()!==null&&h(Se)})}t(Ye),t(re),t(C),t(N);var Le=v(N,2),lt=a(Le);or(lt,{}),t(Le),t(E),g(h=>{Ze(E,1,` flex flex-col w-full h-screen max-h-[100dvh] transition-width duration-200 ease-in-out ${ve()?"md:max-w-[calc(100%-var(--sidebar-width))]":""} max-w-full`),x(rt,h)},[()=>ke().t("Notes")]),d(L,E)};I(O,L=>{e(y)&&L(ue)})}d(et,K),Ht(),at()}export{Vr as component};
//# sourceMappingURL=24.BdrR9aK5.js.map

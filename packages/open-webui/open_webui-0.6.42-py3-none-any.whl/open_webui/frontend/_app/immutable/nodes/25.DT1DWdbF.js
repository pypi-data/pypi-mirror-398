import"../chunks/CWj6FrbW.js";import"../chunks/CN51-NxK.js";import{b as nt,g as ft,e as se,c as o,r,k as b,u as Pe,w as d,t as j,aW as ea,s as le,j as e,a as c,l as pe,p as st,f as m,A as ta,n as we,B as mt,d as Ue,o as Bt,i as s,x as ot,m as Y,aX as $e,aT as aa,y as Ca,q as Gt,v as Ea,h as Ia,$ as Na}from"../chunks/lUdQH9Xf.js";import{i as fe}from"../chunks/a8_cTibZ.js";import{d as ra,a as gt,s as Ye,c as pt,r as Sa}from"../chunks/AGdekky4.js";import{i as lt}from"../chunks/VsCEtJ32.js";import{a as ze,s as ht}from"../chunks/CcA7kcll.js";import{g as Vt}from"../chunks/CeIFb-7H.js";import{p as za}from"../chunks/DRW7FbpN.js";import{a as Jt,i as Ma,b as Pa,c as Ta,W as Aa,m as Oa,u as ja,s as Ut}from"../chunks/CQ5nDkjA.js";import{d as ke,r as Ra}from"../chunks/I1CDPYOB.js";import"../chunks/BkIq4suy.js";import"../chunks/BFmuJLeH.js";import{t as Ce}from"../chunks/1N3xujas.js";import{m as Ft,n as oa,k as Zt,y as Qt,x as Ha,z as Wa}from"../chunks/BXNnaNI-.js";import{b as Ba}from"../chunks/gZt8HVPH.js";import{b as na}from"../chunks/D72e2DEW.js";import{p as f}from"../chunks/wFFmXPqF.js";import{f as Da}from"../chunks/CHfhHIQf.js";import{c as Ua}from"../chunks/DOWKdgXc.js";import{d as Fa}from"../chunks/BQWQRICs.js";import{d as La,c as sa,P as Ja}from"../chunks/BIFARBIE.js";import{b as Lt}from"../chunks/BJunrENY.js";import{u as Ya,g as qa}from"../chunks/Y752zNk5.js";import{c as la,g as Xa}from"../chunks/DrHmROi9.js";import{d as Ga}from"../chunks/OD-RErDD.js";import{e as Pt,i as Tt}from"../chunks/CyDjujdM.js";import{X as ia}from"../chunks/9jNi-Hzr.js";import{I as Va,M as Za,c as da}from"../chunks/DF5UxXSC.js";import"../chunks/BAX94-W5.js";import{F as Qa}from"../chunks/CVLvuhCs.js";import{p as Ka}from"../chunks/Bfc47y5P.js";import{S as er}from"../chunks/CPW-btCN.js";import{P as tr}from"../chunks/C2a4pS38.js";import{T as ar}from"../chunks/DljGs0XM.js";import{T as Je}from"../chunks/BtoSXKKz.js";import{M as rr}from"../chunks/CRCzxQIJ.js";import{P as or}from"../chunks/CJXe83K5.js";import{s as $t}from"../chunks/9RuGBeWD.js";import{D as nr}from"../chunks/DCRoLTs7.js";import{A as sr}from"../chunks/DStYX156.js";import{g as lr,d as ir,u as dr}from"../chunks/CVs1a4Ei.js";import{R as cr,V as ur}from"../chunks/6PEMcLub.js";import{S as Kt}from"../chunks/CkkUFZ96.js";import{M as vr}from"../chunks/Bj7SR6gR.js";import{C as fr}from"../chunks/7L2QCwoR.js";import"../chunks/CbKu5dqy.js";import{F as mr}from"../chunks/DnmAlURW.js";import{M as ca,a as ua,b as va}from"../chunks/VjqWeGTs.js";import{f as fa}from"../chunks/CiB29Aqe.js";import{C as gr}from"../chunks/l_k_-SZy.js";import{N as pr}from"../chunks/XczIcwmb.js";import{E as hr}from"../chunks/CJyvYL24.js";import{S as ma}from"../chunks/BsEh57bC.js";import{S as _r}from"../chunks/Dguw-oCp.js";var xr=m('<div class=" text-xs font-medium mb-2"> </div> <div class="flex flex-col gap-1"><!> <div class="flex items-center flex-wrap gap-2 mt-1.5"></div></div> <hr class="my-2 border-gray-50 dark:border-gray-700/10"/>',1),br=m('<option class="bg-gray-50 dark:bg-gray-700"> </option>'),wr=m('<div class="flex items-center mb-1.5 pt-1.5"><div class=" mr-1 flex items-center"><button class="p-0.5 bg-transparent transition rounded-lg"><!></button></div> <div class=" font-medium text-base flex items-center gap-1"><div> </div></div></div> <div class="mt-1 px-1.5"><div class="pb-10"><!> <div class=" text-xs font-medium mb-1"> </div> <div class="w-full"><select class="w-full bg-transparent text-sm outline-hidden"><option class="bg-gray-50 dark:bg-gray-700" disabled> </option><!></select></div></div></div>',1);function yr(U,l){nt(l,!1);const t=()=>ze(h,"$i18n",w),y=()=>ze(Jt,"$models",w),[w,ie]=ht(),h=ft("i18n");let O=f(l,"show",12,!1),de=f(l,"selectedModelId",12,""),P=f(l,"files",28,()=>[]),Q=f(l,"onUpdate",8,V=>{});lt();var H=wr(),ce=se(H),R=o(ce),W=o(R),ye=o(W);ia(ye,{className:"size-5",strokeWidth:"2.5"}),r(W),r(R);var E=b(R,2),p=o(E),a=o(p,!0);r(p),r(E),r(ce);var _=b(ce,2),oe=o(_),K=o(oe);{var G=V=>{var ee=xr(),ue=se(ee),He=o(ue,!0);r(ue);var xe=b(ue,2),Ve=o(xe);Pt(Ve,1,()=>(Pe(P()),d(()=>P().filter(ge=>ge.type!=="image"))),Tt,(ge,q)=>{{let We=we(()=>(e(q),d(()=>{var it;return(it=e(q))==null?void 0:it.size}))),Ke=we(()=>(e(q),d(()=>e(q).status==="uploading")));Qa(ge,{className:"w-full",get item(){return e(q)},small:!0,edit:!0,dismissible:!0,get url(){return e(q),d(()=>e(q).url)},get name(){return e(q),d(()=>e(q).name)},get type(){return e(q),d(()=>e(q).type)},get size(){return e(We)},get loading(){return e(Ke)},$$events:{dismiss:()=>{P(P().filter(it=>it.id!==e(q).id)),P(P()),Q()(P())},click:()=>{e(q)}}})}});var qe=b(Ve,2);Pt(qe,5,()=>(Pe(P()),d(()=>P().filter(ge=>ge.type==="image"))),Tt,(ge,q)=>{Va(ge,{get src(){return e(q),d(()=>e(q).url)},imageClassName:" size-14 rounded-xl object-cover",dismissible:!0,onDismiss:()=>{P(P().filter(We=>We.id!==e(q).id)),P(P()),Q()(P())}})}),r(qe),r(xe),ta(2),j(ge=>le(He,ge),[()=>(t(),d(()=>t().t("Files")))]),c(V,ee)};fe(K,V=>{Pe(P()),d(()=>P().length>0)&&V(G)})}var A=b(K,2),v=o(A,!0);r(A);var F=b(A,2),T=o(F);j(()=>{de(),ea(()=>{t(),y()})});var I=o(T),B=o(I,!0);r(I),I.value=I.__value="";var me=b(I);Pt(me,1,()=>(y(),d(()=>y().filter(V=>{var ee,ue;return!(((ue=(ee=V==null?void 0:V.info)==null?void 0:ee.meta)==null?void 0:ue.hidden)??!1)}))),Tt,(V,ee)=>{var ue=br(),He=o(ue,!0);r(ue);var xe={};j(()=>{le(He,(e(ee),d(()=>e(ee).name))),xe!==(xe=(e(ee),d(()=>e(ee).id)))&&(ue.value=(ue.__value=(e(ee),d(()=>e(ee).id)))??"")}),c(V,ue)}),r(T),r(F),r(oe),r(_),j((V,ee,ue)=>{le(a,V),le(v,ee),le(B,ue)},[()=>(t(),d(()=>t().t("Controls"))),()=>(t(),d(()=>t().t("Model"))),()=>(t(),d(()=>t().t("Select a model")))]),pe("click",W,()=>{O(!O())}),ra(T,de),c(U,H),st(),ie()}var kr=mt('<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="m19.5 19.5-15-15m0 0v11.25m0-11.25h11.25"></path></svg>');function $r(U,l){let t=f(l,"className",8,"size-4"),y=f(l,"strokeWidth",8,"1.5");var w=kr();j(()=>{gt(w,"stroke-width",y()),Ye(w,0,pt(t()))}),c(U,w)}var Cr=m('<button class=" text-transparent group-hover:text-gray-500 dark:hover:text-gray-300 transition"><!></button>'),Er=m('<button class=" text-transparent group-hover:text-gray-500 dark:hover:text-gray-300 transition"><!></button>'),Ir=m('<button class=" text-transparent group-hover:text-gray-500 dark:hover:text-gray-300 transition"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-4"><path stroke-linecap="round" stroke-linejoin="round" d="M15 12H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"></path></svg></button>'),Nr=m("<div><!></div>"),Sr=m('<div class=" markdown-prose-sm text-sm"><!></div>'),zr=m('<div class="flex flex-col gap-1 group"><div class="flex items-center justify-between pt-1"><div class="py-1 text-sm font-semibold uppercase min-w-[6rem] text-left rounded-lg transition"> </div> <div class="flex items-center gap-2"><!> <!> <!></div></div> <div class="flex-1"><!></div></div>');function Mr(U,l){nt(l,!1);const t=()=>ze(ie,"$i18n",y),[y,w]=ht(),ie=ft("i18n");let h=f(l,"message",12),O=f(l,"idx",8),de=f(l,"onDelete",8),P=f(l,"onEdit",8),Q=f(l,"onInsert",8);lt();var H=zr(),ce=o(H),R=o(ce),W=o(R,!0);r(R);var ye=b(R,2),E=o(ye);{let A=we(()=>(t(),d(()=>t().t("Insert"))));Je(E,{placement:"top",get content(){return e(A)},children:(v,F)=>{var T=Cr(),I=o(T);$r(I,{className:"size-3.5",strokeWidth:"2"}),r(T),pe("click",T,()=>{Q()()}),c(v,T)},$$slots:{default:!0}})}var p=b(E,2);{let A=we(()=>(t(),d(()=>t().t("Edit"))));Je(p,{placement:"top",get content(){return e(A)},children:(v,F)=>{var T=Er(),I=o(T);tr(I,{className:"size-3.5",strokeWidth:"2"}),r(T),pe("click",T,()=>{P()()}),c(v,T)},$$slots:{default:!0}})}var a=b(p,2);{let A=we(()=>(t(),d(()=>t().t("Delete"))));Je(a,{placement:"top",get content(){return e(A)},children:(v,F)=>{var T=Ir();pe("click",T,()=>{de()()}),c(v,T)},$$slots:{default:!0}})}r(ye),r(ce);var _=b(ce,2),oe=o(_);{var K=A=>{var v=Nr(),F=o(v);er(F,{size:"sm"}),r(v),c(A,v)},G=A=>{var v=Ue(),F=se(v);{var T=B=>{{let me=we(()=>(t(),Pe(h()),d(()=>t().t("Enter {{role}} message here",{role:h().role==="user"?t().t("a user"):t().t("an assistant")}))));ar(B,{className:"w-full bg-transparent outline-hidden text-sm resize-none overflow-hidden",get placeholder(){return e(me)},onBlur:()=>{h(h().edit=!1,!0)},get value(){return h().content},set value(V){h(h().content=V,!0)},$$legacy:!0})}},I=B=>{var me=Sr(),V=o(me);{let ee=we(()=>`note-message-${O()}`);Za(V,{get id(){return e(ee)},get content(){return Pe(h()),d(()=>h().content)}})}r(me),c(B,me)};fe(F,B=>{Pe(h()),d(()=>{var me;return((me=h())==null?void 0:me.edit)===!0})?B(T):B(I,!1)},!0)}c(A,v)};fe(oe,A=>{Pe(h()),d(()=>{var v,F;return!(((v=h())==null?void 0:v.done)??!0)&&((F=h())==null?void 0:F.content)===""})?A(K):A(G,!1)})}r(_),r(H),j(A=>le(W,A),[()=>(t(),Pe(h()),d(()=>t().t(h().role)))]),c(U,H),st(),w()}var Pr=m('<div class="space-y-3 pb-12"></div>');function Tr(U,l){nt(l,!1),ft("i18n");let t=f(l,"messages",28,()=>[]),y=f(l,"onInsert",8,ie=>{});lt();var w=Pr();Pt(w,5,t,Tt,(ie,h,O)=>{Mr(ie,{get message(){return e(h)},idx:O,onInsert:()=>{var de;y()(((de=e(h))==null?void 0:de.content)??"")},onEdit:()=>{t(t().map((de,P)=>P===O?{...de,edit:!0}:de))},onDelete:()=>{t(t().filter((de,P)=>P!==O))}})}),r(w),c(U,w),st()}var Ar=m('<span class="text-gray-500 text-sm"> </span>'),Or=m('<div class="text-xs rounded-xl px-2.5 py-3 w-full markdown-prose-xs"><blockquote><div class=" line-clamp-3"> </div></blockquote></div>'),jr=m('<button type="button"><!> <span class="block whitespace-nowrap overflow-hidden text-ellipsis leading-none pr-0.5"> </span></button>'),Rr=m('<option class="bg-gray-50 dark:bg-gray-700"> </option>'),Hr=m('<select class=" bg-transparent rounded-lg py-1 px-2 -mx-0.5 text-sm outline-hidden w-full text-right pr-5"></select>'),Wr=m('<div slot="menu" class="flex items-center justify-between gap-2 w-full pr-1"><div><!></div> <!></div>'),Br=m('<div class="flex items-center mb-1.5 pt-1.5"><div class="flex items-center mr-1"><button class="p-0.5 bg-transparent transition rounded-lg"><!></button></div> <div class=" font-medium text-base flex items-center gap-1"><div> </div> <div><!></div></div></div> <div class="flex flex-col items-center flex-1 @container"><div class=" flex flex-col justify-between w-full overflow-y-auto h-full"><div class="mx-auto w-full md:px-0 h-full relative"><div class=" flex flex-col h-full"><div class=" pb-2.5 flex flex-col justify-between w-full flex-auto overflow-auto h-0 scrollbar-hidden" id="messages-container"><div class=" h-full w-full flex flex-col"><div class="flex-1 p-1"><!></div></div></div> <div class=" pb-[1rem]"><!> <!></div></div></div></div></div>',1);function Dr(U,l){nt(l,!1);const t=()=>ze(de,"$i18n",w),y=()=>ze(Jt,"$models",w),[w,ie]=ht();let h=f(l,"show",12,!1),O=f(l,"selectedModelId",12,"");Ft.use({breaks:!0,gfm:!0,renderer:{list(X,ne,he){if(X.includes("data-checked="))return`<ul data-type="taskList">${X}</ul>`;const Te=ne?"ol":"ul",Be=ne&&he!==1?` start="${he}"`:"";return`<${Te}${Be}>${X}</${Te}>`},listitem(X,ne,he){return ne?`<li data-type="taskItem" data-checked="${he?"true":"false"}">${X}</li>`:`<li>${X}</li>`}}});const de=ft("i18n");let P=f(l,"editor",8,null),Q=f(l,"editing",12,!1),H=f(l,"streaming",12,!1),ce=f(l,"stopResponseFlag",12,!1),R=f(l,"note",12,null),W=f(l,"selectedContent",12,null),ye=f(l,"files",24,()=>[]),E=f(l,"messages",28,()=>[]),p=f(l,"onInsert",8,X=>{}),a=f(l,"onStop",8,()=>{}),_=f(l,"onEdited",8,()=>{});f(l,"insertNoteHandler",8,()=>{});let oe=f(l,"scrollToBottomHandler",8,()=>{}),K=Y(!1),G=Y(),A="",v=Y(!1),F=Y(null);const T=`You are an expert document editor.

## Task
Based on the user's instruction, update and enhance the existing notes or selection by incorporating relevant and accurate information from the provided context in the content's primary language. Ensure all edits strictly follow the user‚Äôs intent.

## Input Structure
- Existing notes: Enclosed within <notes></notes> XML tags.
- Additional context: Enclosed within <context></context> XML tags.
- Current note selection: Enclosed within <selection></selection> XML tags.
- Editing instruction: Provided in the user message.

## Output Instructions
- If a selection is provided, edit **only** the content within <selection></selection>. Leave unselected parts unchanged.
- If no selection is provided, edit the entire notes.
- Deliver a single, rewritten version of the notes in markdown format.
- Integrate information from the context only if it directly supports the user's instruction.
- Use clear, organized markdown elements: headings, lists, task lists ([ ]) where tasks or checklists are strongly implied, bold and italic text as appropriate.
- Focus on improving clarity, completeness, and usefulness of the notes.
- Return only the final, fully-edited markdown notes‚Äîdo not include explanations, reasoning, or XML tags.
`;let I=!0;const B=()=>{e(G)&&I&&$e(G,e(G).scrollTop=e(G).scrollHeight)},me=()=>{e(G)&&(I=e(G).scrollHeight-e(G).scrollTop<=e(G).clientHeight+10)},V=async()=>{var vt,Xe,Ie,Me,n,i,u,$,L;if(O()===""){Ce.error(t().t("Please select a model."));return}const X=y().find(k=>k.id===O());if(!X){O("");return}let ne;((vt=E().at(-1))==null?void 0:vt.role)==="assistant"?ne=E().at(-1):(ne={role:"assistant",content:"",done:!1},E().push(ne),E(E())),await ot(),B(),ce(!1);let he={json:null,html:"",md:""};A="",e(v)?A=`${T}

`:A=`You are a helpful assistant. Please answer the user's questions based on the context provided.

`,A+=`<notes>${((Me=(Ie=(Xe=R())==null?void 0:Xe.data)==null?void 0:Ie.content)==null?void 0:Me.md)??""}</notes>`+(ye()&&ye().length>0?`
<context>${ye().map(k=>{var z,N;return`${k.name}: ${((N=(z=k==null?void 0:k.file)==null?void 0:z.data)==null?void 0:N.content)??"Could not extract content"}
`}).join("")}</context>`:"")+(W()?`
<selection>${(n=W())==null?void 0:n.text}</selection>`:"");const Ee=JSON.parse(JSON.stringify([{role:"system",content:`${A}`},...E()])),[Te,Be]=await la(localStorage.token,{model:X.id,stream:!0,messages:Ee.map(k=>({role:k.role,content:k.content}))},`${Lt}/api`);await ot(),B();let tt="";if(Te&&Te.ok){const k=Te.body.pipeThrough(new TextDecoderStream).pipeThrough(oa(`
`)).getReader();for(;;){const{value:z,done:N}=await k.read();if(N||ce()){ce()&&Be.abort("User: Stop Response"),e(v)&&(Q(!1),H(!1),_()());break}try{let te=z.split(`
`);for(const _e of te)if(_e!=="")if(_e==="data: [DONE]")e(v)&&(ne.content=`<status title="${t().t("Edited")}" done="true" />`,W()&&((i=W())!=null&&i.text)&&P()&&(P().commands.insertContentAt({from:W().from,to:W().to},he.html||he.md||""),W(null))),ne.done=!0,E(E());else{let ve=JSON.parse(_e.replace(/^data: /,"")),M=(($=(u=ve.choices[0])==null?void 0:u.delta)==null?void 0:$.content)??"";if(ne.content==""&&M==`
`)continue;e(v)?(Q(!0),H(!0),he.md+=M,he.html=Ft.parse(he.md),(!W()||!((L=W())!=null&&L.text))&&(R(R().data.content.md=he.md,!0),R(R().data.content.html=he.html,!0),R(R().data.content.json=null,!0)),oe()(),ne.content=`<status title="${t().t("Editing")}" done="false" />`,E(E())):(tt+=M,ne.content=tt,E(E())),await ot()}}catch(te){}B()}}},ee=async X=>{const{content:ne,data:he}=X;O()&&ne&&(E().push({role:"user",content:ne}),E(E()),await ot(),B(),s(K,!0),await V(),E(E().map(Ee=>(Ee.done=!0,Ee))),s(K,!1),ce(!1))};Bt(async()=>{s(v,localStorage.getItem("noteEditEnabled")==="true"),await ot(),B()}),lt();var ue=Br(),He=se(ue),xe=o(He),Ve=o(xe),qe=o(Ve);ia(qe,{className:"size-5",strokeWidth:"2.5"}),r(Ve),r(xe);var ge=b(xe,2),q=o(ge),We=o(q,!0);r(q);var Ke=b(q,2),it=o(Ke);{let X=we(()=>(t(),d(()=>t().t("This feature is experimental and may be modified or discontinued without notice."))));Je(it,{get content(){return e(X)},position:"top",className:"inline-block",children:(ne,he)=>{var Ee=Ar(),Te=o(Ee);r(Ee),j(Be=>le(Te,`(${Be??""})`),[()=>(t(),d(()=>t().t("Experimental")))]),c(ne,Ee)},$$slots:{default:!0}})}r(Ke),r(ge),r(He);var _t=b(He,2),et=o(_t),At=o(et),Ct=o(At),dt=o(Ct),Ot=o(dt),jt=o(Ot),Rt=o(jt);Tr(Rt,{get onInsert(){return p()},get messages(){return E()},set messages(X){E(X)},$$legacy:!0}),r(jt),r(Ot),r(dt),na(dt,X=>s(G,X),()=>e(G));var xt=b(dt,2),Ht=o(xt);{var Et=X=>{var ne=Or(),he=o(ne),Ee=o(he),Te=o(Ee,!0);r(Ee),r(he),r(ne),j(()=>le(Te,(Pe(W()),d(()=>{var Be;return(Be=W())==null?void 0:Be.text})))),c(X,ne)};fe(Ht,X=>{W()&&X(Et)})}var Dt=b(Ht,2);rr(Dt,{acceptFiles:!1,get inputLoading(){return e(K)},showFormattingToolbar:!1,onSubmit:ee,get onStop(){return a()},get chatInputElement(){return e(F)},set chatInputElement(X){s(F,X)},$$slots:{menu:(X,ne)=>{var he=Wr(),Ee=o(he),Te=o(Ee);{let tt=we(()=>(t(),d(()=>t().t("Edit"))));Je(Te,{get content(){return e(tt)},placement:"top",children:(vt,Xe)=>{var Ie=jr(),Me=o(Ie);or(Me,{className:"size-4",strokeWidth:"1.75"});var n=b(Me,2),i=o(n,!0);r(n),r(Ie),j(u=>{Ie.disabled=H()||e(K),Ye(Ie,1,`px-2 @xl:px-2.5 py-2 flex gap-1.5 items-center text-sm rounded-full transition-colors duration-300 focus:outline-hidden max-w-full overflow-hidden hover:bg-gray-50 dark:hover:bg-gray-800 ${e(v)?" text-sky-500 dark:text-sky-300 bg-sky-50 dark:bg-sky-200/5":"bg-transparent text-gray-600 dark:text-gray-300 "} disabled:opacity-50 disabled:pointer-events-none`),le(i,u)},[()=>(t(),d(()=>t().t("Edit")))]),pe("click",Ie,Ka(()=>{s(v,!e(v)),localStorage.setItem("noteEditEnabled",e(v)?"true":"false")})),c(vt,Ie)},$$slots:{default:!0}})}r(Ee);var Be=b(Ee,2);Je(Be,{get content(){return O()},children:(tt,vt)=>{var Xe=Hr();j(()=>{O(),ea(()=>{y()})}),Pt(Xe,5,()=>(y(),d(()=>y().filter(Ie=>{var Me,n;return!(((n=(Me=Ie==null?void 0:Ie.info)==null?void 0:Me.meta)==null?void 0:n.hidden)??!1)}))),Tt,(Ie,Me)=>{var n=Rr(),i=o(n,!0);r(n);var u={};j(()=>{le(i,(e(Me),d(()=>e(Me).name))),u!==(u=(e(Me),d(()=>e(Me).id)))&&(n.value=(n.__value=(e(Me),d(()=>e(Me).id)))??"")}),c(Ie,n)}),r(Xe),ra(Xe,O),c(tt,Xe)},$$slots:{default:!0}}),r(he),c(X,he)}},$$legacy:!0}),r(xt),r(Ct),r(At),r(et),r(_t),j(X=>le(We,X),[()=>(t(),d(()=>t().t("Chat")))]),pe("click",Ve,()=>{h(!h())}),pe("scroll",dt,me),c(U,ue),st(),ie()}var Ur=m('<div class=" px-3.5 py-2.5 h-screen max-h-dvh flex flex-col"><!></div>'),Fr=m('<div class=" absolute -left-1.5 -right-1.5 -top-0 -bottom-0 z-20 cursor-col-resize bg-transparent"></div>'),Lr=m('<div class="flex max-h-full min-h-full"><div class="w-full pt-2 bg-white dark:shadow-lg dark:bg-gray-850 z-40 pointer-events-auto overflow-y-auto scrollbar-hidden flex flex-col px-2"><!></div></div>'),Jr=m("<!> <!>",1);function Yr(U,l){nt(l,!1);let t=f(l,"show",12,!1),y=f(l,"pane",12,null),w=f(l,"containerId",8,"note-container"),ie,h=Y(!1),O=Y(0);const de=async R=>{R.matches?s(h,!0):(s(h,!1),y(null))};Bt(()=>{ie=window.matchMedia("(min-width: 1000px)"),ie.addEventListener("change",de),de(ie);const R=document.getElementById(w());s(O,Math.floor(400/R.clientWidth*100)),new ResizeObserver(ye=>{for(let E of ye){const a=400/E.contentRect.width*100;s(O,Math.floor(a)),t()&&y()&&y().isExpanded()&&y().getSize()<e(O)&&y().resize(e(O))}}).observe(R)}),aa(()=>{ie.removeEventListener("change",de)}),lt();var P=Ue(),Q=se(P);{var H=R=>{var W=Ue(),ye=se(W);{var E=p=>{nr(p,{get show(){return t()},onClose:()=>{t(!1)},children:(a,_)=>{var oe=Ur(),K=o(oe);$t(K,l,"default",{},null),r(oe),c(a,oe)},$$slots:{default:!0}})};fe(ye,p=>{t()&&p(E)})}c(R,W)},ce=R=>{var W=Ue(),ye=se(W);{var E=p=>{var a=Jr(),_=se(a);La(_,{class:"relative flex items-center justify-center group border-l border-gray-50 dark:border-gray-850/30 hover:border-gray-200 dark:hover:border-gray-800  transition z-20",id:"controls-resizer",children:(K,G)=>{var A=Fr();c(K,A)},$$slots:{default:!0}});var oe=b(_,2);{let K=we(()=>(e(O),d(()=>Math.max(20,e(O)))));sa(oe,{get defaultSize(){return e(K)},get minSize(){return e(O)},onCollapse:()=>{t(!1)},collapsible:!0,class:" z-10 ",get pane(){return y()},set pane(G){y(G)},children:(G,A)=>{var v=Ue(),F=se(v);{var T=I=>{var B=Lr(),me=o(B),V=o(me);$t(V,l,"default",{},null),r(me),r(B),c(I,B)};fe(F,I=>{t()&&I(T)})}c(G,v)},$$slots:{default:!0},$$legacy:!0})}c(p,a)};fe(ye,p=>{t()&&p(E)},!0)}c(R,W)};fe(Q,R=>{e(h)?R(ce,!1):R(H)})}c(U,P),st()}var qr=mt('<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 18.75a6 6 0 0 0 6-6v-1.5m-6 7.5a6 6 0 0 1-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 0 1-3-3V4.5a3 3 0 1 1 6 0v8.25a3 3 0 0 1-3 3Z"></path></svg>');function Xr(U,l){let t=f(l,"className",8,"size-4"),y=f(l,"strokeWidth",8,"1.5");var w=qr();j(()=>{gt(w,"stroke-width",y()),Ye(w,0,pt(t()))}),c(U,w)}var Gr=mt('<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.042 21.672 13.684 16.6m0 0-2.51 2.225.569-9.47 5.227 7.917-3.286-.672ZM12 2.25V4.5m5.834.166-1.591 1.591M20.25 10.5H18M7.757 14.743l-1.59 1.59M6 10.5H3.75m4.007-4.243-1.59-1.59"></path></svg>');function Vr(U,l){let t=f(l,"className",8,"size-4"),y=f(l,"strokeWidth",8,"1.5");var w=Gr();j(()=>{gt(w,"stroke-width",y()),Ye(w,0,pt(t()))}),c(U,w)}var Zr=m('<button class="flex rounded-md py-1.5 px-3 w-full hover:bg-gray-50 dark:hover:bg-gray-800 transition"><div class=" self-center mr-2"><!></div> <div class=" self-center truncate"> </div></button> <button class="flex rounded-md py-1.5 px-3 w-full hover:bg-gray-50 dark:hover:bg-gray-800 transition"><div class=" self-center mr-2"><!></div> <div class=" self-center truncate"> </div></button> <button class="flex rounded-md py-1.5 px-3 w-full hover:bg-gray-50 dark:hover:bg-gray-800 transition"><div class=" self-center mr-2"><!></div> <div class=" self-center truncate"> </div></button>',1),Qr=m("<!> <!>",1);function Kr(U,l){nt(l,!1);const t=()=>ze(ie,"$i18n",y),[y,w]=ht(),ie=ft("i18n");let h=f(l,"show",12,!1),O=f(l,"className",8,"max-w-[170px]"),de=f(l,"onRecord",8,()=>{}),P=f(l,"onCaptureAudio",8,()=>{}),Q=f(l,"onUpload",8,()=>{});const H=Ca();lt(),ca(U,{onOpenChange:ce=>{H("change",ce)},get open(){return h()},set open(ce){h(ce)},children:(ce,R)=>{var W=Qr(),ye=se(W);ua(ye,{children:(p,a)=>{var _=Ue(),oe=se(_);$t(oe,l,"default",{},null),c(p,_)},$$slots:{default:!0}});var E=b(ye,2);$t(E,l,"content",{},p=>{va(p,{get class(){return`w-full ${O()??""} text-sm rounded-xl p-1 z-50 bg-white dark:bg-gray-850 dark:text-white shadow-lg font-primary`},sideOffset:8,side:"bottom",align:"start",transition:a=>fa(a,{duration:100}),children:(a,_)=>{var oe=Zr(),K=se(oe),G=o(K),A=o(G);Xr(A,{className:"size-4",strokeWidth:"2"}),r(G);var v=b(G,2),F=o(v,!0);r(v),r(K);var T=b(K,2),I=o(T),B=o(I);Vr(B,{className:"size-4",strokeWidth:"2"}),r(I);var me=b(I,2),V=o(me,!0);r(me),r(T);var ee=b(T,2),ue=o(ee),He=o(ue);gr(He,{className:"size-4",strokeWidth:"2"}),r(ue);var xe=b(ue,2),Ve=o(xe,!0);r(xe),r(ee),j((qe,ge,q)=>{le(F,qe),le(V,ge),le(Ve,q)},[()=>(t(),d(()=>t().t("Record"))),()=>(t(),d(()=>t().t("Capture Audio"))),()=>(t(),d(()=>t().t("Upload Audio")))]),pe("click",K,async()=>{de()(),h(!1)}),pe("click",T,()=>{P()(),h(!1)}),pe("click",ee,()=>{Q()(),h(!1)}),c(a,oe)},$$slots:{default:!0}})}),c(ce,W)},$$slots:{default:!0},$$legacy:!0}),st(),w()}var eo=mt('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path fill-rule="evenodd" d="M9 4.5a.75.75 0 0 1 .721.544l.813 2.846a3.75 3.75 0 0 0 2.576 2.576l2.846.813a.75.75 0 0 1 0 1.442l-2.846.813a3.75 3.75 0 0 0-2.576 2.576l-.813 2.846a.75.75 0 0 1-1.442 0l-.813-2.846a3.75 3.75 0 0 0-2.576-2.576l-2.846-.813a.75.75 0 0 1 0-1.442l2.846-.813A3.75 3.75 0 0 0 7.466 7.89l.813-2.846A.75.75 0 0 1 9 4.5ZM18 1.5a.75.75 0 0 1 .728.568l.258 1.036c.236.94.97 1.674 1.91 1.91l1.036.258a.75.75 0 0 1 0 1.456l-1.036.258c-.94.236-1.674.97-1.91 1.91l-.258 1.036a.75.75 0 0 1-1.456 0l-.258-1.036a2.625 2.625 0 0 0-1.91-1.91l-1.036-.258a.75.75 0 0 1 0-1.456l1.036-.258a2.625 2.625 0 0 0 1.91-1.91l.258-1.036A.75.75 0 0 1 18 1.5ZM16.5 15a.75.75 0 0 1 .712.513l.394 1.183c.15.447.5.799.948.948l1.183.395a.75.75 0 0 1 0 1.422l-1.183.395c-.447.15-.799.5-.948.948l-.395 1.183a.75.75 0 0 1-1.422 0l-.395-1.183a1.5 1.5 0 0 0-.948-.948l-1.183-.395a.75.75 0 0 1 0-1.422l1.183-.395c.447-.15.799-.5.948-.948l.395-1.183A.75.75 0 0 1 16.5 15Z" clip-rule="evenodd"></path></svg>');function to(U,l){let t=f(l,"className",8,"w-4 h-4");f(l,"strokeWidth",8,"1.5");var y=eo();j(()=>Ye(y,0,pt(t()))),c(U,y)}var ao=mt('<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3"></path></svg>');function ro(U,l){let t=f(l,"className",8,"size-4"),y=f(l,"strokeWidth",8,"1.5");var w=ao();j(()=>{gt(w,"stroke-width",y()),Ye(w,0,pt(t()))}),c(U,w)}var oo=mt('<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="m15 15 6-6m0 0-6-6m6 6H9a6 6 0 0 0 0 12h3"></path></svg>');function no(U,l){let t=f(l,"className",8,"size-4"),y=f(l,"strokeWidth",8,"1.5");var w=oo();j(()=>{gt(w,"stroke-width",y()),Ye(w,0,pt(t()))}),c(U,w)}var so=m('<button class="flex rounded-md py-1.5 px-3 w-full hover:bg-gray-50 dark:hover:bg-gray-800 transition"><div class=" self-center mr-2"><!></div> <div class=" self-center truncate"> </div></button> <button class="flex rounded-md py-1.5 px-3 w-full hover:bg-gray-50 dark:hover:bg-gray-800 transition"><div class=" self-center mr-2"><!></div> <div class=" self-center truncate"> </div></button>',1),lo=m("<!> <!>",1);function io(U,l){nt(l,!1);const t=()=>ze(ie,"$i18n",y),[y,w]=ht(),ie=ft("i18n");let h=f(l,"show",12,!1),O=f(l,"className",8,"max-w-[170px]"),de=f(l,"onEdit",8,()=>{}),P=f(l,"onChat",8,()=>{}),Q=f(l,"onChange",8,()=>{});lt(),ca(U,{get onOpenChange(){return Q()},get open(){return h()},set open(H){h(H)},children:(H,ce)=>{var R=lo(),W=se(R);ua(W,{children:(E,p)=>{var a=Ue(),_=se(a);$t(_,l,"default",{},null),c(E,a)},$$slots:{default:!0}});var ye=b(W,2);$t(ye,l,"content",{},E=>{va(E,{get class(){return`w-full ${O()??""} text-sm rounded-xl p-1 z-50 bg-white dark:bg-gray-850 dark:text-white shadow-lg font-primary`},sideOffset:8,side:"bottom",align:"end",transition:p=>fa(p,{duration:100}),children:(p,a)=>{var _=so(),oe=se(_),K=o(oe),G=o(K);ma(G,{className:"size-4",strokeWidth:"2"}),r(K);var A=b(K,2),v=o(A,!0);r(A),r(oe);var F=b(oe,2),T=o(F),I=o(T);da(I,{className:"size-4",strokeWidth:"2"}),r(T);var B=b(T,2),me=o(B,!0);r(B),r(F),j((V,ee)=>{le(v,V),le(me,ee)},[()=>(t(),d(()=>t().t("Enhance"))),()=>(t(),d(()=>t().t("Chat")))]),pe("click",oe,async()=>{de()(),h(!1)}),pe("click",F,()=>{P()(),h(!1)}),c(p,_)},$$slots:{default:!0}})}),c(H,R)},$$slots:{default:!0},$$legacy:!0}),st(),w()}var co=mt('<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75"></path></svg>');function uo(U,l){let t=f(l,"className",8,"w-4 h-4"),y=f(l,"strokeWidth",8,"1.5");var w=co();j(()=>{gt(w,"stroke-width",y()),Ye(w,0,pt(t()))}),c(U,w)}var vo=m('<div class=" text-sm text-gray-500"> <span class="  font-semibold"> </span>.</div>'),fo=m('<div class=" absolute top-0 bottom-0 left-0 right-0 flex"><div class="m-auto"><!></div></div>'),mo=m('<button id="sidebar-toggle-button" class=" cursor-pointer flex rounded-lg hover:bg-gray-100 dark:hover:bg-gray-850 transition cursor-"><div class=" self-center p-1.5"><!></div></button>'),go=m("<div><!></div>"),po=m('<button class=" self-center dark:hover:text-white transition" id="generate-title-button"><!></button>'),ho=m('<div class="flex self-center items-center space-x-1.5 z-10 translate-y-[0.5px] -translate-x-[0.5px] pl-2"><!></div>'),_o=m('<div><div class="flex items-center gap-0.5 self-center min-w-fit" dir="ltr"><button class="self-center p-1 hover:enabled:bg-black/5 dark:hover:enabled:bg-white/5 dark:hover:enabled:text-white hover:enabled:text-black rounded-md transition disabled:cursor-not-allowed disabled:text-gray-500 disabled:hover:text-gray-500"><!></button> <button class="self-center p-1 hover:enabled:bg-black/5 dark:hover:enabled:bg-white/5 dark:hover:enabled:text-white hover:enabled:text-black rounded-md transition disabled:cursor-not-allowed disabled:text-gray-500 disabled:hover:text-gray-500"><!></button></div></div>'),xo=m('<button class="p-1.5 bg-transparent hover:bg-white/5 transition rounded-lg"><!></button>'),bo=m('<button class="p-1.5 bg-transparent hover:bg-white/5 transition rounded-lg"><!></button>'),wo=m("<!> <!> <!>",1),yo=m('<div class="p-1 bg-transparent hover:bg-white/5 transition rounded-lg"><!></div>'),ko=m("<span> </span>"),$o=m("<span> </span>"),Co=m("<span> </span>"),Eo=m("<span> </span>"),Io=m('<button class=" flex items-center gap-1 w-fit py-1 px-1.5 rounded-lg min-w-fit"><span> </span></button>'),No=m("<div> </div>"),So=m('<div class="flex items-center gap-1 px-1 min-w-fit"><div> </div> <div> </div></div>'),zo=m("<div></div>"),Mo=m('<div><div class="shrink-0 w-full flex justify-between items-center px-3.5 mb-1.5"><div class="w-full flex items-center"><!> <input class="w-full text-2xl font-medium bg-transparent outline-hidden" type="text" required/> <!> <div class="flex items-center gap-0.5 translate-x-1"><!> <!></div></div></div> <div class="  px-2.5"><div class=" flex w-full bg-transparent overflow-x-auto scrollbar-none"><div class="flex gap-0.5 items-center text-xs font-medium text-gray-500 dark:text-gray-500 w-fit"><button class=" flex items-center gap-1 w-fit py-1 px-1.5 rounded-lg min-w-fit"><!></button> <!> <!></div></div></div> <div class=" flex-1 w-full h-full overflow-auto px-3.5 relative" id="note-content-container"><!> <!></div></div>'),Po=m('<div class="flex-1 w-full"><!></div>'),To=m('<button class="p-2 flex justify-center items-center hover:bg-gray-50 dark:hover:bg-gray-800 rounded-full transition shrink-0" type="button"><!></button>'),Ao=m('<div class="cursor-pointer p-2.5 flex rounded-full border border-gray-50 bg-white dark:border-none dark:bg-gray-850 hover:bg-gray-50 dark:hover:bg-gray-800 transition shadow-xl"><!></div>'),Oo=m('<div class="cursor-pointer p-2.5 flex rounded-full border border-gray-50 bg-white dark:border-none dark:bg-gray-850 hover:bg-gray-50 dark:hover:bg-gray-800 transition shadow-xl"><!></div>'),jo=m('<div class="cursor-pointer flex gap-0.5 rounded-full border border-gray-50 dark:border-gray-850/30 dark:bg-gray-850 transition shadow-xl"><!></div> <!>',1),Ro=m('<div class="relative flex-1 w-full h-full flex justify-center pt-[11px]" id="note-editor"><!></div> <div class="absolute z-50 bottom-0 right-0 p-3.5 flex select-none"><div class="flex flex-col gap-2 justify-end"><!></div></div>',1),Ho=m("<!> <!>",1),Wo=m("<!> <!> <!> <!>",1);function Bo(U,l){nt(l,!1);const t=()=>ze(W,"$i18n",H),y=()=>ze(Ma,"$socket",H),w=()=>ze(Jt,"$models",H),ie=()=>ze(Pa,"$settings",H),h=()=>ze(Ta,"$config",H),O=()=>ze(Aa,"$WEBUI_NAME",H),de=()=>ze(Oa,"$mobile",H),P=()=>ze(Ut,"$showSidebar",H),Q=()=>ze(ja,"$user",H),[H,ce]=ht(),{saveAs:R}=Da,W=ft("i18n");ke.extend(Ua),ke.extend(Fa),ke.extend(Ra);async function ye(n){for(const i of n)try{ke.locale(i);break}catch(u){`${i}`}}let E=f(l,"id",8,null),p=Y(null),a=Y(null),_=Y([]),oe=Y([]),K=Y(0),G=Y(0),A=Y(null),v=Y(null),F=Y(!1),T=Y(!1),I=Y(!1),B=Y("chat"),me=Y(null),V=Y(!1),ee=Y(!1),ue=Y(!1),He=Y(!1),xe=Y(!1),Ve=Y(!1),qe=Y(!1),ge=Y(!1),q=Y(!1),We=Y(!1),Ke=Y(null);const it=async()=>{var i,u,$;s(qe,!0);const n=await lr(localStorage.token,E()).catch(L=>(Ce.error(`${L}`),null));if(s(oe,[]),n)s(a,n),s(_,n.data.files||[]),(i=e(a))!=null&&i.write_access&&((u=y())==null||u.emit("join-note",{note_id:E(),auth:{token:localStorage.token}}),($=y())==null||$.on("note-events",Te));else{Vt("/");return}s(qe,!1)};let _t=null;const et=()=>{_t&&clearTimeout(_t),_t=setTimeout(async()=>{var n,i;await dr(localStorage.token,E(),{title:((n=e(a))==null?void 0:n.title)===""?t().t("Untitled"):e(a).title,data:{files:e(_)},access_control:(i=e(a))==null?void 0:i.access_control}).catch(u=>{Ce.error(`${u}`)})},200)};function At(n,i){return JSON.stringify(n)===JSON.stringify(i)}function Ct(n){var $;const i={json:n.data.content.json,html:n.data.content.html,md:n.data.content.md},u=($=n.data.versions)==null?void 0:$.at(-1);return!u||!At(u,i)?(n.data.versions=(n.data.versions??[]).concat(i),!0):!1}const dt=async()=>{e(p)&&e(p).commands.setContent(e(a).data.content.html)},Ot=async()=>{var L,k;const i=`### Task:
Generate a concise, 3-5 word title with an emoji summarizing the content in the content's primary language.
### Guidelines:
- The title should clearly represent the main theme or subject of the content.
- Use emojis that enhance understanding of the topic, but avoid quotation marks or special formatting.
- Write the title in the content's primary language.
- Prioritize accuracy over excessive creativity; keep it clear and simple.
- Your entire response must consist solely of the JSON object, without any introductory or concluding text.
- The output must be a single, raw JSON object, without any markdown code fences or other encapsulating text.
- Ensure no conversational text, affirmations, or explanations precede or follow the raw JSON output, as this will cause direct parsing failure.
### Output:
JSON format: { "title": "your concise title here" }
### Examples:
- { "title": "üìâ Stock Market Trends" },
- { "title": "üç™ Perfect Chocolate Chip Recipe" },
- { "title": "Evolution of Music Streaming" },
- { "title": "Remote Work Productivity Tips" },
- { "title": "Artificial Intelligence in Healthcare" },
- { "title": "üéÆ Video Game Development Insights" }
### Content:
<content>
${e(a).data.content.md}
</content>`,u=JSON.parse(JSON.stringify(e(a).title));$e(a,e(a).title=""),s(xe,!0);const $=await Xa(localStorage.token,{model:e(v),stream:!1,messages:[{role:"user",content:i}]},`${Lt}/api`);if($){const z=((k=(L=$==null?void 0:$.choices[0])==null?void 0:L.message)==null?void 0:k.content)??"";try{const N=z.indexOf("{"),te=z.lastIndexOf("}");if(N!==-1&&te!==-1){const _e=z.substring(N,te+1),ve=JSON.parse(_e);ve&&ve.title&&$e(a,e(a).title=ve.title.trim())}}catch(N){Ce.error(t().t("Failed to generate title"))}}e(a).title||$e(a,e(a).title=u),s(xe,!1),await ot(),et()};async function jt(){if(e(v)===""){Ce.error(t().t("Please select a model."));return}const n=w().filter(i=>{var u,$;return i.id===e(v)&&!((($=(u=i==null?void 0:i.info)==null?void 0:u.meta)==null?void 0:$.hidden)??!1)}).find(i=>i.id===e(v));if(!n){s(v,"");return}s(ge,!0),await he(n),s(ge,!1),dt(),s(A,null)}const Rt=async()=>{s(We,!0),e(We)},xt=async n=>{var $,L,k,z,N,te,_e;const i=Qt(),u={type:"file",file:"",id:null,url:"",name:n.name,collection_name:"",status:"uploading",size:n.size,error:"",itemId:i};if(u.size==0)return Ce.error(t().t("You cannot upload an empty file.")),null;s(_,[...e(_),u]),s(B,"settings"),e(I)||s(I,!0);try{let ve=null;(n.type.startsWith("audio/")||n.type.startsWith("video/"))&&((k=(L=($=ie())==null?void 0:$.audio)==null?void 0:L.stt)!=null&&k.language)&&(ve={language:(te=(N=(z=ie())==null?void 0:z.audio)==null?void 0:N.stt)==null?void 0:te.language});const M=await Ya(localStorage.token,n,ve);M?(M.error&&(console.warn("File upload warning:",M.error),Ce.warning(M.error)),u.status="uploaded",u.file=await qa(localStorage.token,M.id).catch(J=>(Ce.error(`${J}`),null)),u.id=M.id,u.collection_name=((_e=M==null?void 0:M.meta)==null?void 0:_e.collection_name)||(M==null?void 0:M.collection_name),u.url=`${M.id}`,s(_,e(_))):s(_,e(_).filter(J=>(J==null?void 0:J.itemId)!==i))}catch(ve){Ce.error(`${ve}`),s(_,e(_).filter(M=>(M==null?void 0:M.itemId)!==i))}return e(_).length>0?$e(a,e(a).data.files=e(_)):$e(a,e(a).data.files=null),$e(p,e(p).storage.files=e(_)),et(),u},Ht=async(n,i={},u={})=>{var te,_e,ve,M,J,at;const $=(i==null?void 0:i.imageCompression)??!1,L=((_e=(te=u==null?void 0:u.file)==null?void 0:te.image_compression)==null?void 0:_e.width)??null,k=((M=(ve=u==null?void 0:u.file)==null?void 0:ve.image_compression)==null?void 0:M.height)??null;if(!$&&!L&&!k)return n;let z=null,N=null;return $&&(z=((J=i==null?void 0:i.imageCompressionSize)==null?void 0:J.width)??null,N=((at=i==null?void 0:i.imageCompressionSize)==null?void 0:at.height)??null),L&&(z===null||z>L)&&(z=L),k&&(N===null||N>k)&&(N=k),z||N?await Wa(n,z,N):n},Et=async n=>{var i,u,$,L,k,z,N,te;if(n.name,n.type,n.size,n.name.split(".").at(-1),(((u=(i=h())==null?void 0:i.file)==null?void 0:u.max_size)??null)!==null&&n.size>(((L=($=h())==null?void 0:$.file)==null?void 0:L.max_size)??0)*1024*1024){n.size,(((z=(k=h())==null?void 0:k.file)==null?void 0:z.max_size)??0)*1024*1024,Ce.error(t().t("File size should not exceed {{maxSize}} MB.",{maxSize:(te=(N=h())==null?void 0:N.file)==null?void 0:te.max_size}));return}return n.type.startsWith("image/")?await new Promise(async(ve,M)=>{let J=new FileReader;J.onload=async at=>{try{let rt=at.target.result;rt=await Ht(rt,ie(),h());const Ze={id:Qt(),type:"image",url:`${rt}`};s(_,[...e(_),Ze]),$e(a,e(a).data.files=e(_)),$e(p,e(p).storage.files=e(_)),et(),ve(Ze)}catch(rt){M(rt)}},J.readAsDataURL(n.type==="image/heic"?await Ha(n):n)}):await xt(n)},Dt=async n=>{if(n==="txt"){const i=new Blob([e(a).data.content.md],{type:"text/plain"});R(i,`${e(a).title}.txt`)}else if(n==="md"){const i=new Blob([e(a).data.content.md],{type:"text/markdown"});R(i,`${e(a).title}.md`)}else if(n==="pdf")try{await Ga(e(a))}catch(i){Ce.error(`${i}`)}},X=async n=>{await ir(localStorage.token,n).catch(u=>(Ce.error(`${u}`),null))?(Ce.success(t().t("Note deleted successfully")),Vt("/notes")):Ce.error(t().t("Failed to delete note"))},ne=()=>{const n=document.getElementById("note-content-container");n&&(n.scrollTop=n==null?void 0:n.scrollHeight)},he=async n=>{s(We,!1);let i={json:null,html:"",md:""};const u=`Enhance existing notes using additional context provided from audio transcription or uploaded file content in the content's primary language. Your task is to make the notes more useful and comprehensive by incorporating relevant information from the provided context.

Input will be provided within <notes> and <context> XML tags, providing a structure for the existing notes and context respectively.

# Output Format

Provide the enhanced notes in markdown format. Use markdown syntax for headings, lists, task lists ([ ]) where tasks or checklists are strongly implied, and emphasis to improve clarity and presentation. Ensure that all integrated content from the context is accurately reflected. Return only the markdown formatted note.
`,[$,L]=await la(localStorage.token,{model:n.id,stream:!0,messages:[{role:"system",content:u},{role:"user",content:`<notes>${e(a).data.content.md}</notes>`+(e(_)&&e(_).length>0?`
<context>${e(_).map(k=>{var z,N;return`${k.name}: ${((N=(z=k==null?void 0:k.file)==null?void 0:z.data)==null?void 0:N.content)??"Could not extract content"}
`}).join("")}</context>`:"")}]},`${Lt}/api`);if(await ot(),s(q,!0),$&&$.ok){const k=$.body.pipeThrough(new TextDecoderStream).pipeThrough(oa(`
`)).getReader();for(;;){const{value:z,done:N}=await k.read();if(N||e(We)){e(We)&&L.abort("User: Stop Response"),s(ge,!1),s(q,!1);break}try{let te=z.split(`
`);for(const _e of te)if(_e!==""&&_e!=="data: [DONE]"){let ve=JSON.parse(_e.replace(/^data: /,""));if(ve.choices&&ve.choices.length>0){const M=ve.choices[0];M.delta&&M.delta.content&&(i.md+=M.delta.content,i.html=Ft.parse(i.md),$e(a,e(a).data.content.md=i.md),$e(a,e(a).data.content.html=i.html),$e(a,e(a).data.content.json=null),ne())}}}catch(te){}}}s(q,!1)},Ee=n=>{var i;Ct(e(a)),(i=e(Ke))==null||i.insertContent(n)},Te=async n=>{if(n.id===E()){n.access_control&&n.access_control!==e(a).access_control&&$e(a,e(a).access_control=n.access_control),n.data&&n.data.files&&(s(_,n.data.files),$e(a,e(a).data.files=e(_))),n.title&&n.title&&$e(a,e(a).title=n.title),$e(p,e(p).storage.files=e(_)),await ot();for(const i of e(_))if(i.type==="image"){const u=new CustomEvent("data",{files:e(_)}),$=document.getElementById(`image:${i.id}`);$&&$.dispatchEvent(u)}}};Bt(async()=>{var n,i,u,$,L;await ot(),(n=ie())!=null&&n.models?s(v,(i=ie())==null?void 0:i.models[0]):(u=h())!=null&&u.default_models?s(v,($=h())==null?void 0:$.default_models.split(",")[0]):s(v,""),e(v)&&(w().filter(z=>{var N,te;return z.id===e(v)&&!(((te=(N=z==null?void 0:z.info)==null?void 0:N.meta)==null?void 0:te.hidden)??!1)}).find(z=>z.id===e(v))||s(v,"")),e(v)||s(v,((L=w().filter(k=>{var z,N;return!(((N=(z=k==null?void 0:k.info)==null?void 0:z.meta)==null?void 0:N.hidden)??!1)}).at(0))==null?void 0:L.id)||""),document.getElementById("note-editor")}),aa(()=>{var n;(n=y())==null||n.off("note-events",Te),document.getElementById("note-editor")}),Gt(()=>t(),()=>{ye(t().languages)}),Gt(()=>Pe(E()),()=>{E()&&it()}),Ea(),lt();var Be=Wo();Ia(n=>{j(i=>Na.title=`
		${i??""}
	`,[()=>(e(a),O(),d(()=>{var i,u,$,L;return(i=e(a))!=null&&i.title?`${((u=e(a))==null?void 0:u.title.length)>30?`${($=e(a))==null?void 0:$.title.slice(0,30)}...`:(L=e(a))==null?void 0:L.title} ‚Ä¢ ${O()}`:`${O()}`}))])});var tt=se(Be);{var vt=n=>{sr(n,{accessRoles:["read","write"],onChange:()=>{et()},get show(){return e(ee)},set show(i){s(ee,i)},get accessControl(){return e(a).access_control},set accessControl(i){$e(a,e(a).access_control=i)},$$legacy:!0})};fe(tt,n=>{e(a)&&n(vt)})}var Xe=b(tt,2);mr(Xe,{get show(){return e(Ve)}});var Ie=b(Xe,2);{let n=we(()=>(t(),d(()=>t().t("Delete note?"))));fr(Ie,{get title(){return e(n)},get show(){return e(V)},set show(i){s(V,i)},$$events:{confirm:()=>{X(e(a).id),s(V,!1)}},children:(i,u)=>{var $=vo(),L=o($),k=b(L),z=o(k,!0);r(k),ta(),r($),j(N=>{le(L,`${N??""} `),le(z,(e(a),d(()=>e(a).title)))},[()=>(t(),d(()=>t().t("This will delete")))]),c(i,$)},$$slots:{default:!0},$$legacy:!0})}var Me=b(Ie,2);Ja(Me,{direction:"horizontal",class:"w-full h-full",children:(n,i)=>{var u=Ho(),$=se(u);sa($,{defaultSize:70,minSize:30,class:"h-full flex flex-col w-full relative",children:(k,z)=>{var N=Ro(),te=se(N),_e=o(te);{var ve=De=>{var Ae=fo(),Fe=o(Ae),Oe=o(Fe);Kt(Oe,{className:"size-5"}),r(Fe),r(Ae),c(De,Ae)},M=De=>{var Ae=Mo(),Fe=o(Ae),Oe=o(Fe),Wt=o(Oe);{var je=g=>{var x=go(),ae=o(x);{let be=we(()=>(P(),t(),d(()=>P()?t().t("Close Sidebar"):t().t("Open Sidebar"))));Je(ae,{get content(){return e(be)},children:(Ne,S)=>{var C=mo(),Z=o(C),D=o(Z);_r(D,{}),r(Z),r(C),pe("click",C,()=>{Ut.set(!P())}),c(Ne,C)},$$slots:{default:!0}})}r(x),j(()=>Ye(x,1,`${P()?"md:hidden pl-0.5":""} flex flex-none items-center pr-1 -translate-x-1`)),c(g,x)};fe(Wt,g=>{de()&&g(je)})}var Re=b(Wt,2);Sa(Re);var Ge=b(Re,2);{var wt=g=>{var x=ho(),ae=o(x);{let be=we(()=>(t(),d(()=>t().t("Generate"))));Je(ae,{get content(){return e(be)},children:(Ne,S)=>{var C=po(),Z=o(C);ma(Z,{strokeWidth:"2"}),r(C),j(()=>C.disabled=(e(a),Q(),e(xe),d(()=>{var D,re,Se;return((D=e(a))==null?void 0:D.user_id)!==((re=Q())==null?void 0:re.id)&&((Se=Q())==null?void 0:Se.role)!=="admin"||e(xe)}))),pe("mouseenter",C,()=>{s(ue,!0)}),pe("click",C,D=>{D.preventDefault(),D.stopImmediatePropagation(),D.stopPropagation(),Ot(),s(He,!1)}),c(Ne,C)},$$slots:{default:!0}})}r(x),c(g,x)};fe(Ge,g=>{e(He)&&!e(xe)&&g(wt)})}var It=b(Ge,2),ct=o(It);{var Nt=g=>{var x=wo(),ae=se(x);{var be=C=>{var Z=_o(),D=o(Z),re=o(D),Se=o(re);ro(Se,{className:"size-4"}),r(re);var Le=b(re,2),zt=o(Le);no(zt,{className:"size-4"}),r(Le),r(D),r(Z),j((Mt,$a)=>{re.disabled=Mt,Le.disabled=$a,D.dir=D.dir},[()=>(e(p),d(()=>!e(p).can().undo())),()=>(e(p),d(()=>!e(p).can().redo()))]),pe("click",re,()=>{e(p).chain().focus().undo().run()}),pe("click",Le,()=>{e(p).chain().focus().redo().run()}),c(C,Z)};fe(ae,C=>{e(p)&&C(be)})}var Ne=b(ae,2);{let C=we(()=>(t(),d(()=>t().t("Chat"))));Je(Ne,{placement:"top",get content(){return e(C)},className:"cursor-pointer",children:(Z,D)=>{var re=xo(),Se=o(re);da(Se,{}),r(re),pe("click",re,()=>{e(I)&&e(B)==="chat"?s(I,!1):(e(I)||s(I,!0),s(B,"chat"))}),c(Z,re)},$$slots:{default:!0}})}var S=b(Ne,2);{let C=we(()=>(t(),d(()=>t().t("Controls"))));Je(S,{placement:"top",get content(){return e(C)},className:"cursor-pointer",children:(Z,D)=>{var re=bo(),Se=o(re);uo(Se,{}),r(re),pe("click",re,()=>{e(I)&&e(B)==="settings"?s(I,!1):(e(I)||s(I,!0),s(B,"settings"))}),c(Z,re)},$$slots:{default:!0}})}c(g,x)};fe(ct,g=>{e(a),d(()=>{var x;return(x=e(a))==null?void 0:x.write_access})&&g(Nt)})}var ut=b(ct,2);pr(ut,{onDownload:g=>{Dt(g)},onCopyLink:async()=>{const g=window.location.origin;await Zt(`${g}/notes/${e(a).id}`)?Ce.success(t().t("Copied link to clipboard")):Ce.error(t().t("Failed to copy link"))},onCopyToClipboard:async()=>{await Zt(e(a).data.content.md,e(a).data.content.html,!0).catch(x=>(Ce.error(`${x}`),null))&&Ce.success(t().t("Copied to clipboard"))},onDelete:()=>{s(V,!0)},children:(g,x)=>{var ae=yo(),be=o(ae);hr(be,{className:"size-5"}),r(ae),c(g,ae)},$$slots:{default:!0}}),r(It),r(Oe),r(Fe);var Qe=b(Fe,2),yt=o(Qe),kt=o(yt),St=o(kt),ga=o(St);{var pa=g=>{var x=ko(),ae=o(x,!0);r(x),j(be=>le(ae,be),[()=>(Pe(ke),e(a),t(),d(()=>ke(e(a).created_at/1e6).format(t().t("[Today at] h:mm A"))))]),c(g,x)},ha=g=>{var x=Ue(),ae=se(x);{var be=S=>{var C=$o(),Z=o(C,!0);r(C),j(D=>le(Z,D),[()=>(Pe(ke),e(a),t(),d(()=>ke(e(a).created_at/1e6).format(t().t("[Yesterday at] h:mm A"))))]),c(S,C)},Ne=S=>{var C=Ue(),Z=se(C);{var D=Se=>{var Le=Co(),zt=o(Le,!0);r(Le),j(Mt=>le(zt,Mt),[()=>(Pe(ke),e(a),t(),d(()=>ke(e(a).created_at/1e6).format(t().t("[Last] dddd [at] h:mm A"))))]),c(Se,Le)},re=Se=>{var Le=Eo(),zt=o(Le,!0);r(Le),j(Mt=>le(zt,Mt),[()=>(Pe(ke),e(a),t(),d(()=>ke(e(a).created_at/1e6).format(t().t("DD/MM/YYYY"))))]),c(Se,Le)};fe(Z,Se=>{Pe(ke),e(a),d(()=>ke(e(a).created_at/1e6).isSame(ke().subtract(1,"week"),"week"))?Se(D):Se(re,!1)},!0)}c(S,C)};fe(ae,S=>{Pe(ke),e(a),d(()=>ke(e(a).created_at/1e6).isSame(ke().subtract(1,"day"),"day"))?S(be):S(Ne,!1)},!0)}c(g,x)};fe(ga,g=>{Pe(ke),e(a),d(()=>ke(e(a).created_at/1e6).isSame(ke(),"day"))?g(pa):g(ha,!1)})}r(St);var Yt=b(St,2);{var _a=g=>{var x=Io(),ae=o(x),be=o(ae,!0);r(ae),r(x),j(Ne=>{x.disabled=(e(a),Q(),d(()=>{var S,C,Z;return((S=e(a))==null?void 0:S.user_id)!==((C=Q())==null?void 0:C.id)&&((Z=Q())==null?void 0:Z.role)!=="admin"})),le(be,Ne)},[()=>(e(a),t(),d(()=>{var Ne;return(Ne=e(a))!=null&&Ne.access_control?t().t("Private"):t().t("Everyone")}))]),pe("click",x,()=>{s(ee,!0)}),c(g,x)},xa=g=>{var x=No(),ae=o(x,!0);r(x),j(be=>le(ae,be),[()=>(t(),d(()=>t().t("Read-Only Access")))]),c(g,x)};fe(Yt,g=>{e(a),d(()=>{var x;return(x=e(a))==null?void 0:x.write_access})?g(_a):g(xa,!1)})}var ba=b(Yt,2);{var wa=g=>{var x=So(),ae=o(x),be=o(ae,!0);r(ae);var Ne=b(ae,2),S=o(Ne,!0);r(Ne),r(x),j((C,Z)=>{le(be,C),le(S,Z)},[()=>(t(),e(K),d(()=>t().t("{{COUNT}} words",{COUNT:e(K)}))),()=>(t(),e(G),d(()=>t().t("{{COUNT}} characters",{COUNT:e(G)})))]),c(g,x)};fe(ba,g=>{e(p)&&g(wa)})}r(kt),r(yt),r(Qe);var qt=b(Qe,2),Xt=o(qt);{var ya=g=>{var x=zo();j(()=>Ye(x,1,`w-full h-full fixed top-0 left-0 ${e(q)?"":" backdrop-blur-xs  bg-white/10 dark:bg-gray-900/10"} flex items-center justify-center z-10 cursor-not-allowed`)),c(g,x)};fe(Xt,g=>{e(ge)&&g(ya)})}var ka=b(Xt,2);{let g=we(()=>(e(a),d(()=>`note-${e(a).id}`))),x=we(()=>(e(a),d(()=>{var S,C;return(C=(S=e(a).data)==null?void 0:S.content)==null?void 0:C.html}))),ae=we(()=>(e(a),d(()=>`note:${e(a).id}`))),be=we(()=>(t(),d(()=>t().t("Write something...")))),Ne=we(()=>(e(A),e(ge),e(a),d(()=>{var S;return e(A)===null&&!e(ge)&&((S=e(a))==null?void 0:S.write_access)})));na(cr(ka,{get id(){return e(g)},className:"input-prose-sm px-0.5 h-[calc(100%-2rem)]",json:!0,get html(){return e(x)},get documentId(){return e(ae)},collaboration:!0,get socket(){return y()},get user(){return Q()},dragHandle:!0,link:!0,image:!0,get files(){return e(_)},get placeholder(){return e(be)},get editable(){return e(Ne)},onSelectionUpdate:({editor:S})=>{const{from:C,to:Z}=S.state.selection,D=S.state.doc.textBetween(C,Z," ");D.length===0?s(me,null):s(me,{text:D,from:C,to:Z})},onChange:S=>{$e(a,e(a).data.content.html=S.html),$e(a,e(a).data.content.md=S.md),e(p)&&(s(K,e(p).storage.characterCount.words()),s(G,e(p).storage.characterCount.characters()))},fileHandler:!0,onFileDrop:(S,C,Z)=>{C.forEach(async D=>{const re=await Et(D).catch(Se=>null);re.type==="image"&&S.chain().insertContentAt(Z,{type:"image",attrs:{src:`data://${re.id}`}}).focus().run()})},onFilePaste:()=>{},get editor(){return e(p)},set editor(S){s(p,S)},get value(){return e(a).data.content.json},set value(S){$e(a,e(a).data.content.json=S)},$$events:{paste:async S=>{var Z;S=S.detail.event||S;const C=S.clipboardData||window.clipboardData;if(C&&C.items){C.items;for(const D of C.items)if(D.type.indexOf("image")!==-1){const re=D.getAsFile(),Se=await Et(re);e(p)&&((Z=e(p))==null||Z.chain().insertContentAt(e(p).state.selection.$anchor.pos,{type:"image",attrs:{src:`data://${Se.id}`}}).focus().run())}else if((D==null?void 0:D.kind)==="file"){const re=D.getAsFile();await Et(re),S.preventDefault()}}}},$$legacy:!0}),S=>s(Ke,S),()=>e(Ke))}r(qt),r(Ae),j(g=>{Ye(Ae,1,` w-full flex flex-col ${e(qe)?"opacity-20":""}`),gt(Re,"placeholder",g),Re.disabled=(e(a),Q(),e(xe),d(()=>{var x,ae,be;return((x=e(a))==null?void 0:x.user_id)!==((ae=Q())==null?void 0:ae.id)&&((be=Q())==null?void 0:be.role)!=="admin"||e(xe)}))},[()=>(e(xe),t(),d(()=>e(xe)?t().t("Generating..."):t().t("Title")))]),Ba(Re,()=>e(a).title,g=>$e(a,e(a).title=g)),pe("focus",Re,()=>{s(He,!0)}),pe("blur",Re,g=>{if(e(ue)){s(ue,!1);return}s(He,!1),et()}),pe("wheel",yt,g=>{g.deltaY!==0&&(g.preventDefault(),g.currentTarget.scrollLeft+=g.deltaY)}),c(De,Ae)};fe(_e,De=>{e(qe)?De(ve):De(M,!1)})}r(te);var J=b(te,2),at=o(J),rt=o(at);{var bt=De=>{var Ae=Po(),Fe=o(Ae);ur(Fe,{className:"p-1 w-full max-w-full",transcribe:!1,get displayMedia(){return e(T)},echoCancellation:!1,noiseSuppression:!1,onCancel:()=>{s(F,!1),s(T,!1)},onConfirm:Oe=>{Oe!=null&&Oe.file&&xt(Oe==null?void 0:Oe.file),s(F,!1),s(T,!1)},get recording(){return e(F)},set recording(Oe){s(F,Oe)},$$legacy:!0}),r(Ae),c(De,Ae)},Ze=De=>{var Ae=jo(),Fe=se(Ae),Oe=o(Fe);{let je=we(()=>(t(),d(()=>t().t("AI"))));Je(Oe,{get content(){return e(je)},placement:"top",children:(Re,Ge)=>{var wt=Ue(),It=se(wt);{var ct=ut=>{var Qe=To(),yt=o(Qe);Kt(yt,{className:"size-5"}),r(Qe),pe("click",Qe,()=>{Rt()}),c(ut,Qe)},Nt=ut=>{io(ut,{onEdit:()=>{jt()},onChat:()=>{s(I,!0),s(B,"chat")},children:(Qe,yt)=>{var kt=Ao(),St=o(kt);to(St,{}),r(kt),c(Qe,kt)},$$slots:{default:!0}})};fe(It,ut=>{e(ge)?ut(ct):ut(Nt,!1)})}c(Re,wt)},$$slots:{default:!0}})}r(Fe);var Wt=b(Fe,2);Kr(Wt,{onRecord:async()=>{s(T,!1);try{let je=await navigator.mediaDevices.getUserMedia({audio:!0}).catch(function(Re){return Ce.error(t().t("Permission denied when accessing microphone: {{error}}",{error:Re})),null});je&&(s(F,!0),je.getTracks().forEach(Ge=>Ge.stop())),je=null}catch{Ce.error(t().t("Permission denied when accessing microphone"))}},onCaptureAudio:async()=>{s(T,!0),s(F,!0)},onUpload:async()=>{const je=document.createElement("input");je.type="file",je.accept="audio/*",je.multiple=!1,je.click(),je.onchange=async Re=>{const Ge=Re.target.files;Ge&&Ge.length>0&&await xt(Ge[0])}},children:(je,Re)=>{{let Ge=we(()=>(t(),d(()=>t().t("Record"))));Je(je,{get content(){return e(Ge)},placement:"top",children:(wt,It)=>{var ct=Oo(),Nt=o(ct);vr(Nt,{className:"size-4.5"}),r(ct),c(wt,ct)},$$slots:{default:!0}})}},$$slots:{default:!0}}),c(De,Ae)};fe(rt,De=>{e(F)?De(bt):De(Ze,!1)})}r(at),r(J),c(k,N)},$$slots:{default:!0}});var L=b($,2);Yr(L,{get show(){return e(I)},set show(k){s(I,k)},children:(k,z)=>{var N=Ue(),te=se(N);{var _e=M=>{Dr(M,{get editor(){return e(p)},get inputElement(){return e(Ke)},get selectedContent(){return e(me)},get files(){return e(_)},onInsert:Ee,onStop:Rt,onEdited:dt,insertNoteHandler:()=>{Ct(e(a))},scrollToBottomHandler:ne,get show(){return e(I)},set show(J){s(I,J)},get selectedModelId(){return e(v)},set selectedModelId(J){s(v,J)},get messages(){return e(oe)},set messages(J){s(oe,J)},get note(){return e(a)},set note(J){s(a,J)},get editing(){return e(ge)},set editing(J){s(ge,J)},get streaming(){return e(q)},set streaming(J){s(q,J)},get stopResponseFlag(){return e(We)},set stopResponseFlag(J){s(We,J)},$$legacy:!0})},ve=M=>{var J=Ue(),at=se(J);{var rt=bt=>{yr(bt,{onUpdate:()=>{et()},get show(){return e(I)},set show(Ze){s(I,Ze)},get selectedModelId(){return e(v)},set selectedModelId(Ze){s(v,Ze)},get files(){return e(_)},set files(Ze){s(_,Ze)},$$legacy:!0})};fe(at,bt=>{e(B)==="settings"&&bt(rt)},!0)}c(M,J)};fe(te,M=>{e(B)==="chat"?M(_e):M(ve,!1)})}c(k,N)},$$slots:{default:!0},$$legacy:!0}),c(n,u)},$$slots:{default:!0}}),c(U,Be),st(),ce()}var Do=m('<div id="note-container"><!></div>');function Ln(U,l){nt(l,!1);const t=()=>ze(Ut,"$showSidebar",w),y=()=>ze(za,"$page",w),[w,ie]=ht();let h=Y(!1);Bt(async()=>{s(h,!0)}),lt();var O=Ue(),de=se(O);{var P=Q=>{var H=Do(),ce=o(H);Bo(ce,{get id(){return y().params.id}}),r(H),j(()=>Ye(H,1,`w-full h-full ${t()?"md:max-w-[calc(100%-var(--sidebar-width))]":""}`)),c(Q,H)};fe(de,Q=>{e(h)&&Q(P)})}c(U,O),st(),ie()}export{Ln as component};
//# sourceMappingURL=25.DT1DWdbF.js.map

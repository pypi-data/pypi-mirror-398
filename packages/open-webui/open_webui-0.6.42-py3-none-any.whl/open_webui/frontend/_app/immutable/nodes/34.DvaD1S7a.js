import"../chunks/CWj6FrbW.js";import"../chunks/CN51-NxK.js";import{b as ot,g as Tt,j as e,i as p,c as r,r as t,l as ne,a as c,e as R,k as l,t as C,w as n,s as y,u as Ne,p as it,f as m,m as L,n as $e,z as Ve,B as Ot,o as At,q as ur,v as fr,d as st,h as pr,$ as mr,x as gr,aW as _r}from"../chunks/lUdQH9Xf.js";import{i as N}from"../chunks/a8_cTibZ.js";import{i as nt}from"../chunks/VsCEtJ32.js";import{a as ee,s as lt}from"../chunks/CcA7kcll.js";import{u as Wt,c as dt,W as xr,a as be,b as Rt}from"../chunks/CQ5nDkjA.js";import{g as Le}from"../chunks/C7-mw5nO.js";import{e as hr}from"../chunks/CyDjujdM.js";import{r as $r,a as Fe,s as jt}from"../chunks/AGdekky4.js";import{a as yr,b as br}from"../chunks/gZt8HVPH.js";import{b as Dt}from"../chunks/D72e2DEW.js";import{j as Lt,m as Nt,k as wr}from"../chunks/BXNnaNI-.js";import{t as Q}from"../chunks/1N3xujas.js";import"../chunks/C83syoBY.js";import{D as kr,f as Sr}from"../chunks/CHfhHIQf.js";import{g as at}from"../chunks/CeIFb-7H.js";import{a as It}from"../chunks/BJunrENY.js";import{a as Mr,b as Cr,u as Ut,c as Bt,d as Hr,t as Pr}from"../chunks/BArSie0W.js";import{g as Er}from"../chunks/mkPM8hrz.js";import{E as jr}from"../chunks/CJyvYL24.js";import{s as Dr}from"../chunks/9RuGBeWD.js";import{p as ie}from"../chunks/wFFmXPqF.js";import"../chunks/BAX94-W5.js";import{b as Lr,c as he}from"../chunks/VjqWeGTs.js";import{f as Nr}from"../chunks/BjO3HhBo.js";import{D as Ir}from"../chunks/0lhZwTI1.js";import{G as Jt}from"../chunks/DW4Ik_WH.js";import{P as Ur}from"../chunks/C2a4pS38.js";import{T as ye}from"../chunks/BtoSXKKz.js";import{S as Br}from"../chunks/CXYkuSwN.js";import{D as zr}from"../chunks/Bj0Dc9XC.js";import{L as Tr}from"../chunks/DxSu1Hoz.js";import{C as Or}from"../chunks/7L2QCwoR.js";import{S as Ar}from"../chunks/BoK-DDlo.js";import{P as Wr}from"../chunks/C4_WGY8S.js";import{C as Rr}from"../chunks/CNi-Z1CP.js";import{S as Jr}from"../chunks/BqLklJTo.js";import{S as zt}from"../chunks/CkkUFZ96.js";import{X as Fr}from"../chunks/9jNi-Hzr.js";import{E as Vr}from"../chunks/CYbUUK24.js";import{E as qr}from"../chunks/CzBk5Bvo.js";import{V as Gr}from"../chunks/BbkHPwf0.js";import{T as Kr}from"../chunks/Cq3Afm9K.js";import{P as Xr}from"../chunks/C2-_xXsa.js";var Yr=m("<button><!></button>"),Zr=m('<!> <div class="flex items-center"> </div>',1),Qr=Ot('<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4"><path stroke-linecap="round" stroke-linejoin="round" d="M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"></path></svg>'),ea=Ot('<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4"><path stroke-linecap="round" stroke-linejoin="round" d="M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"></path></svg>'),ta=m('<!> <div class="flex items-center"><!></div>',1),ra=m('<!> <div class="flex items-center"> </div>',1),aa=m('<!> <div class="flex items-center"> </div>',1),sa=m('<!> <div class="flex items-center"> </div>',1),oa=m('<!> <div class="flex items-center"> </div>',1),ia=m('<!> <div class="flex items-center"> </div>',1),na=m('<!> <!> <!> <hr class="border-gray-50/30 dark:border-gray-800/30 my-1"/> <!> <!> <!> <hr class="border-gray-50/30 dark:border-gray-800/30 my-1"/> <!>',1),la=m('<div slot="content"><!></div>');function da(Me,I){ot(I,!1);const a=()=>ee(O,"$i18n",de),K=()=>ee(Wt,"$currentUser",de),le=()=>ee(dt,"$config",de),[de,Ce]=lt(),O=Tt("i18n");ie(I,"user",8);let J=ie(I,"model",8),He=ie(I,"editHandler",8),te=ie(I,"shareHandler",8),we=ie(I,"cloneHandler",8),ce=ie(I,"exportHandler",8),ke=ie(I,"copyLinkHandler",8),Pe=ie(I,"hideHandler",8),Ie=ie(I,"deleteHandler",8),Ue=ie(I,"onClose",8),me=L(!1);nt(),Ir(Me,{get show(){return e(me)},set show(se){p(me,se)},$$events:{change:se=>{se.detail===!1&&Ue()()}},children:(se,Be)=>{{let re=$e(()=>(a(),n(()=>a().t("More"))));ye(se,{get content(){return e(re)},children:(ve,oe)=>{var X=Yr(),A=r(X);Dr(A,I,"default",{},null),t(X),ne("click",X,Y=>{Y.stopPropagation(),p(me,!e(me))}),c(ve,X)},$$slots:{default:!0}})}},$$slots:{default:!0,content:(se,Be)=>{var re=la(),ve=r(re);Lr(ve,{class:"w-full max-w-[170px] rounded-2xl p-1 border border-gray-100  dark:border-gray-800 z-50 bg-white dark:bg-gray-850 dark:text-white shadow-lg",sideOffset:-2,side:"bottom",align:"start",get transition(){return Nr},children:(oe,X)=>{var A=na(),Y=R(A);he(Y,{class:"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl",$$events:{click:()=>{He()()}},children:(k,U)=>{var $=Zr(),_=R($);Ur(_,{});var x=l(_,2),E=r(x,!0);t(x),C(s=>y(E,s),[()=>(a(),n(()=>a().t("Edit")))]),c(k,$)},$$slots:{default:!0}});var ue=l(Y,2);he(ue,{class:"flex  gap-2  items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl",$$events:{click:()=>{Pe()()}},children:(k,U)=>{var $=ta(),_=R($);{var x=u=>{var h=Qr();c(u,h)},E=u=>{var h=ea();c(u,h)};N(_,u=>{Ne(J()),n(()=>{var h,F;return((F=(h=J())==null?void 0:h.meta)==null?void 0:F.hidden)??!1})?u(x):u(E,!1)})}var s=l(_,2),f=r(s);{var H=u=>{var h=Ve();C(F=>y(h,F),[()=>(a(),n(()=>a().t("Show Model")))]),c(u,h)},j=u=>{var h=Ve();C(F=>y(h,F),[()=>(a(),n(()=>a().t("Hide Model")))]),c(u,h)};N(f,u=>{Ne(J()),n(()=>{var h,F;return((F=(h=J())==null?void 0:h.meta)==null?void 0:F.hidden)??!1})?u(H):u(j,!1)})}t(s),c(k,$)},$$slots:{default:!0}});var Se=l(ue,2);he(Se,{class:"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl",$$events:{click:()=>{we()()}},children:(k,U)=>{var $=ra(),_=R($);zr(_,{});var x=l(_,2),E=r(x,!0);t(x),C(s=>y(E,s),[()=>(a(),n(()=>a().t("Clone")))]),c(k,$)},$$slots:{default:!0}});var _e=l(Se,4);he(_e,{class:"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl",$$events:{click:()=>{ke()()}},children:(k,U)=>{var $=aa(),_=R($);Tr(_,{});var x=l(_,2),E=r(x,!0);t(x),C(s=>y(E,s),[()=>(a(),n(()=>a().t("Copy Link")))]),c(k,$)},$$slots:{default:!0}});var Ee=l(_e,2);{var qe=k=>{he(k,{class:"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl",$$events:{click:()=>{ce()()}},children:(U,$)=>{var _=sa(),x=R(_);kr(x,{});var E=l(x,2),s=r(E,!0);t(E),C(f=>y(s,f),[()=>(a(),n(()=>a().t("Export")))]),c(U,_)},$$slots:{default:!0}})};N(Ee,k=>{K(),n(()=>{var U,$,_,x;return((U=K())==null?void 0:U.role)==="admin"||((x=(_=($=K())==null?void 0:$.permissions)==null?void 0:_.workspace)==null?void 0:x.models_export)})&&k(qe)})}var ze=l(Ee,2);{var Te=k=>{he(k,{class:"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800  rounded-xl",$$events:{click:()=>{te()()}},children:(U,$)=>{var _=oa(),x=R(_);Br(x,{});var E=l(x,2),s=r(E,!0);t(E),C(f=>y(s,f),[()=>(a(),n(()=>a().t("Share")))]),c(U,_)},$$slots:{default:!0}})};N(ze,k=>{le(),n(()=>{var U;return(U=le())==null?void 0:U.features.enable_community_sharing})&&k(Te)})}var Ge=l(ze,4);he(Ge,{class:"flex  gap-2  items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl",$$events:{click:()=>{Ie()()}},children:(k,U)=>{var $=ia(),_=R($);Jt(_,{});var x=l(_,2),E=r(x,!0);t(x),C(s=>y(E,s),[()=>(a(),n(()=>a().t("Delete")))]),c(k,$)},$$slots:{default:!0}}),c(oe,A)},$$slots:{default:!0}}),t(re),c(se,re)}},$$legacy:!0}),it(),Ce()}var ca=m('<button class="flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-200 transition"><div class=" self-center font-medium line-clamp-1"> </div></button>'),va=m('<button class="flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-200 transition"><div class=" self-center font-medium line-clamp-1"> </div></button>'),ua=m('<div class="self-center pl-1.5 translate-y-[0.5px] rounded-l-xl bg-transparent"><button class="p-0.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-900 transition"><!></button></div>'),fa=m('<a class=" font-medium line-clamp-1 hover:underline capitalize"> </a>'),pa=m('<button class="self-center w-fit text-sm p-1.5 dark:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl" type="button"><!></button>'),ma=m('<button class="self-center w-fit text-sm p-1.5 dark:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl" type="button"><!></button>'),ga=m("<!> <!>",1),_a=m('<div class="self-center w-fit p-1 text-sm dark:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"><!></div>'),xa=m('<div class="shrink-0 text-gray-500 text-xs"> </div>'),ha=m('<div class="flex gap-1 text-xs overflow-hidden"><div class="line-clamp-1"><!></div></div>'),$a=m('<div class="  flex cursor-pointer dark:hover:bg-gray-850/50 hover:bg-gray-50 transition rounded-2xl w-full p-2.5"><div class="flex group/item gap-3.5 w-full"><div class="self-center pl-0.5"><div class="flex bg-white rounded-2xl"><div><img alt="modelfile profile" class=" rounded-2xl size-12 object-cover"/></div></div></div> <div class=" shrink-0 flex w-full min-w-0 flex-1 pr-1 self-center"><div class="flex h-full w-full flex-1 flex-col justify-start self-center group"><div class="flex-1 w-full"><div class="flex items-center justify-between w-full"><!> <div class=" flex items-center gap-1"><div><div class="flex justify-between items-center w-full"><div></div> <div class="flex flex-row gap-0.5 items-center"><!></div></div></div> <button><!></button></div></div> <div class=" flex gap-1 pr-2 -mt-1 items-center"><!> <div>Â·</div> <!></div></div></div></div></div></div>'),ya=m('<div class=" px-3 my-2 gap-1 lg:gap-2 grid lg:grid-cols-2" id="model-list"></div> <!>',1),ba=m('<div class=" w-full h-full flex flex-col justify-center items-center my-16 mb-24"><div class="max-w-md text-center"><div class=" text-3xl mb-3">ðŸ˜•</div> <div class=" text-lg font-medium mb-1"> </div> <div class=" text-gray-500 text-center text-xs"> </div></div></div>'),wa=m('<div class="w-full h-full flex justify-center items-center py-10"><!></div>'),ka=m('<div class=" my-16"><div class=" text-xl font-medium mb-1 line-clamp-1"> </div> <a class=" flex cursor-pointer items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-850 w-full mb-2 px-3.5 py-1.5 rounded-xl transition" href="https://openwebui.com/models" target="_blank"><div class=" self-center"><div class=" font-medium line-clamp-1"> </div> <div class=" text-sm line-clamp-1"> </div></div> <div><div><!></div></div></a></div>'),Sa=m('<!> <div class="flex flex-col gap-1 px-1 mt-1.5 mb-3"><input id="models-import-input" type="file" accept=".json" hidden=""/> <div class="flex justify-between items-center"><div class="flex items-center md:self-center text-xl font-medium px-0.5 gap-2 shrink-0"><div> </div> <div class="text-lg font-medium text-gray-500 dark:text-gray-500"> </div></div> <div class="flex w-full justify-end gap-1.5"><!> <!> <a class=" px-2 py-1.5 rounded-xl bg-black text-white dark:bg-white dark:text-black transition font-medium text-sm flex items-center" href="/workspace/models/create"><!> <div class=" hidden md:block md:ml-1 text-xs"> </div></a></div></div></div> <div class="py-2 bg-white dark:bg-gray-900 rounded-3xl border border-gray-100/30 dark:border-gray-850/30"><div class="px-3.5 flex flex-1 items-center w-full space-x-2 py-0.5 pb-2"><div class="flex flex-1 items-center"><div class=" self-center ml-1 mr-3"><!></div> <input class=" w-full text-sm py-1 rounded-r-xl outline-hidden bg-transparent" maxlength="500"/> <!></div></div> <div class="px-3 flex w-full bg-transparent overflow-x-auto scrollbar-none"><div class="flex gap-0.5 w-fit text-center text-sm rounded-full bg-transparent px-0.5 whitespace-nowrap"><!> <!></div></div> <!></div> <!>',1),Ma=m('<div class="w-full h-full flex justify-center items-center"><!></div>');function Ca(Me,I){ot(I,!1);const a=()=>ee(we,"$i18n",J),K=()=>ee(dt,"$config",J),le=()=>ee(Rt,"$settings",J),de=()=>ee(xr,"$WEBUI_NAME",J),Ce=()=>ee(be,"$_models",J),O=()=>ee(Wt,"$user",J),[J,He]=lt(),{saveAs:te}=Sr,we=Tt("i18n");let ce=L(!1),ke=L(),Pe=L(),Ie=L(),Ue=L(!1),me=L(!1),se=L(null),Be=L([]),re=L([]),ve=L(""),oe=L(""),X=L(""),A=L(1),Y=L(null),ue=L(null),Se=L();const _e=async()=>{try{const s=await Mr(localStorage.token,e(oe),e(X),e(ve),null,null,e(A)).catch(f=>(Q.error(`${f}`),null));s&&(p(Y,s.items),p(ue,s.total),p(re,await Cr(localStorage.token).catch(f=>(Q.error(`${f}`),[]))))}catch(s){}},Ee=async s=>{var H,j,u;await Hr(localStorage.token,s.id).catch(h=>(Q.error(`${h}`),null))&&(Q.success(a().t("Deleted {{name}}",{name:s.id})),p(A,1),_e()),await be.set(await Le(localStorage.token,((j=(H=K())==null?void 0:H.features)==null?void 0:j.enable_direct_connections)&&(((u=le())==null?void 0:u.directConnections)??null)))},qe=async s=>{sessionStorage.model=JSON.stringify({...s,id:`${s.id}-clone`,name:`${s.name} (Clone)`}),at("/workspace/models/create")},ze=async s=>{Q.success(a().t("Redirecting you to Open WebUI Community"));const f="https://openwebui.com",H=await window.open(`${f}/models/create`,"_blank"),j=u=>{u.origin===f&&u.data==="loaded"&&(H.postMessage(JSON.stringify(s),"*"),window.removeEventListener("message",j))};window.addEventListener("message",j,!1)},Te=async s=>{var H,j,u,h;s.meta={...s.meta,hidden:!(((H=s==null?void 0:s.meta)==null?void 0:H.hidden)??!1)},await Ut(localStorage.token,s.id,s)&&(Q.success(a().t("Model {{name}} is now {{status}}",{name:s.id,status:s.meta.hidden?"hidden":"visible"})),p(A,1),_e()),await be.set(await Le(localStorage.token,((u=(j=K())==null?void 0:j.features)==null?void 0:u.enable_direct_connections)&&(((h=le())==null?void 0:h.directConnections)??null)))},Ge=async s=>{const f=window.location.origin;await wr(`${f}/?model=${encodeURIComponent(s.id)}`)?Q.success(a().t("Copied link to clipboard")):Q.error(a().t("Failed to copy link"))},k=async s=>{let f=new Blob([JSON.stringify(s)],{type:"application/json"});te(f,`models-export-${Date.now()}.json`)},U=async s=>{let f=new Blob([JSON.stringify([s])],{type:"application/json"});te(f,`${s.id}-${Date.now()}.json`)};At(async()=>{p(X,localStorage.workspaceViewOption??""),p(A,1);let s=await Er(localStorage.token);p(Be,s.map(u=>u.id)),p(Ue,!0);const f=u=>{u.key==="Shift"&&p(ce,!0)},H=u=>{u.key==="Shift"&&p(ce,!1)},j=()=>{p(ce,!1)};return window.addEventListener("keydown",f),window.addEventListener("keyup",H),window.addEventListener("blur-sm",j),()=>{window.removeEventListener("keydown",f),window.removeEventListener("keyup",H),window.removeEventListener("blur-sm",j)}}),ur(()=>(e(A),e(oe),e(ve),e(X),e(Se)),()=>{e(A)!==void 0&&e(oe)!==void 0&&e(ve)!==void 0&&e(X)!==void 0&&(clearTimeout(e(Se)),p(Se,setTimeout(()=>{_e()},300)))}),fr(),nt();var $=st();pr(s=>{C(f=>mr.title=`
		${f??""} â€¢ ${de()??""}
	`,[()=>(a(),n(()=>a().t("Models")))])});var _=R($);{var x=s=>{var f=Sa(),H=R(f);Or(H,{get show(){return e(me)},set show(i){p(me,i)},$$events:{confirm:()=>{Ee(e(se))}},$$legacy:!0});var j=l(H,2),u=r(j);Dt(u,i=>p(Pe,i),()=>e(Pe));var h=l(u,2),F=r(h),Ke=r(F),Ft=r(Ke,!0);t(Ke);var ct=l(Ke,2),Vt=r(ct,!0);t(ct),t(F);var vt=l(F,2),ut=r(vt);{var qt=i=>{var d=ca(),v=r(d),P=r(v,!0);t(v),t(d),C(D=>y(P,D),[()=>(a(),n(()=>a().t("Import")))]),ne("click",d,()=>{e(Pe).click()}),c(i,d)};N(ut,i=>{O(),n(()=>{var d,v,P,D;return((d=O())==null?void 0:d.role)==="admin"||((D=(P=(v=O())==null?void 0:v.permissions)==null?void 0:P.workspace)==null?void 0:D.models_import)})&&i(qt)})}var ft=l(ut,2);{var Gt=i=>{var d=va(),v=r(d),P=r(v,!0);t(v),t(d),C(D=>y(P,D),[()=>(a(),n(()=>a().t("Export")))]),ne("click",d,async()=>{k(e(Y))}),c(i,d)};N(ft,i=>{e(ue),O(),n(()=>{var d,v,P,D;return e(ue)&&(((d=O())==null?void 0:d.role)==="admin"||((D=(P=(v=O())==null?void 0:v.permissions)==null?void 0:P.workspace)==null?void 0:D.models_export))})&&i(Gt)})}var pt=l(ft,2),mt=r(pt);Wr(mt,{className:"size-3",strokeWidth:"2.5"});var gt=l(mt,2),Kt=r(gt,!0);t(gt),t(pt),t(vt),t(h),t(j);var Xe=l(j,2),Ye=r(Xe),_t=r(Ye),Ze=r(_t),Xt=r(Ze);Ar(Xt,{className:"size-3.5"}),t(Ze);var Oe=l(Ze,2);$r(Oe);var Yt=l(Oe,2);{var Zt=i=>{var d=ua(),v=r(d),P=r(v);Fr(P,{className:"size-3",strokeWidth:"2"}),t(v),t(d),ne("click",v,()=>{p(oe,"")}),c(i,d)};N(Yt,i=>{e(oe)&&i(Zt)})}t(_t),t(Ye);var Ae=l(Ye,2),Qe=r(Ae),xt=r(Qe);Gr(xt,{onChange:async i=>{localStorage.workspaceViewOption=i,await gr()},get value(){return e(X)},set value(i){p(X,i)},$$legacy:!0});var Qt=l(xt,2);{var er=i=>{{let d=$e(()=>(e(re),n(()=>e(re).map(v=>({value:v,label:v})))));Kr(i,{get items(){return e(d)},get value(){return e(ve)},set value(v){p(ve,v)},$$legacy:!0})}};N(Qt,i=>{e(re),n(()=>(e(re)??[]).length>0)&&i(er)})}t(Qe),Dt(Qe,i=>p(Ie,i),()=>e(Ie)),t(Ae);var tr=l(Ae,2);{var rr=i=>{var d=st(),v=R(d);{var P=V=>{var g=ya(),B=R(g);hr(B,5,()=>e(Y),q=>q.id,(q,o,We)=>{var fe=$a(),Re=r(fe),De=r(Re),ht=r(De),et=r(ht),ir=r(et);t(et),t(ht),t(De);var $t=l(De,2),yt=r($t),bt=r(yt),tt=r(bt),wt=r(tt);ye(wt,{get content(){return e(o),n(()=>e(o).name)},className:" w-fit",placement:"top-start",children:(S,b)=>{var M=fa(),w=r(M,!0);t(M),C(T=>{Fe(M,"href",T),y(w,(e(o),n(()=>e(o).name)))},[()=>(e(o),n(()=>`/?models=${encodeURIComponent(e(o).id)}`))]),c(S,M)},$$slots:{default:!0}});var kt=l(wt,2),Je=r(kt),St=r(Je),Mt=l(r(St),2),nr=r(Mt);{var lr=S=>{var b=ga(),M=R(b);{let T=$e(()=>(e(o),a(),n(()=>{var z,pe;return(pe=(z=e(o))==null?void 0:z.meta)!=null&&pe.hidden?a().t("Show"):a().t("Hide")})));ye(M,{get content(){return e(T)},children:(z,pe)=>{var W=pa(),G=r(W);{var Z=ae=>{Vr(ae,{})},xe=ae=>{qr(ae,{})};N(G,ae=>{e(o),n(()=>{var Pt,Et;return(Et=(Pt=e(o))==null?void 0:Pt.meta)==null?void 0:Et.hidden})?ae(Z):ae(xe,!1)})}t(W),ne("click",W,ae=>{ae.stopPropagation(),Te(e(o))}),c(z,W)},$$slots:{default:!0}})}var w=l(M,2);{let T=$e(()=>(a(),n(()=>a().t("Delete"))));ye(w,{get content(){return e(T)},children:(z,pe)=>{var W=ma(),G=r(W);Jt(G,{}),t(W),ne("click",W,Z=>{Z.stopPropagation(),Ee(e(o))}),c(z,W)},$$slots:{default:!0}})}c(S,b)},dr=S=>{da(S,{get user(){return O()},get model(){return e(o)},editHandler:()=>{at(`/workspace/models/edit?id=${encodeURIComponent(e(o).id)}`)},shareHandler:()=>{ze(e(o))},cloneHandler:()=>{qe(e(o))},exportHandler:()=>{U(e(o))},hideHandler:()=>{Te(e(o))},copyLinkHandler:()=>{Ge(e(o))},deleteHandler:()=>{p(se,e(o)),p(me,!0)},onClose:()=>{},children:(b,M)=>{var w=_a(),T=r(w);jr(T,{className:"size-5"}),t(w),c(b,w)},$$slots:{default:!0}})};N(nr,S=>{e(ce)?S(lr):S(dr,!1)})}t(Mt),t(St),t(Je);var rt=l(Je,2),cr=r(rt);{let S=$e(()=>(e(o),a(),n(()=>e(o).is_active?a().t("Enabled"):a().t("Disabled"))));ye(cr,{get content(){return e(S)},children:(b,M)=>{Jr(b,{get state(){return e(o).is_active},set state(w){e(o).is_active=w,_r(()=>e(Y))},$$events:{change:async()=>{var w,T,z;Pr(localStorage.token,e(o).id),be.set(await Le(localStorage.token,((T=(w=K())==null?void 0:w.features)==null?void 0:T.enable_direct_connections)&&(((z=le())==null?void 0:z.directConnections)??null)))}},$$legacy:!0})},$$slots:{default:!0}})}t(rt),t(kt),t(tt);var Ct=l(tt,2),Ht=r(Ct);{let S=$e(()=>(e(o),a(),n(()=>{var b,M;return((M=(b=e(o))==null?void 0:b.user)==null?void 0:M.email)??a().t("Deleted User")})));ye(Ht,{get content(){return e(S)},className:"flex shrink-0",placement:"top-start",children:(b,M)=>{var w=xa(),T=r(w,!0);t(w),C(z=>y(T,z),[()=>(a(),Ne(Lt),e(o),n(()=>{var z,pe,W,G;return a().t("By {{name}}",{name:Lt(((pe=(z=e(o))==null?void 0:z.user)==null?void 0:pe.name)??((G=(W=e(o))==null?void 0:W.user)==null?void 0:G.email)??a().t("Deleted User"))})}))]),c(b,w)},$$slots:{default:!0}})}var vr=l(Ht,4);{let S=$e(()=>(Ne(Nt),e(o),n(()=>{var b,M;return Nt.parse(((M=(b=e(o))==null?void 0:b.meta)==null?void 0:M.description)??e(o).id)})));ye(vr,{get content(){return e(S)},className:" w-fit text-left",placement:"top-start",children:(b,M)=>{var w=ha(),T=r(w),z=r(T);{var pe=G=>{var Z=Ve();C(()=>y(Z,(e(o),n(()=>{var xe,ae;return(ae=(xe=e(o))==null?void 0:xe.meta)==null?void 0:ae.description})))),c(G,Z)},W=G=>{var Z=Ve();C(()=>y(Z,(e(o),n(()=>e(o).id)))),c(G,Z)};N(z,G=>{e(o),n(()=>{var Z,xe;return(((xe=(Z=e(o))==null?void 0:Z.meta)==null?void 0:xe.description)??"").trim()})?G(pe):G(W,!1)})}t(T),t(w),c(b,w)},$$slots:{default:!0}})}t(Ct),t(bt),t(yt),t($t),t(Re),t(fe),C(()=>{Fe(fe,"id",`model-item-${e(o),n(()=>e(o).id)??""}`),jt(et,1,`${e(o),n(()=>e(o).is_active?"":"opacity-50 dark:opacity-50")??""} bg-transparent rounded-2xl`),Fe(ir,"src",(Ne(It),e(o),a(),n(()=>`${It}/models/model/profile/image?id=${e(o).id}&lang=${a().language}`))),jt(Je,1,`flex justify-end w-full ${e(o),n(()=>e(o).is_active?"":"text-gray-500")??""}`)}),ne("click",rt,S=>{S.stopPropagation()}),ne("click",fe,()=>{var S,b;(((S=O())==null?void 0:S.role)==="admin"||e(o).user_id===((b=O())==null?void 0:b.id)||e(o).access_control.write.group_ids.some(M=>e(Be).includes(M)))&&at(`/workspace/models/edit?id=${encodeURIComponent(e(o).id)}`)}),c(q,fe)}),t(B);var ge=l(B,2);{var je=q=>{Xr(q,{get count(){return e(ue)},perPage:30,get page(){return e(A)},set page(o){p(A,o)},$$legacy:!0})};N(ge,q=>{e(ue)>30&&q(je)})}c(V,g)},D=V=>{var g=ba(),B=r(g),ge=l(r(B),2),je=r(ge,!0);t(ge);var q=l(ge,2),o=r(q,!0);t(q),t(B),t(g),C((We,fe)=>{y(je,We),y(o,fe)},[()=>(a(),n(()=>a().t("No models found"))),()=>(a(),n(()=>a().t("Try adjusting your search or filter to find what you are looking for.")))]),c(V,g)};N(v,V=>{e(Y),n(()=>(e(Y)??[]).length!==0)?V(P):V(D,!1)})}c(i,d)},ar=i=>{var d=wa(),v=r(d);zt(v,{className:"size-4"}),t(d),c(i,d)};N(tr,i=>{e(Y)!==null?i(rr):i(ar,!1)})}t(Xe);var sr=l(Xe,2);{var or=i=>{var d=ka(),v=r(d),P=r(v,!0);t(v);var D=l(v,2),V=r(D),g=r(V),B=r(g,!0);t(g);var ge=l(g,2),je=r(ge,!0);t(ge),t(V);var q=l(V,2),o=r(q),We=r(o);Rr(We,{}),t(o),t(q),t(D),t(d),C((fe,Re,De)=>{y(P,fe),y(B,Re),y(je,De)},[()=>(a(),n(()=>a().t("Made by Open WebUI Community"))),()=>(a(),n(()=>a().t("Discover a model"))),()=>(a(),n(()=>a().t("Discover, download, and explore model presets")))]),c(i,d)};N(sr,i=>{K(),n(()=>{var d;return(d=K())==null?void 0:d.features.enable_community_sharing})&&i(or)})}C((i,d,v)=>{y(Ft,i),y(Vt,e(ue)),y(Kt,d),Fe(Oe,"placeholder",v)},[()=>(a(),n(()=>a().t("Models"))),()=>(a(),n(()=>a().t("New Model"))),()=>(a(),n(()=>a().t("Search Models")))]),yr(u,()=>e(ke),i=>p(ke,i)),ne("change",u,()=>{e(ke);let i=new FileReader;i.onload=async d=>{var P,D,V;let v=[];try{v=JSON.parse(d.target.result)}catch{Q.error(a().t("Invalid JSON file"));return}for(const g of v)(g==null?void 0:g.info)??!1?Ce().find(B=>B.id===g.id)?await Ut(localStorage.token,g.id,g.info).catch(B=>(Q.error(`${B}`),null)):await Bt(localStorage.token,g.info).catch(B=>(Q.error(`${B}`),null)):g!=null&&g.id&&(g!=null&&g.name)&&await Bt(localStorage.token,g).catch(B=>(Q.error(`${B}`),null));await be.set(await Le(localStorage.token,((D=(P=K())==null?void 0:P.features)==null?void 0:D.enable_direct_connections)&&(((V=le())==null?void 0:V.directConnections)??null))),p(A,1),_e()},i.readAsText(e(ke)[0])}),br(Oe,()=>e(oe),i=>p(oe,i)),ne("wheel",Ae,i=>{i.deltaY!==0&&(i.preventDefault(),i.currentTarget.scrollLeft+=i.deltaY)}),c(s,f)},E=s=>{var f=Ma(),H=r(f);zt(H,{className:"size-5"}),t(f),c(s,f)};N(_,s=>{e(Ue)?s(x):s(E,!1)})}c(Me,$),it(),He()}function hs(Me,I){ot(I,!1);const a=()=>ee(dt,"$config",de),K=()=>ee(Rt,"$settings",de),le=()=>ee(be,"$models",de),[de,Ce]=lt();At(async()=>{await Promise.all([(async()=>{var te,we,ce;be.set(await Le(localStorage.token,((we=(te=a())==null?void 0:te.features)==null?void 0:we.enable_direct_connections)&&(((ce=K())==null?void 0:ce.directConnections)??null)))})()])}),nt();var O=st(),J=R(O);{var He=te=>{Ca(te,{})};N(J,te=>{le()!==null&&te(He)})}c(Me,O),it(),Ce()}export{hs as component};
//# sourceMappingURL=34.DvaD1S7a.js.map

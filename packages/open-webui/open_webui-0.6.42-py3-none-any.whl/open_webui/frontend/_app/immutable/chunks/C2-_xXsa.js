import"./CWj6FrbW.js";import"./CN51-NxK.js";import{b0 as be,bk as se,a$ as ke,b3 as Ce,g as $e,b as J,q as E,u as W,i as K,j as o,v as Q,d as w,e as B,a as x,p as V,m as X,c as q,r as T,f as j,M as de,l as ce,z as me,t as he,s as _e,w as le,bl as Ae,k as pe,n as Me,A as Ee}from"./lUdQH9Xf.js";import{i as L}from"./a8_cTibZ.js";import{e as Ne}from"./CyDjujdM.js";import{l as O,p as k}from"./wFFmXPqF.js";import{b as we,t as Be,o as Oe,w as Se,m as G,f as oe,g as R,h as Te,l as H,k as U,i as je,r as ze,j as Re,a as Y,c as ue}from"./BAX94-W5.js";import{s as S}from"./9RuGBeWD.js";import{f as Z}from"./AGdekky4.js";import{b as ee}from"./D72e2DEW.js";import{i as te}from"./VsCEtJ32.js";import{a as D,s as ae}from"./CcA7kcll.js";import{C as We}from"./Ai4YyW_F.js";import{C as De}from"./CNi-Z1CP.js";function qe({page:v=1,totalPages:e,siblingCount:b=1}){const c=[],u=new Set([1,e]),p=3+b,C=e-2-b;if(p>C)for(let n=2;n<=e-1;n++)u.add(n);else if(v<p)for(let n=2;n<=Math.min(p,e);n++)u.add(n);else if(v>C)for(let n=e-1;n>=Math.max(C,2);n--)u.add(n);else for(let n=Math.max(v-b,2);n<=Math.min(v+b,e);n++)u.add(n);const s=n=>{c.push({type:"page",value:n,key:`page-${n}`})},$=()=>{c.push({type:"ellipsis",key:`ellipsis-${c.length}`})};let g=0;for(const n of Array.from(u).sort((m,P)=>m-P))n-g>1&&$(),s(n),g=n;return c}const He={perPage:1,siblingCount:1,defaultPage:1},{name:F,selector:ie}=Te("pagination");function Le(v){const e={...He,...v},b=e.page??ke(e.defaultPage),c=we(b,e==null?void 0:e.onPageChange),u=Be(Oe(e,"page","onPageChange","defaultPage")),{perPage:p,siblingCount:C,count:s}=u,$=Se.derived([s,p],([a,i])=>Math.ceil(a/i)),g=be([c,p,s],([a,i,r])=>{const t=(a-1)*i,l=Math.min(t+i,r);return{start:t,end:l}}),n=G(F(),{returned:()=>({"data-scope":"pagination"})}),m=be([c,$,C],([a,i,r])=>qe({page:a,totalPages:i,siblingCount:r})),P=a=>{const i=a.target;if(!H(i))return;const r=i.closest('[data-scope="pagination"]');if(!H(r))return;const t=Array.from(r.querySelectorAll(ie("page"))).filter(h=>H(h)),l=r.querySelector(ie("prev")),y=r.querySelector(ie("next"));H(l)&&t.unshift(l),H(y)&&t.push(y);const d=t.indexOf(i);a.key===U.ARROW_LEFT&&d!==0?(a.preventDefault(),t[d-1].focus()):a.key===U.ARROW_RIGHT&&d!==t.length-1?(a.preventDefault(),t[d+1].focus()):a.key===U.HOME?(a.preventDefault(),t[0].focus()):a.key===U.END&&(a.preventDefault(),t[t.length-1].focus())},A=G(F("page"),{stores:c,returned:a=>i=>({"aria-label":`Page ${i.value}`,"data-value":i.value,"data-selected":i.value===a?"":void 0}),action:a=>({destroy:oe(R(a,"click",()=>{const r=a.dataset.value;!r||Number.isNaN(+r)||c.set(Number(r))}),R(a,"keydown",P))})}),f=G(F("prev"),{stores:c,returned:a=>({"aria-label":"Previous",disabled:a<=1}),action:a=>({destroy:oe(R(a,"click",()=>{c.update(r=>Math.max(r-1,1))}),R(a,"keydown",P))})}),_=G(F("next"),{stores:[c,$],returned:([a,i])=>({"aria-label":"Next",disabled:a>=i}),action:a=>({destroy:oe(R(a,"click",()=>{const r=$.get();c.update(t=>Math.min(t+1,r))}),R(a,"keydown",P))})});return{elements:{root:n,pageTrigger:A,prevButton:f,nextButton:_},states:{range:se(g),page:c,pages:se(m),totalPages:se($)},options:u}}function ye(){return{NAME:"pagination",PARTS:["root","prev-button","next-button","page"]}}function Ie(v){const{NAME:e,PARTS:b}=ye(),c=je(e,b),u={...Le(ze(v)),getAttrs:c};return Ce(e,u),{...u,updateOption:Re(u.options)}}function ge(){const{NAME:v}=ye();return $e(v)}var Ge=j("<div><!></div>");function Ue(v,e){const b=O(e,["children","$$slots","$$events","$$legacy"]),c=O(b,["count","page","onPageChange","perPage","siblingCount","asChild","el"]);J(e,!1);const u=()=>D(i,"$root",s),p=()=>D(r,"$pages",s),C=()=>D(t,"$range",s),[s,$]=ae(),g=X();let n=k(e,"count",8),m=k(e,"page",28,()=>{}),P=k(e,"onPageChange",24,()=>{}),A=k(e,"perPage",24,()=>{}),f=k(e,"siblingCount",24,()=>{}),_=k(e,"asChild",8,!1),a=k(e,"el",28,()=>{});const{elements:{root:i},states:{pages:r,range:t,page:l},getAttrs:y,updateOption:d}=Ie({count:n(),perPage:A(),siblingCount:f(),defaultPage:m(),onPageChange:({next:N})=>{var M;return m()!==N&&(m(N),(M=P())==null||M(N)),N}}),h=y("root");E(()=>W(m()),()=>{m()!==void 0&&l.set(m())}),E(()=>u(),()=>{K(g,u())}),E(()=>o(g),()=>{Object.assign(o(g),h)}),E(()=>W(n()),()=>{d("count",n())}),E(()=>W(A()),()=>{d("perPage",A())}),E(()=>W(f()),()=>{d("siblingCount",f())}),Q(),te();var z=w(),I=B(z);{var xe=N=>{var M=w(),ne=B(M);S(ne,e,"default",{get builder(){return o(g)},get pages(){return p()},get range(){return C()}},null),x(N,M)},Pe=N=>{var M=Ge();Z(M,()=>({...o(g),...c}));var ne=q(M);S(ne,e,"default",{get builder(){return o(g)},get pages(){return p()},get range(){return C()}},null),T(M),ee(M,re=>a(re),()=>a()),Y(M,re=>{var ve,fe;return(fe=(ve=o(g)).action)==null?void 0:fe.call(ve,re)}),x(N,M)};L(I,N=>{_()?N(xe):N(Pe,!1)})}x(v,z),V(),$()}var Fe=j("<button><!></button>");function Je(v,e){const b=O(e,["children","$$slots","$$events","$$legacy"]),c=O(b,["asChild","el"]);J(e,!1);const u=()=>D(n,"$prevButton",p),[p,C]=ae(),s=X();let $=k(e,"asChild",24,()=>{}),g=k(e,"el",28,()=>{});const{elements:{prevButton:n},getAttrs:m}=ge(),P=m("prev-button"),A=ue();E(()=>u(),()=>{K(s,u())}),E(()=>o(s),()=>{Object.assign(o(s),P)}),Q(),te();var f=w(),_=B(f);{var a=r=>{var t=w(),l=B(t);S(l,e,"default",{get builder(){return o(s)}},null),x(r,t)},i=r=>{var t=Fe();Z(t,()=>({...o(s),type:"button",...c}));var l=q(t);S(l,e,"default",{get builder(){return o(s)}},null),T(t),ee(t,y=>g(y),()=>g()),Y(t,y=>{var d,h;return(h=(d=o(s)).action)==null?void 0:h.call(d,y)}),de(()=>ce("m-click",t,A)),x(r,t)};L(_,r=>{$()?r(a):r(i,!1)})}x(v,f),V(),C()}var Ke=j("<button><!></button>");function Qe(v,e){const b=O(e,["children","$$slots","$$events","$$legacy"]),c=O(b,["asChild","el"]);J(e,!1);const u=()=>D(n,"$nextButton",p),[p,C]=ae(),s=X();let $=k(e,"asChild",24,()=>{}),g=k(e,"el",28,()=>{});const{elements:{nextButton:n},getAttrs:m}=ge(),P=m("next-button"),A=ue();E(()=>u(),()=>{K(s,u())}),E(()=>o(s),()=>{Object.assign(o(s),P)}),Q(),te();var f=w(),_=B(f);{var a=r=>{var t=w(),l=B(t);S(l,e,"default",{get builder(){return o(s)}},null),x(r,t)},i=r=>{var t=Ke();Z(t,()=>({...o(s),type:"button",...c}));var l=q(t);S(l,e,"default",{get builder(){return o(s)}},null),T(t),ee(t,y=>g(y),()=>g()),Y(t,y=>{var d,h;return(h=(d=o(s)).action)==null?void 0:h.call(d,y)}),de(()=>ce("m-click",t,A)),x(r,t)};L(_,r=>{$()?r(a):r(i,!1)})}x(v,f),V(),C()}var Ve=j("<button><!></button>");function Xe(v,e){const b=O(e,["children","$$slots","$$events","$$legacy"]),c=O(b,["asChild","page","el"]);J(e,!1);const u=()=>D(m,"$pageTrigger",p),[p,C]=ae(),s=X();let $=k(e,"asChild",24,()=>{}),g=k(e,"page",8),n=k(e,"el",28,()=>{});const{elements:{pageTrigger:m},getAttrs:P}=ge(),A=P("page"),f=ue();E(()=>(u(),W(g())),()=>{K(s,u()(g()))}),E(()=>o(s),()=>{Object.assign(o(s),A)}),Q(),te();var _=w(),a=B(_);{var i=t=>{var l=w(),y=B(l);S(y,e,"default",{get builder(){return o(s)}},null),x(t,l)},r=t=>{var l=Ve();Z(l,()=>({type:"button",...o(s),...c}));var y=q(l);S(y,e,"default",{get builder(){return o(s)}},d=>{var h=me();he(()=>_e(h,(W(g()),le(()=>g().value)))),x(d,h)}),T(l),ee(l,d=>n(d),()=>n()),Y(l,d=>{var h,z;return(z=(h=o(s)).action)==null?void 0:z.call(h,d)}),de(()=>ce("m-click",l,f)),x(t,l)};L(a,t=>{$()?t(i):t(r,!1)})}x(v,_),V(),C()}var Ye=j('<div class="text-sm font-medium text-foreground-alt">...</div>'),Ze=j('<div class="my-2 flex items-center"><!> <div class="flex items-center gap-2.5"></div> <!></div>'),et=j('<div class="flex justify-center"><!></div>');function bt(v,e){let b=k(e,"page",12,0),c=k(e,"count",8,0),u=k(e,"perPage",8,20);var p=et(),C=q(p);Ue(C,{get count(){return c()},get perPage(){return u()},get page(){return b()},set page(s){b(s)},children:Ae,$$slots:{default:(s,$)=>{const g=Me(()=>$.pages);var n=Ze(),m=q(n);Je(m,{class:"mr-[25px] inline-flex size-8 items-center justify-center rounded-[9px] bg-transparent hover:bg-gray-50 dark:hover:bg-gray-850 active:scale-98 disabled:cursor-not-allowed disabled:text-gray-400 dark:disabled:text-gray-700 hover:disabled:bg-transparent dark:hover:disabled:bg-transparent",children:(f,_)=>{We(f,{className:"size-4",strokeWidth:"2"})},$$slots:{default:!0}});var P=pe(m,2);Ne(P,5,()=>o(g),f=>f.key,(f,_,a,i)=>{var r=w(),t=B(r);{var l=d=>{var h=Ye();x(d,h)},y=d=>{Xe(d,{get page(){return o(_)},class:"inline-flex size-8 items-center justify-center rounded-[9px] bg-transparent hover:bg-gray-50 dark:hover:bg-gray-850 text-sm font-medium hover:bg-dark-10 active:scale-98 disabled:cursor-not-allowed disabled:opacity-50 hover:disabled:bg-transparent data-selected:bg-gray-50 data-selected:text-gray-700 data-selected:hover:bg-gray-100 dark:data-selected:bg-gray-850 dark:data-selected:text-gray-50 dark:data-selected:hover:bg-gray-800 transition",children:(h,z)=>{Ee();var I=me();he(()=>_e(I,(o(_),le(()=>o(_).value)))),x(h,I)},$$slots:{default:!0}})};L(t,d=>{o(_),le(()=>o(_).type==="ellipsis")?d(l):d(y,!1)})}x(f,r)}),T(P);var A=pe(P,2);Qe(A,{class:"ml-[25px]  inline-flex size-8 items-center justify-center rounded-[9px] bg-transparent hover:bg-gray-50 dark:hover:bg-gray-850 active:scale-98 disabled:cursor-not-allowed disabled:text-gray-400 dark:disabled:text-gray-700 hover:disabled:bg-transparent dark:hover:disabled:bg-transparent",children:(f,_)=>{De(f,{className:"size-4",strokeWidth:"2"})},$$slots:{default:!0}}),T(n),x(s,n)}},$$legacy:!0}),T(p),x(v,p)}export{bt as P};
//# sourceMappingURL=C2-_xXsa.js.map

import{aM as p,K as L,aN as x,aO as B,M as K,w as P,Q,a4 as U,O as j,a5 as w,aP as m,aQ as q,aR as G,aS as W}from"./lUdQH9Xf.js";import{l as g}from"./BGGTUj09.js";function O(r,a){m(()=>{r.dispatchEvent(new CustomEvent(a))})}function z(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const a=r.split("-");return a.length===1?a[0]:a[0]+a.slice(1).map(i=>i[0].toUpperCase()+i.slice(1)).join("")}function M(r){const a={},i=r.split(";");for(const t of i){const[v,_]=t.split(":");if(!v||_===void 0)break;const d=z(v.trim());a[d]=_.trim()}return a}const D=r=>r;function V(r,a,i,t){var v=(r&q)!==0,_=(r&G)!==0,d=v&&_,N=(r&W)!==0,A=d?"both":v?"in":"out",h,n=a.inert,b=a.style.overflow,f,s;function T(){return m(()=>h??(h=i()(a,(t==null?void 0:t())??{},{direction:A})))}var e={is_global:N,in(){var u;if(a.inert=n,!v){s==null||s.abort(),(u=s==null?void 0:s.reset)==null||u.call(s);return}_||f==null||f.abort(),O(a,"introstart"),f=I(a,T(),s,1,()=>{O(a,"introend"),f==null||f.abort(),f=h=void 0,a.style.overflow=b})},out(u){if(!_){u==null||u(),h=void 0;return}a.inert=!0,O(a,"outrostart"),s=I(a,T(),f,0,()=>{O(a,"outroend"),u==null||u()})},stop:()=>{f==null||f.abort(),s==null||s.abort()}},c=Q;if((c.transitions??(c.transitions=[])).push(e),v&&p){var l=N;if(!l){for(var o=c.parent;o&&o.f&L;)for(;(o=o.parent)&&!(o.f&x););l=!o||(o.f&B)!==0}l&&K(()=>{P(()=>e.in())})}}function I(r,a,i,t,v){var _=t===1;if(U(a)){var d,N=!1;return j(()=>{if(!N){var c=a({direction:_?"in":"out"});d=I(r,c,i,t,v)}}),{abort:()=>{N=!0,d==null||d.abort()},deactivate:()=>d.deactivate(),reset:()=>d.reset(),t:()=>d.t()}}if(i==null||i.deactivate(),!(a!=null&&a.duration))return v(),{abort:w,deactivate:w,reset:w,t:()=>t};const{delay:A=0,css:h,tick:n,easing:b=D}=a;var f=[];if(_&&i===void 0&&(n&&n(0,1),h)){var s=M(h(0,1));f.push(s,s)}var T=()=>1-t,e=r.animate(f,{duration:A,fill:"forwards"});return e.onfinish=()=>{e.cancel();var c=(i==null?void 0:i.t())??1-t;i==null||i.abort();var l=t-c,o=a.duration*Math.abs(l),u=[];if(o>0){var R=!1;if(h)for(var y=Math.ceil(o/16.666666666666668),F=0;F<=y;F+=1){var C=c+l*b(F/y),S=M(h(C,1-C));u.push(S),R||(R=S.overflow==="hidden")}R&&(r.style.overflow="hidden"),T=()=>{var E=e.currentTime;return c+l*b(E/o)},n&&g(()=>{if(e.playState!=="running")return!1;var E=T();return n(E,1-E),!0})}e=r.animate(u,{duration:o,fill:"forwards"}),e.onfinish=()=>{T=()=>t,n==null||n(t,1-t),v()}},{abort:()=>{e&&(e.cancel(),e.effect=null,e.onfinish=w)},deactivate:()=>{v=w},reset:()=>{t===0&&(n==null||n(1,0))},t:()=>T()}}export{V as t};
//# sourceMappingURL=DTfFgf4c.js.map

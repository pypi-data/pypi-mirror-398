import"./CWj6FrbW.js";import"./CN51-NxK.js";import{b as Oe,g as Re,o as De,i as K,aX as ce,j as e,q as we,v as Fe,c as a,r as t,a as l,p as He,f as _,m as O,e as Q,u as q,w as s,k as d,t as w,d as me,s as M,l as se,n as ye,B as Se}from"./lUdQH9Xf.js";import{i as N}from"./a8_cTibZ.js";import{e as ie,i as ke}from"./CyDjujdM.js";import{r as Je,a as le,s as Ue,c as je}from"./AGdekky4.js";import{b as Ke}from"./gZt8HVPH.js";import{i as Qe}from"./VsCEtJ32.js";import{p as E}from"./wFFmXPqF.js";import{s as Ve,a as $e}from"./CcA7kcll.js";import{t as Ye}from"./1N3xujas.js";import{u as et}from"./CQ5nDkjA.js";import{a as tt,s as at}from"./BdY-qA8s.js";import{a as Le}from"./BJunrENY.js";import{X as Me}from"./9jNi-Hzr.js";import"./BAX94-W5.js";import{P as rt}from"./C7r-faAX.js";import{T as ze}from"./BtoSXKKz.js";import{S as st}from"./CkkUFZ96.js";import{C as Pe}from"./ClqqkZEw.js";import{g as it}from"./mkPM8hrz.js";var lt=_('<div class="my-10"><!></div>'),ot=_('<button type="button" class="inline-flex items-center space-x-1 px-2 py-1 bg-gray-100/50 dark:bg-gray-850 rounded-lg text-xs"><div> <span class="text-xs text-gray-500"> </span></div> <div><!></div></button>'),vt=_('<div class="mx-1 mb-1.5"><div class="text-xs text-gray-500 mx-0.5 mb-1"> </div> <div class="flex gap-1 flex-wrap"></div></div>'),nt=_('<button type="button" class="inline-flex items-center space-x-1 px-2 py-1 bg-gray-100/50 dark:bg-gray-850 rounded-lg text-xs"><div> </div> <div><!></div></button>'),dt=_('<div class="mx-1 mb-1.5"><div class="text-xs text-gray-500 mx-0.5 mb-1"> </div> <div class="flex gap-1 flex-wrap"></div></div>'),ct=_('<div class="font-medium truncate flex items-center gap-1"> <span class="text-gray-500"> </span></div>'),mt=_('<button class=" dark:border-gray-850 text-xs flex items-center justify-between w-full" type="button"><div class="px-3 py-1.5 font-medium text-gray-900 dark:text-white flex-1"><div class="flex items-center gap-2"><!></div></div> <div class="px-3 py-1"><div class=" translate-y-0.5"><!></div></div></button>'),ft=_('<div class="text-xs text-gray-500 mb-1 mx-1"> </div> <div class="mb-3"></div>',1),ut=_('<img class="rounded-2xl w-6 h-6 object-cover flex-shrink-0" alt="user"/>'),_t=_('<div class="font-medium truncate"> </div>'),pt=_('<div><span class="relative flex size-1.5"><span class="absolute inline-flex h-full w-full animate-ping rounded-full bg-green-400 opacity-75"></span> <span class="relative inline-flex size-1.5 rounded-full bg-green-500"></span></span></div>'),xt=_('<button class=" dark:border-gray-850 text-xs flex items-center justify-between w-full" type="button"><div class="px-3 py-1.5 font-medium text-gray-900 dark:text-white flex-1"><div class="flex items-center gap-2"><!> <!> <!></div></div> <div class="px-3 py-1"><div class=" translate-y-0.5"><!></div></div></button>'),gt=_('<div class="scrollbar-hidden relative whitespace-nowrap w-full max-w-full"><div class=" text-sm text-left text-gray-500 dark:text-gray-400 w-full max-w-full"><div class="w-full max-h-96 overflow-y-auto rounded-lg"><!> <div class="text-xs text-gray-500 mb-1 mx-1"> </div> <div></div></div></div></div>'),ht=_('<div class="text-gray-500 text-xs text-center py-5 px-10"> </div>'),bt=_('<!> <!> <div class="flex gap-1 mb-1"><div class=" flex w-full space-x-2"><div class="flex flex-1"><div class=" self-center ml-1 mr-3"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg></div> <input class=" w-full text-sm pr-4 py-1 rounded-r-xl outline-hidden bg-transparent"/></div></div></div> <!>',1),wt=_("<div><!></div>");function Rt(H,k){Oe(k,!1);const c=()=>$e(Ce,"$i18n",z),R=()=>$e(et,"$_user",z),[z,Be]=Ve(),Ce=Re("i18n");let fe=E(k,"includeGroups",8,!0);E(k,"pagination",8,!1);let h=E(k,"groupIds",28,()=>[]),m=E(k,"userIds",28,()=>[]),V=O(null),Y=O([]),P=O({}),S=O({}),Ne=1,J=O(null),ue=O(null),X=O(""),_e="name",pe="asc";const Ie=async()=>{try{const n=await at(localStorage.token,e(X),_e,pe,Ne).catch($=>(Ye.error(`${$}`),null));n&&(K(J,n.users),K(ue,n.total))}catch(n){}};De(async()=>{K(V,await it(localStorage.token,!0)),m().length>0&&m().forEach(async n=>{const $=await tt(localStorage.token,n).catch(D=>null);$&&ce(S,e(S)[n]=$)})}),we(()=>(e(V),e(X)),()=>{K(Y,e(V)?e(V).filter(n=>n.name.toLowerCase().includes(e(X).toLowerCase())):[])}),we(()=>e(X),()=>{e(X)!==null&&_e!==null&&pe!==null&&Ie()}),Fe(),Qe();var oe=wt(),Ge=a(oe);{var We=n=>{var $=lt(),D=a($);st(D,{className:"size-5"}),t($),l(n,$)},Ae=n=>{var $=bt(),D=Q($);{var qe=v=>{var p=vt(),y=a(p),I=a(y);t(y);var G=d(y,2);ie(G,5,h,ke,(U,o)=>{var T=me(),F=Q(T);{var b=r=>{var f=ot(),L=a(f),j=a(L),x=d(j),i=a(x,!0);t(x),t(L);var u=d(L,2),W=a(u);Me(W,{className:"size-3"}),t(u),t(f),w(()=>{M(j,`${e(P),e(o),s(()=>e(P)[e(o)].name)??""} `),M(i,(e(P),e(o),s(()=>e(P)[e(o)].member_count)))}),se("click",f,()=>{h(h().filter(Z=>Z!==e(o))),delete e(P)[e(o)]}),l(r,f)};N(F,r=>{e(P),e(o),s(()=>e(P)[e(o)])&&r(b)})}l(U,T)}),t(G),t(p),w(U=>M(I,`${q(h()),s(()=>h().length)??""}
					${U??""}`),[()=>(c(),s(()=>c().t("groups")))]),l(v,p)};N(D,v=>{q(h()),s(()=>h().length>0)&&v(qe)})}var xe=d(D,2);{var Ee=v=>{var p=dt(),y=a(p),I=a(y);t(y);var G=d(y,2);ie(G,5,m,ke,(U,o)=>{var T=me(),F=Q(T);{var b=r=>{var f=nt(),L=a(f),j=a(L,!0);t(L);var x=d(L,2),i=a(x);Me(i,{className:"size-3"}),t(x),t(f),w(()=>M(j,(e(S),e(o),s(()=>e(S)[e(o)].name)))),se("click",f,()=>{m(m().filter(u=>u!==e(o))),delete e(S)[e(o)]}),l(r,f)};N(F,r=>{e(S),e(o),s(()=>e(S)[e(o)])&&r(b)})}l(U,T)}),t(G),t(p),w(U=>M(I,`${q(m()),s(()=>m().length)??""}
					${U??""}`),[()=>(c(),s(()=>c().t("users")))]),l(v,p)};N(xe,v=>{q(m()),s(()=>m().length>0)&&v(Ee)})}var ve=d(xe,2),ge=a(ve),he=a(ge),ne=d(a(he),2);Je(ne),t(he),t(ge),t(ve);var Xe=d(ve,2);{var Te=v=>{var p=gt(),y=a(p),I=a(y),G=a(I);{var U=b=>{var r=ft(),f=Q(r),L=a(f,!0);t(f);var j=d(f,2);ie(j,7,()=>e(Y),x=>x.id,(x,i)=>{var u=mt(),W=a(u),Z=a(W),ee=a(Z);ze(ee,{get content(){return e(i),s(()=>e(i).name)},placement:"top-start",children:(A,be)=>{var g=ct(),B=a(g),C=d(B),de=a(C,!0);t(C),t(g),w(()=>{M(B,`${e(i),s(()=>e(i).name)??""} `),M(de,(e(i),s(()=>e(i).member_count)))}),l(A,g)},$$slots:{default:!0}}),t(Z),t(W);var te=d(W,2),ae=a(te),re=a(ae);{let A=ye(()=>(q(h()),e(i),s(()=>(h()??[]).includes(e(i).id)?"checked":"unchecked")));Pe(re,{get state(){return e(A)}})}t(ae),t(te),t(u),se("click",u,()=>{(h()??[]).includes(e(i).id)?(h(h().filter(A=>A!==e(i).id)),delete e(P)[e(i).id]):(h([...h(),e(i).id]),ce(P,e(P)[e(i).id]=e(i)))}),l(x,u)}),t(j),w(x=>M(L,x),[()=>(c(),s(()=>c().t("Groups")))]),l(b,r)};N(G,b=>{q(fe()),e(Y),s(()=>fe()&&e(Y).length>0)&&b(U)})}var o=d(G,2),T=a(o,!0);t(o);var F=d(o,2);ie(F,7,()=>e(J),b=>b.id,(b,r)=>{var f=me(),L=Q(f);{var j=x=>{var i=xt(),u=a(i),W=a(u),Z=a(W);rt(Z,{get user(){return e(r)},side:"right",align:"center",sideOffset:6,children:(g,B)=>{var C=ut();w(()=>le(C,"src",(q(Le),e(r),s(()=>`${Le}/users/${e(r).id}/profile/image`)))),l(g,C)},$$slots:{default:!0}});var ee=d(Z,2);ze(ee,{get content(){return e(r),s(()=>e(r).email)},placement:"top-start",children:(g,B)=>{var C=_t(),de=a(C,!0);t(C),w(()=>M(de,(e(r),s(()=>e(r).name)))),l(g,C)},$$slots:{default:!0}});var te=d(ee,2);{var ae=g=>{var B=pt();l(g,B)};N(te,g=>{e(r),s(()=>{var B;return(B=e(r))==null?void 0:B.is_active})&&g(ae)})}t(W),t(u);var re=d(u,2),A=a(re),be=a(A);{let g=ye(()=>(q(m()),e(r),s(()=>(m()??[]).includes(e(r).id)?"checked":"unchecked")));Pe(be,{get state(){return e(g)}})}t(A),t(re),t(i),se("click",i,()=>{(m()??[]).includes(e(r).id)?(m(m().filter(g=>g!==e(r).id)),delete e(S)[e(r).id]):(m([...m(),e(r).id]),ce(S,e(S)[e(r).id]=e(r)))}),l(x,i)};N(L,x=>{e(r),R(),s(()=>{var i,u;return((i=e(r))==null?void 0:i.id)!==((u=R())==null?void 0:u.id)})&&x(j)})}l(b,f)}),t(F),t(I),t(y),t(p),w(b=>M(T,b),[()=>(c(),s(()=>c().t("Users")))]),l(v,p)},Ze=v=>{var p=ht(),y=a(p,!0);t(p),w(I=>M(y,I),[()=>(c(),s(()=>c().t("No users were found.")))]),l(v,p)};N(Xe,v=>{e(J),s(()=>e(J).length>0)?v(Te):v(Ze,!1)})}w(v=>le(ne,"placeholder",v),[()=>(c(),s(()=>c().t("Search")))]),Ke(ne,()=>e(X),v=>K(X,v)),l(n,$)};N(Ge,n=>{e(J)===null||e(ue)===null?n(We):n(Ae,!1)})}t(oe),l(H,oe),He(),Be()}var yt=Se('<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"></path></svg>');function Dt(H,k){let c=E(k,"className",8,"size-3"),R=E(k,"strokeWidth",8,"1.5");var z=yt();w(()=>{le(z,"stroke-width",R()),Ue(z,0,je(c()))}),l(H,z)}var kt=Se('<svg viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24"><path d="M9.5 14.5L3 21" stroke-linecap="round" stroke-linejoin="round"></path><path d="M7.67602 7.8896L6.69713 7.78823L5.00007 9.48528L14.1925 18.6777L15.8895 16.9806L15.7879 16M11.4847 7L15.1568 2.67141L21.0065 8.5211L16.6991 12.175" stroke-linecap="round" stroke-linejoin="round"></path><path d="M3 3L21 21" stroke-linecap="round" stroke-linejoin="round"></path></svg>');function Ft(H,k){let c=E(k,"className",8,"size-4"),R=E(k,"strokeWidth",8,"1.5");var z=kt();w(()=>{le(z,"stroke-width",R()),Ue(z,0,je(c()))}),l(H,z)}export{Rt as M,Ft as P,Dt as U};
//# sourceMappingURL=Da_gCGUc.js.map

"""Persistence package providing database and model utilities."""

from .analytics import (
    count_active_tasks,
    count_pending_thoughts_for_active_tasks,
    count_thoughts_by_status,
    get_pending_thoughts_for_active_tasks,
    get_tasks_needing_recovery_thought,
    get_tasks_needing_seed_thought,
    pending_thoughts,
    thought_exists_for,
)
from .db import (
    MIGRATIONS_BASE_DIR,
    get_db_connection,
    get_graph_edges_table_schema_sql,
    get_graph_nodes_table_schema_sql,
    get_service_correlations_table_schema_sql,
    get_sqlite_db_full_path,
    initialize_database,
    run_migrations,
)
from .models import (
    QueueStatus,
    add_correlation,
    add_correlation_with_telemetry,
    add_graph_edge,
    add_graph_node,
    add_task,
    add_thought,
    async_get_thought_by_id,
    async_get_thought_status,
    async_get_thoughts_by_ids,
    clear_task_images,
    count_tasks,
    count_thoughts,
    delete_graph_edge,
    delete_graph_node,
    delete_tasks_by_ids,
    delete_thoughts_by_ids,
    get_all_graph_nodes,
    get_all_tasks,
    get_correlation,
    get_correlations_by_channel,
    get_correlations_by_task_and_action,
    get_deferral_report_context,
    get_edges_for_node,
    get_graph_node,
    get_nodes_by_type,
    get_pending_tasks_for_activation,
    get_queue_status,
    get_recent_completed_tasks,
    get_task_by_id,
    get_tasks_by_status,
    get_tasks_older_than,
    get_thought_by_id,
    get_thoughts_by_ids,
    get_thoughts_by_status,
    get_thoughts_by_task_id,
    get_thoughts_older_than,
    get_top_tasks,
    save_deferral_report_mapping,
    task_exists,
    update_correlation,
    update_task_context_and_signing,
    update_task_status,
    update_thought_status,
)

__all__ = [
    "get_db_connection",
    "initialize_database",
    "get_tasks_older_than",
    "get_thoughts_older_than",
    "run_migrations",
    "MIGRATIONS_BASE_DIR",
    "get_sqlite_db_full_path",
    "update_task_status",
    "task_exists",
    "add_task",
    "clear_task_images",
    "get_all_tasks",
    "get_task_by_id",
    "get_tasks_by_status",
    "get_recent_completed_tasks",
    "get_top_tasks",
    "get_pending_tasks_for_activation",
    "count_tasks",
    "delete_tasks_by_ids",
    "update_task_context_and_signing",
    "add_thought",
    "get_thought_by_id",
    "async_get_thought_by_id",
    "get_thoughts_by_ids",
    "async_get_thoughts_by_ids",
    "async_get_thought_status",
    "update_thought_status",
    "get_thoughts_by_status",
    "get_thoughts_by_task_id",
    "count_thoughts",
    "delete_thoughts_by_ids",
    "save_deferral_report_mapping",
    "get_deferral_report_context",
    "add_graph_node",
    "get_graph_node",
    "delete_graph_node",
    "add_graph_edge",
    "delete_graph_edge",
    "get_edges_for_node",
    "get_all_graph_nodes",
    "get_nodes_by_type",
    "add_correlation",
    "update_correlation",
    "get_correlation",
    "get_correlations_by_task_and_action",
    "get_correlations_by_channel",
    "get_pending_thoughts_for_active_tasks",
    "count_pending_thoughts_for_active_tasks",
    "count_active_tasks",
    "get_tasks_needing_seed_thought",
    "get_tasks_needing_recovery_thought",
    "pending_thoughts",
    "thought_exists_for",
    "count_thoughts_by_status",
    "get_graph_nodes_table_schema_sql",
    "get_graph_edges_table_schema_sql",
    "get_service_correlations_table_schema_sql",
    "get_queue_status",
    "QueueStatus",
]

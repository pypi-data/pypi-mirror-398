(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5763],{3072:(e,r,i)=>{"use strict";i.r(r),i.d(r,{default:()=>n});var s=i(4568),d=i(7620),t=i(704);function n(){let[e,r]=(0,d.useState)(null),[i,n]=(0,d.useState)(null),[l,o]=(0,d.useState)(null),[a,c]=(0,d.useState)(!0),[h,x]=(0,d.useState)(!1),[p,u]=(0,d.useState)(null),[g,j]=(0,d.useState)(""),[v,m]=(0,d.useState)(""),[y,b]=(0,d.useState)(""),[f,_]=(0,d.useState)("NORMAL"),[S,k]=(0,d.useState)(0),[C,R]=(0,d.useState)("FALLBACK"),[B,w]=(0,d.useState)(null),[A,O]=(0,d.useState)(""),[L,T]=(0,d.useState)(null),[I,U]=(0,d.useState)(null),N=async()=>{try{u(null);let[e,i,s]=await Promise.all([t.AQ.system.getServices().catch(e=>({error:e.message})),Promise.resolve({overall_health:"unknown",total_services:0,healthy_services:0,unhealthy_services:0}),Promise.resolve({service_selection_logic:null})]);r(e),n(i),o(s)}catch(e){u(e instanceof Error?e.message:"Unknown error")}};(0,d.useEffect)(()=>{N().finally(()=>c(!1))},[g,v]);let D=async()=>{x(!0),await N(),x(!1)},F=async e=>{if(e.preventDefault(),y)try{w({status:"error",message:"updateServicePriority not implemented in SDK"}),await D()}catch(e){w({error:e instanceof Error?e.message:"Unknown error"})}},P=async e=>{e.preventDefault();try{T({status:"error",message:"resetCircuitBreakers not implemented in SDK"}),await D()}catch(e){T({error:e instanceof Error?e.message:"Unknown error"})}},H=async()=>{try{U({error:"diagnoseServiceIssues not implemented in SDK"})}catch(e){U({error:e instanceof Error?e.message:"Unknown error"})}};if(a)return(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{children:"Service Management"}),(0,s.jsx)("p",{children:"Loading service information..."})]});let E=[];if(e&&!e.error){for(let[r,i]of Object.entries(e.handlers||{}))for(let[e,s]of Object.entries(i))for(let i of s)E.push({name:i.name,scope:"handler:".concat(r),service_type:e});for(let[r,i]of Object.entries(e.global_services||{}))for(let e of i)E.push({name:e.name,scope:"global",service_type:r})}return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20},children:[(0,s.jsx)("h1",{children:"Service Management"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("button",{onClick:D,disabled:h,style:{marginRight:10},children:h?"Refreshing...":"Refresh"}),(0,s.jsx)("button",{onClick:H,children:"Diagnose Issues"})]})]}),p&&(0,s.jsxs)("div",{style:{padding:10,background:"#ffebee",border:"1px solid #f44336",borderRadius:4,marginBottom:20},children:[(0,s.jsx)("strong",{children:"Error:"})," ",p]}),(0,s.jsxs)("section",{style:{marginBottom:30,padding:15,border:"1px solid #ddd",borderRadius:5},children:[(0,s.jsx)("h2",{children:"Service Filters"}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:15},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Handler Filter:"}),(0,s.jsx)("input",{type:"text",value:g,onChange:e=>j(e.target.value),placeholder:"Filter by handler name",style:{width:"100%",marginTop:5}})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Service Type Filter:"}),(0,s.jsxs)("select",{value:v,onChange:e=>m(e.target.value),style:{width:"100%",marginTop:5},children:[(0,s.jsx)("option",{value:"",children:"All Service Types"}),(0,s.jsx)("option",{value:"llm",children:"LLM"}),(0,s.jsx)("option",{value:"communication",children:"Communication"}),(0,s.jsx)("option",{value:"memory",children:"Memory"}),(0,s.jsx)("option",{value:"audit",children:"Audit"}),(0,s.jsx)("option",{value:"tool",children:"Tool"}),(0,s.jsx)("option",{value:"wise_authority",children:"Wise Authority"})]})]})]})]}),(0,s.jsxs)("section",{style:{marginBottom:30,padding:15,border:"1px solid #ddd",borderRadius:5},children:[(0,s.jsx)("h2",{children:"Service Health Overview"}),i&&!i.error?(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:15},children:[(0,s.jsxs)("div",{style:{padding:10,background:"#f8f8f8",borderRadius:4},children:[(0,s.jsx)("strong",{children:"Overall Health:"}),(0,s.jsx)("div",{style:{color:"healthy"===i.overall_health?"green":"degraded"===i.overall_health?"orange":"red",fontWeight:"bold",textTransform:"uppercase"},children:i.overall_health})]}),(0,s.jsxs)("div",{style:{padding:10,background:"#f8f8f8",borderRadius:4},children:[(0,s.jsx)("strong",{children:"Total Services:"}),(0,s.jsx)("div",{children:i.total_services})]}),(0,s.jsxs)("div",{style:{padding:10,background:"#f8f8f8",borderRadius:4},children:[(0,s.jsx)("strong",{children:"Healthy Services:"}),(0,s.jsx)("div",{style:{color:"green"},children:i.healthy_services})]}),(0,s.jsxs)("div",{style:{padding:10,background:"#f8f8f8",borderRadius:4},children:[(0,s.jsx)("strong",{children:"Unhealthy Services:"}),(0,s.jsx)("div",{style:{color:i.unhealthy_services>0?"red":"green"},children:i.unhealthy_services})]})]}):(0,s.jsxs)("div",{style:{padding:10,background:"#ffebee",borderRadius:4},children:["Service health information unavailable: ",(null==i?void 0:i.error)||"Unknown error"]})]}),(0,s.jsxs)("section",{style:{marginBottom:30,padding:15,border:"1px solid #ddd",borderRadius:5},children:[(0,s.jsx)("h2",{children:"Service Priority Management"}),(0,s.jsxs)("form",{onSubmit:F,style:{marginBottom:15},children:[(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:15,marginBottom:15},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Service Provider:"}),(0,s.jsxs)("select",{value:y,onChange:e=>b(e.target.value),required:!0,style:{width:"100%",marginTop:5},children:[(0,s.jsx)("option",{value:"",children:"Select a service provider"}),E.map(e=>(0,s.jsxs)("option",{value:e.name,children:[e.name," (",e.scope," - ",e.service_type,")"]},e.name))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Priority Level:"}),(0,s.jsxs)("select",{value:f,onChange:e=>_(e.target.value),style:{width:"100%",marginTop:5},children:[(0,s.jsx)("option",{value:"CRITICAL",children:"CRITICAL (0)"}),(0,s.jsx)("option",{value:"HIGH",children:"HIGH (1)"}),(0,s.jsx)("option",{value:"NORMAL",children:"NORMAL (2)"}),(0,s.jsx)("option",{value:"LOW",children:"LOW (3)"}),(0,s.jsx)("option",{value:"FALLBACK",children:"FALLBACK (9)"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Priority Group:"}),(0,s.jsx)("input",{type:"number",min:"0",max:"10",value:S,onChange:e=>k(parseInt(e.target.value)),style:{width:"100%",marginTop:5}})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Selection Strategy:"}),(0,s.jsxs)("select",{value:C,onChange:e=>R(e.target.value),style:{width:"100%",marginTop:5},children:[(0,s.jsx)("option",{value:"FALLBACK",children:"FALLBACK (First available)"}),(0,s.jsx)("option",{value:"ROUND_ROBIN",children:"ROUND_ROBIN (Load balance)"})]})]})]}),(0,s.jsx)("button",{type:"submit",disabled:!y,children:"Update Service Priority"})]}),B&&(0,s.jsxs)("div",{style:{padding:10,background:"#f0f0f0",borderRadius:4,fontSize:12,marginTop:10},children:[(0,s.jsx)("strong",{children:"Priority Update Result:"}),(0,s.jsx)("pre",{children:JSON.stringify(B,null,2)})]})]}),(0,s.jsxs)("section",{style:{marginBottom:30,padding:15,border:"1px solid #ddd",borderRadius:5},children:[(0,s.jsx)("h2",{children:"Circuit Breaker Management"}),(0,s.jsxs)("form",{onSubmit:P,style:{marginBottom:15},children:[(0,s.jsxs)("div",{style:{marginBottom:10},children:[(0,s.jsx)("label",{children:"Service Type (optional):"}),(0,s.jsxs)("select",{value:A,onChange:e=>O(e.target.value),style:{width:300,marginTop:5,marginLeft:10},children:[(0,s.jsx)("option",{value:"",children:"All Service Types"}),(0,s.jsx)("option",{value:"llm",children:"LLM"}),(0,s.jsx)("option",{value:"communication",children:"Communication"}),(0,s.jsx)("option",{value:"memory",children:"Memory"}),(0,s.jsx)("option",{value:"audit",children:"Audit"}),(0,s.jsx)("option",{value:"tool",children:"Tool"}),(0,s.jsx)("option",{value:"wise_authority",children:"Wise Authority"})]})]}),(0,s.jsx)("button",{type:"submit",children:"Reset Circuit Breakers"})]}),L&&(0,s.jsxs)("div",{style:{padding:10,background:"#f0f0f0",borderRadius:4,fontSize:12},children:[(0,s.jsx)("strong",{children:"Reset Result:"}),(0,s.jsx)("pre",{children:JSON.stringify(L,null,2)})]})]}),l&&!l.error&&(0,s.jsxs)("section",{style:{marginBottom:30,padding:15,border:"1px solid #ddd",borderRadius:5},children:[(0,s.jsx)("h2",{children:"Service Selection Logic"}),(0,s.jsxs)("div",{style:{marginBottom:15},children:[(0,s.jsx)("h3",{children:"Overview"}),(0,s.jsx)("p",{children:l.service_selection_logic.overview})]}),(0,s.jsxs)("div",{style:{marginBottom:15},children:[(0,s.jsx)("h3",{children:"Priority Groups"}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Description:"})," ",l.service_selection_logic.priority_groups.description]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Behavior:"})," ",l.service_selection_logic.priority_groups.behavior]})]}),(0,s.jsxs)("div",{style:{marginBottom:15},children:[(0,s.jsx)("h3",{children:"Priority Levels"}),(0,s.jsx)("p",{children:l.service_selection_logic.priority_levels.description}),(0,s.jsx)("div",{style:{marginLeft:20},children:Object.entries(l.service_selection_logic.priority_levels.levels).map(e=>{let[r,i]=e;return(0,s.jsxs)("div",{style:{marginBottom:5},children:[(0,s.jsxs)("strong",{children:[r," (",i.value,"):"]})," ",i.description]},r)})})]}),(0,s.jsxs)("div",{style:{marginBottom:15},children:[(0,s.jsx)("h3",{children:"Selection Strategies"}),Object.entries(l.service_selection_logic.selection_strategies).map(e=>{let[r,i]=e;return(0,s.jsxs)("div",{style:{marginBottom:10},children:[(0,s.jsxs)("strong",{children:[r,":"]})," ",i.description,(0,s.jsx)("br",{}),(0,s.jsx)("em",{children:"Behavior:"})," ",i.behavior]},r)})]}),(0,s.jsxs)("div",{style:{marginBottom:15},children:[(0,s.jsx)("h3",{children:"Selection Flow"}),(0,s.jsx)("ol",{children:l.service_selection_logic.selection_flow.map((e,r)=>(0,s.jsx)("li",{style:{marginBottom:5},children:e},r))})]})]}),I&&(0,s.jsxs)("section",{style:{marginBottom:30,padding:15,border:"1px solid #ddd",borderRadius:5},children:[(0,s.jsx)("h2",{children:"Service Diagnostics"}),I.error?(0,s.jsxs)("div",{style:{padding:10,background:"#ffebee",borderRadius:4},children:["Diagnostics failed: ",I.error]}):(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:15,marginBottom:15},children:[(0,s.jsxs)("div",{style:{padding:10,background:"#f8f8f8",borderRadius:4},children:[(0,s.jsx)("strong",{children:"Overall Health:"}),(0,s.jsx)("div",{style:{color:"healthy"===I.overall_health?"green":"degraded"===I.overall_health?"orange":"red",fontWeight:"bold"},children:I.overall_health})]}),(0,s.jsxs)("div",{style:{padding:10,background:"#f8f8f8",borderRadius:4},children:[(0,s.jsx)("strong",{children:"Issues Found:"}),(0,s.jsx)("div",{style:{color:I.issues_found>0?"red":"green"},children:I.issues_found})]}),(0,s.jsxs)("div",{style:{padding:10,background:"#f8f8f8",borderRadius:4},children:[(0,s.jsx)("strong",{children:"Global Services:"}),(0,s.jsx)("div",{children:I.service_summary.global_services})]}),(0,s.jsxs)("div",{style:{padding:10,background:"#f8f8f8",borderRadius:4},children:[(0,s.jsx)("strong",{children:"Handler Services:"}),(0,s.jsx)("div",{children:I.service_summary.handler_specific_services})]})]}),I.issues.length>0&&(0,s.jsxs)("div",{style:{marginBottom:15},children:[(0,s.jsx)("h3",{children:"Issues:"}),(0,s.jsx)("ul",{children:I.issues.map((e,r)=>(0,s.jsx)("li",{style:{color:"red"},children:e},r))})]}),I.recommendations.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{children:"Recommendations:"}),(0,s.jsx)("ul",{children:I.recommendations.map((e,r)=>(0,s.jsx)("li",{style:{color:"blue"},children:e},r))})]})]})]}),(0,s.jsxs)("section",{style:{marginBottom:30,padding:15,border:"1px solid #ddd",borderRadius:5},children:[(0,s.jsx)("h2",{children:"Registered Services"}),e&&!e.error?(0,s.jsxs)("div",{children:[Object.keys(e.handlers||{}).length>0&&(0,s.jsxs)("div",{style:{marginBottom:25},children:[(0,s.jsx)("h3",{children:"Handler-Specific Services"}),Object.entries(e.handlers||{}).map(e=>{let[r,i]=e;return(0,s.jsxs)("div",{style:{marginBottom:20,padding:10,background:"#f9f9f9",borderRadius:4},children:[(0,s.jsxs)("h4",{children:["Handler: ",r]}),Object.entries(i).map(e=>{let[r,i]=e;return(0,s.jsxs)("div",{style:{marginBottom:15},children:[(0,s.jsxs)("strong",{children:[r," Services:"]}),(0,s.jsx)("div",{style:{overflowX:"auto",marginTop:5},children:(0,s.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:12},children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{style:{background:"#e0e0e0"},children:[(0,s.jsx)("th",{style:{border:"1px solid #ddd",padding:4,textAlign:"left"},children:"Name"}),(0,s.jsx)("th",{style:{border:"1px solid #ddd",padding:4,textAlign:"left"},children:"Priority"}),(0,s.jsx)("th",{style:{border:"1px solid #ddd",padding:4,textAlign:"left"},children:"Group"}),(0,s.jsx)("th",{style:{border:"1px solid #ddd",padding:4,textAlign:"left"},children:"Strategy"}),(0,s.jsx)("th",{style:{border:"1px solid #ddd",padding:4,textAlign:"left"},children:"Circuit Breaker"}),(0,s.jsx)("th",{style:{border:"1px solid #ddd",padding:4,textAlign:"left"},children:"Capabilities"})]})}),(0,s.jsx)("tbody",{children:i.map((e,r)=>{var i;return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{style:{border:"1px solid #ddd",padding:4},children:e.name}),(0,s.jsx)("td",{style:{border:"1px solid #ddd",padding:4},children:e.priority}),(0,s.jsx)("td",{style:{border:"1px solid #ddd",padding:4},children:e.priority_group}),(0,s.jsx)("td",{style:{border:"1px solid #ddd",padding:4},children:e.strategy}),(0,s.jsx)("td",{style:{border:"1px solid #ddd",padding:4},children:(0,s.jsx)("span",{style:{color:"closed"===e.circuit_breaker_state?"green":"red",fontWeight:"bold"},children:e.circuit_breaker_state||"unknown"})}),(0,s.jsx)("td",{style:{border:"1px solid #ddd",padding:4},children:(null==(i=e.capabilities)?void 0:i.join(", "))||"None"})]},r)})})]})})]},r)})]},r)})]}),Object.keys(e.global_services||{}).length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{children:"Global Services"}),Object.entries(e.global_services||{}).map(e=>{let[r,i]=e;return(0,s.jsxs)("div",{style:{marginBottom:15,padding:10,background:"#f9f9f9",borderRadius:4},children:[(0,s.jsxs)("strong",{children:[r," Services:"]}),(0,s.jsx)("div",{style:{overflowX:"auto",marginTop:5},children:(0,s.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:12},children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{style:{background:"#e0e0e0"},children:[(0,s.jsx)("th",{style:{border:"1px solid #ddd",padding:4,textAlign:"left"},children:"Name"}),(0,s.jsx)("th",{style:{border:"1px solid #ddd",padding:4,textAlign:"left"},children:"Priority"}),(0,s.jsx)("th",{style:{border:"1px solid #ddd",padding:4,textAlign:"left"},children:"Group"}),(0,s.jsx)("th",{style:{border:"1px solid #ddd",padding:4,textAlign:"left"},children:"Strategy"}),(0,s.jsx)("th",{style:{border:"1px solid #ddd",padding:4,textAlign:"left"},children:"Circuit Breaker"}),(0,s.jsx)("th",{style:{border:"1px solid #ddd",padding:4,textAlign:"left"},children:"Capabilities"})]})}),(0,s.jsx)("tbody",{children:i.map((e,r)=>{var i;return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{style:{border:"1px solid #ddd",padding:4},children:e.name}),(0,s.jsx)("td",{style:{border:"1px solid #ddd",padding:4},children:e.priority}),(0,s.jsx)("td",{style:{border:"1px solid #ddd",padding:4},children:e.priority_group}),(0,s.jsx)("td",{style:{border:"1px solid #ddd",padding:4},children:e.strategy}),(0,s.jsx)("td",{style:{border:"1px solid #ddd",padding:4},children:(0,s.jsx)("span",{style:{color:"closed"===e.circuit_breaker_state?"green":"red",fontWeight:"bold"},children:e.circuit_breaker_state||"unknown"})}),(0,s.jsx)("td",{style:{border:"1px solid #ddd",padding:4},children:(null==(i=e.capabilities)?void 0:i.join(", "))||"None"})]},r)})})]})})]},r)})]})]}):(0,s.jsxs)("div",{style:{padding:10,background:"#fff3cd",borderRadius:4},children:["Services information unavailable: ",(null==e?void 0:e.error)||"Unknown error"]})]})]})}},7932:(e,r,i)=>{"use strict";function s(e){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var s in i)e[s]=i[s]}return e}i.d(r,{A:()=>d});var d=function e(r,i){function d(e,d,t){if("undefined"!=typeof document){"number"==typeof(t=s({},i,t)).expires&&(t.expires=new Date(Date.now()+864e5*t.expires)),t.expires&&(t.expires=t.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var n="";for(var l in t)t[l]&&(n+="; "+l,!0!==t[l]&&(n+="="+t[l].split(";")[0]));return document.cookie=e+"="+r.write(d,e)+n}}return Object.create({set:d,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var i=document.cookie?document.cookie.split("; "):[],s={},d=0;d<i.length;d++){var t=i[d].split("="),n=t.slice(1).join("=");try{var l=decodeURIComponent(t[0]);if(s[l]=r.read(n,l),e===l)break}catch(e){}}return e?s[e]:s}},remove:function(e,r){d(e,"",s({},r,{expires:-1}))},withAttributes:function(r){return e(this.converter,s({},this.attributes,r))},withConverter:function(r){return e(s({},this.converter,r),this.attributes)}},{attributes:{value:Object.freeze(i)},converter:{value:Object.freeze(r)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})},8246:(e,r,i)=>{Promise.resolve().then(i.bind(i,3072))}},e=>{var r=r=>e(e.s=r);e.O(0,[704,587,8315,7358],()=>r(8246)),_N_E=e.O()}]);
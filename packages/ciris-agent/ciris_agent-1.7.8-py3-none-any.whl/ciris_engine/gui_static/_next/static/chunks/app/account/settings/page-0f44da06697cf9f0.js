(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9282],{5977:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(4568),n=r(7620),a=r(704);function i(){let[e,t]=(0,n.useState)(null),[r,i]=(0,n.useState)(!0),[l,o]=(0,n.useState)(!1),[c,d]=(0,n.useState)(null),[u,m]=(0,n.useState)(null),[x,g]=(0,n.useState)(""),[p,h]=(0,n.useState)(""),[b,f]=(0,n.useState)(""),[y,v]=(0,n.useState)(!1),j=async()=>{try{i(!0),d(null);let e=new a.CIRISClient,r=await e.users.getMySettings();t(r),g(r.user_preferred_name||""),h(r.location||""),f(r.interaction_preferences||""),v(r.marketing_opt_in)}catch(e){console.error("Failed to load settings:",e),d(e.message||"Failed to load settings")}finally{i(!1)}};(0,n.useEffect)(()=>{j()},[]);let N=async()=>{try{o(!0),d(null),m(null);let e=new a.CIRISClient,r=await e.users.updateMySettings({user_preferred_name:x||void 0,location:p||void 0,interaction_preferences:b||void 0,marketing_opt_in:y});t(r),m("Settings saved successfully"),setTimeout(()=>m(null),3e3)}catch(e){console.error("Failed to save settings:",e),d(e.message||"Failed to save settings")}finally{o(!1)}};return r?(0,s.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:(0,s.jsx)("div",{className:"text-center py-12 text-gray-500",children:"Loading settings..."})}):(0,s.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"User Settings"}),(0,s.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Manage your personal preferences and interaction settings"})]}),c&&(0,s.jsx)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,s.jsx)("p",{className:"text-sm text-red-800",children:c})}),u&&(0,s.jsx)("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:(0,s.jsx)("p",{className:"text-sm text-green-800",children:u})}),(0,s.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm",children:[(0,s.jsxs)("div",{className:"p-6 space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"preferredName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Name"}),(0,s.jsx)("input",{id:"preferredName",type:"text",value:x,onChange:e=>g(e.target.value),placeholder:"How would you like to be addressed?",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),(0,s.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"This name will be used when the agent addresses you directly"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),(0,s.jsx)("input",{id:"location",type:"text",value:p,onChange:e=>h(e.target.value),placeholder:"e.g., San Francisco, CA",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),(0,s.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Your location helps provide context-aware responses (timezone, local info, etc.)"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"interactionPreferences",className:"block text-sm font-medium text-gray-700 mb-2",children:"Interaction Preferences"}),(0,s.jsx)("textarea",{id:"interactionPreferences",value:b,onChange:e=>f(e.target.value),placeholder:"Describe how you'd like the agent to interact with you (e.g., 'Be concise and technical', 'Use simple language', 'Include examples')",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),(0,s.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Provide custom instructions for how the agent should communicate with you"})]}),(0,s.jsx)("div",{className:"pt-4 border-t border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("div",{className:"flex items-center h-5",children:(0,s.jsx)("input",{id:"marketingOptIn",type:"checkbox",checked:y,onChange:e=>v(e.target.checked),className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded cursor-pointer"})}),(0,s.jsxs)("div",{className:"ml-3",children:[(0,s.jsx)("label",{htmlFor:"marketingOptIn",className:"font-medium text-gray-700 cursor-pointer",children:"Marketing Communications"}),(0,s.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Receive updates, news, and marketing materials from CIRIS L3C"}),(null==e?void 0:e.marketing_opt_in_source)&&(0,s.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["Consent source: ",e.marketing_opt_in_source]})]})]})})]}),(0,s.jsxs)("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-end gap-3",children:[(0,s.jsx)("button",{onClick:()=>{e&&(g(e.user_preferred_name||""),h(e.location||""),f(e.interaction_preferences||""),v(e.marketing_opt_in),d(null),m(null))},disabled:l,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Reset"}),(0,s.jsx)("button",{onClick:N,disabled:l,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Saving...":"Save Settings"})]})]}),(0,s.jsxs)("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-blue-900 mb-2",children:"About User Settings"}),(0,s.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1 list-disc list-inside",children:[(0,s.jsx)("li",{children:"Settings are stored in the agent's memory graph as part of your user node"}),(0,s.jsx)("li",{children:"These preferences help personalize your interactions with the agent"}),(0,s.jsx)("li",{children:"All fields are optional - provide as much or as little information as you like"}),(0,s.jsx)("li",{children:"You can update these settings at any time"})]})]})]})}},7449:(e,t,r)=>{Promise.resolve().then(r.bind(r,5977))},7932:(e,t,r)=>{"use strict";function s(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)e[s]=r[s]}return e}r.d(t,{A:()=>n});var n=function e(t,r){function n(e,n,a){if("undefined"!=typeof document){"number"==typeof(a=s({},r,a)).expires&&(a.expires=new Date(Date.now()+864e5*a.expires)),a.expires&&(a.expires=a.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var l in a)a[l]&&(i+="; "+l,!0!==a[l]&&(i+="="+a[l].split(";")[0]));return document.cookie=e+"="+t.write(n,e)+i}}return Object.create({set:n,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var r=document.cookie?document.cookie.split("; "):[],s={},n=0;n<r.length;n++){var a=r[n].split("="),i=a.slice(1).join("=");try{var l=decodeURIComponent(a[0]);if(s[l]=t.read(i,l),e===l)break}catch(e){}}return e?s[e]:s}},remove:function(e,t){n(e,"",s({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,s({},this.attributes,t))},withConverter:function(t){return e(s({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}},e=>{var t=t=>e(e.s=t);e.O(0,[704,587,8315,7358],()=>t(7449)),_N_E=e.O()}]);
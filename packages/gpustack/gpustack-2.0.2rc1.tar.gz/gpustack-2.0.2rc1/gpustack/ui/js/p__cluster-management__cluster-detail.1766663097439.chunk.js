"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4372],{92829:function(e,t,n){var r=(0,n(83645).Z)({scriptUrl:"//at.alicdn.com/t/c/font_4613488_xvmo08q7urm.js"});t.Z=r},74351:function(e,t,n){var r,a,i,o,s,l=n(53649),c=n.n(l),d=n(82187),u=n.n(d),h=(n(75271),n(67585)),m=n(52676),p=h.ZP.div.attrs({className:"template-card-wrapper"})(r||(r=c()(["\n  overflow: hidden;\n  display: flex;\n  padding: 16px 20px;\n  justify-content: flex-start;\n  align-items: center;\n  border: 1px solid var(--ant-color-border);\n  border-radius: var(--border-radius-base);\n  cursor: default;\n  width: 100%;\n  &.clickable:hover:not(.disabled) {\n    background-color: var(--ant-color-fill-tertiary);\n    transition: background-color 0.2s ease;\n  }\n\n  &.hoverable:hover:not(.disabled) {\n    background-color: var(--ant-color-fill-tertiary);\n    transition: background-color 0.2s ease;\n  }\n\n  &.ghost {\n    background-color: transparent;\n  }\n\n  &.active {\n    background-color: var(--ant-color-fill-tertiary);\n  }\n\n  &.clickable:not(.disabled) {\n    cursor: pointer;\n  }\n  &.disabled {\n    cursor: default;\n    opacity: 0.6;\n    pointer-events: none;\n    border-style: dashed;\n  }\n"]))),g=h.ZP.div.attrs({className:"template-card-content"})(a||(a=c()(["\n  width: 100%;\n  flex: 1;\n  color: var(--ant-color-text-tertiary);\n"]))),f=h.ZP.div.attrs({className:"template-card-inner"})(i||(i=c()(["\n  display: flex;\n  width: 100%;\n  flex-direction: column;\n  justify-content: flex-start;\n  gap: 8px;\n  height: 100%;\n"]))),x=h.ZP.div.attrs({className:"template-card-icon"})(o||(o=c()(["\n  display: flex;\n  align-items: center;\n  margin-right: 16px;\n  font-size: 32px;\n"]))),v=h.ZP.div.attrs({className:"template-card-header"})(s||(s=c()(["\n  font-weight: bold;\n  font-size: var(--font-size-base);\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"])));t.Z=function(e){var t=e.className,n=e.height,r=e.children,a=e.clickable,i=void 0===a||a,o=e.ghost,s=void 0!==o&&o,l=e.header,c=e.footer,d=e.icon,h=e.active,b=e.disabled,j=e.hoverable,k=e.onClick;return(0,m.jsxs)(p,{className:u()(t,{clickable:i,hoverable:j,active:h,disabled:b,ghost:s}),style:{height:n||"180px"},onClick:function(){!b&&i&&(null==k||k())},children:[d&&(0,m.jsx)(x,{children:d}),(0,m.jsxs)(f,{children:[l&&(0,m.jsx)(v,{children:l}),r&&(0,m.jsx)(g,{children:r}),c]})]})}},92900:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(26068),a=n.n(r),i=n(48305),o=n.n(i),s=n(14725),l=n(50815),c=n(26447),d=n(75271);function u(){var e=l.Z.light,t=l.Z.dark,n=l.Z.colorPrimary,r=(0,c.KO)(s.rM),i=o()(r,2),u=i[0],h=i[1],m=(0,d.useMemo)((function(){var r="realDark"===u.theme?t:e;return a()(a()({},r),{},{token:a()(a()({},r.token),{},{colorPrimary:u.colorPrimary||n})})}),[u.theme,u.colorPrimary]),p=function(e){var t,n,r=function(e){return"auto"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"realDark":"light":e}(e);t=r,(n=document.querySelector("html"))&&n.setAttribute("data-theme",t),h({theme:r,mode:e,isDarkTheme:"realDark"===r})};return(0,d.useEffect)((function(){var e;e=window.matchMedia("(prefers-color-scheme: dark)").matches?"realDark":"light","auto"===u.mode&&e!==u.theme&&p("auto")}),[u.theme,u.mode]),(0,d.useEffect)((function(){var e=window.matchMedia("(prefers-color-scheme: dark)"),t=function(){"auto"===u.mode&&p("auto")};return e.addEventListener("change",t),function(){e.removeEventListener("change",t)}}),[u.mode,u.theme]),{userSettings:u,setUserSettings:h,setTheme:p,isDarkTheme:u.isDarkTheme,themeData:m,componentSize:"large"}}},94213:function(e,t,n){n.d(t,{R:function(){return g}});var r,a=n(26068),i=n.n(a),o=n(67825),s=n.n(o),l=n(53649),c=n.n(l),d=n(72729),u=n(67585),h=n(52676),m=["children"],p=(0,u.ZP)(d._z)(r||(r=c()(["\n  .ant-affix {\n    top: 0 !important;\n    height: auto;\n  }\n  .ant-page-header {\n    padding-block-end: 8px;\n    .ant-page-header-heading {\n      padding-block-start: 0;\n    }\n  }\n  .ant-pro-page-container-warp-page-header {\n    padding-inline: ","px;\n  }\n  .ant-page-header-heading-title {\n    font-size: 16px;\n  }\n"])),32),g=function(e){var t=e.children,n=s()(e,m);return(0,h.jsx)(p,i()(i()({},n),{},{fixedHeader:!0,token:{paddingInlinePageContainerContent:32},children:t}))};t.Z=function(e){var t=e.children;return(0,h.jsx)("div",{children:t})}},17488:function(e,t,n){var r,a=n(53649),i=n.n(a),o=n(92829),s=n(84825),l=(n(75271),n(67585)),c=n(52676),d=(0,l.ZP)(s.Z)(r||(r=i()(["\n  .ant-breadcrumb-link {\n    font-size: 16px;\n    font-weight: 500;\n    a {\n      background: unset;\n    }\n  }\n  .ant-breadcrumb-separator {\n    display: flex;\n    align-items: center;\n  }\n"])));t.Z=function(e){var t=e.items;return(0,c.jsx)(d,{separator:(0,c.jsx)(o.Z,{type:"icon-down2",rotate:-90}),items:t})}},93981:function(e,t,n){n.r(t),n.d(t,{default:function(){return G}});var r,a=n(48305),i=n.n(a),o=n(53231),s=n(94213),l=n(17488),c=n(26068),d=n.n(c),u=n(90228),h=n.n(u),m=n(87999),p=n.n(m),g=n(53649),f=n.n(g),x=n(61163),v=n(74351),b=n(27441),j=n(77634),k=n(32699),y=n.n(k),Z=n(75271),w=n(67585),P=n(92047),M=n(27220),C=n(71656),D=n.n(C),A=n(52676),z={left:0},U=function(e){var t=e.data,n=e.metrics,r=e.metricsMap,a=e.title,i=(0,o.useIntl)(),s=(0,Z.useMemo)((function(){var e=[],a=[];return{seriesData:y().map(n,(function(n){var o=y().get(r,n,{}),s=o.intl?i.formatMessage({id:o.label}):o.label;e.push(s);var l=y().get(t,n,[]);return{name:s,color:o.color,data:y().map(l,(function(e){return a.push(D()(1e3*e.timestamp).format("HH:mm:ss")),{time:D()(1e3*e.timestamp).format("HH:mm:ss"),value:y().round(y().get(e,"value",0),1)}}))}})),legendData:e,xAxisData:y().uniq(a)}}),[t,i]);return(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(M.Z,{height:320,title:a,showArea:!1,seriesData:s.seriesData,legendData:s.legendData,xAxisData:s.xAxisData,tooltipValueFormatter:function(e){return e?"".concat(e,"%"):e},smooth:!0,width:"100%",yAxisName:"(%)",titleOptions:z})})},S={cpu:{label:"CPU",type:"CPU",intl:!1,color:"rgba(250, 173, 20,.8)"},ram:{label:"RAM",type:"RAM",intl:!1,color:"rgba(114, 46, 209,.8)"},allocated:{label:"Allocated",type:"Allocated",intl:!1,color:"rgba(250, 173, 20,.8)"},gpu:{label:"GPU",type:"GPU",intl:!1,color:"rgba(84, 204, 152,.8)"},vram:{label:"VRAM",type:"VRAM",intl:!1,color:"rgba(255, 107, 179, 80%)"}},N=w.ZP.div(r||(r=f()(["\n  font-size: var(--font-size-middle);\n  font-weight: 700;\n  color: var(--ant-color-text);\n  margin-block: 24px 16px;\n"]))),R={textStyle:{color:"#000",fontSize:14,fontWeight:600},top:-5},_={radius:"100%",progress:{show:!0,roundCap:!1,width:8},axisLine:{roundCap:!1,lineStyle:{width:8,color:[[.5,"rgba(84, 204, 152, 80%)"],[.8,"rgba(250, 173, 20, 80%)"],[1,"rgba(255, 77, 79, 80%)"]]}}},E=function(e){return y().round(e||0,1)},H=336,V=function(){var e=160,t=(0,o.useSearchParams)(),n=i()(t,1)[0],r=n.get("id"),a=(n.get("provider"),(0,Z.useState)({current:{cpu:0,ram:0,gpu:0,vram:0},history:{}})),s=i()(a,2),l=s[0],c=s[1],u=function(){var e=p()(h()().mark((function e(){var t,n,a;return h()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,(0,P.E_)({cluster_id:r});case 5:a=e.sent,c({current:null===(t=a.system_load)||void 0===t?void 0:t.current,history:null===(n=a.system_load)||void 0===n?void 0:n.history}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),c({current:{cpu:0,ram:0,gpu:0,vram:0},history:{}});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();return(0,Z.useEffect)((function(){r&&u()}),[r]),(0,A.jsxs)("div",{children:[(0,A.jsx)("div",{className:"chart-wrapper",children:(0,A.jsxs)(b.Z,{gutter:16,style:{width:"100%"},children:[(0,A.jsx)(j.Z,{span:6,children:(0,A.jsx)(x.Z,{title:d()({text:"GPU Utilization"},R),value:E(l.current.gpu),height:e,gaugeConfig:_})}),(0,A.jsx)(j.Z,{span:6,children:(0,A.jsx)(x.Z,{title:d()({text:"CPU Utilization"},R),value:E(l.current.cpu),height:e,gaugeConfig:_})}),(0,A.jsx)(j.Z,{span:6,children:(0,A.jsx)(x.Z,{title:d()({text:"RAM Utilization"},R),value:E(l.current.ram),height:e,gaugeConfig:_})}),(0,A.jsx)(j.Z,{span:6,children:(0,A.jsx)(x.Z,{title:d()({text:"VRAM Utilization"},R),value:E(l.current.vram),height:e,gaugeConfig:_})})]})}),(0,A.jsx)(N,{children:"System Load"}),(0,A.jsxs)(b.Z,{style:{marginBottom:16},gutter:16,children:[(0,A.jsx)(j.Z,{span:12,children:(0,A.jsx)(v.Z,{height:H,clickable:!1,ghost:!0,children:(0,A.jsx)(U,{data:null==l?void 0:l.history,metrics:["vram"],metricsMap:S,title:"VRAM"})})}),(0,A.jsx)(j.Z,{span:12,children:(0,A.jsx)(v.Z,{height:H,clickable:!1,ghost:!0,children:(0,A.jsx)(U,{data:null==l?void 0:l.history,metrics:["ram"],metricsMap:S,title:"RAM"})})})]}),(0,A.jsxs)(b.Z,{gutter:16,children:[(0,A.jsx)(j.Z,{span:12,children:(0,A.jsx)(v.Z,{height:H,clickable:!1,ghost:!0,children:(0,A.jsx)(U,{data:null==l?void 0:l.history,metrics:["cpu"],metricsMap:S,title:"CPU"})})}),(0,A.jsx)(j.Z,{span:12,children:(0,A.jsx)(v.Z,{height:H,clickable:!1,ghost:!0,children:(0,A.jsx)(U,{data:null==l?void 0:l.history,metrics:["gpu"],metricsMap:S,title:"GPU"})})})]})]})},G=function(){var e=(0,o.useNavigate)(),t=(0,o.useIntl)(),n=(0,o.useSearchParams)(),r=i()(n,1)[0],a=(r.get("provider"),r.get("name")),c=[{title:(0,A.jsx)("a",{children:t.formatMessage({id:"clusters.title"})}),onClick:function(){return e(-1)}},{title:a}];return(0,A.jsx)(s.R,{header:{title:(0,A.jsx)(l.Z,{items:c})},children:(0,A.jsx)(V,{})})}}}]);
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[304],{69547:function(e,t,n){var i=n(26068),o=n.n(i),r=n(15558),a=n.n(r),l=n(91315),c=n(75271);t.Z=function(e){var t=e.events,n=void 0===t?["CREATE","DELETE","UPDATE","INSERT"]:t,i=(0,c.useRef)(new Set),r=(0,c.useRef)(e.dataList||[]),s=(0,c.useRef)(null),d=e.limit||10;return(0,c.useEffect)((function(){r.current=a()(e.dataList||[])}),[e.dataList]),{updateChunkedList:function(t){var c,u,p,m=(null==t?void 0:t.collection)||[];null!=e&&e.computedID&&(m=null===(c=m)||void 0===c?void 0:c.map((function(t){var n;return t.id=null==e||null===(n=e.computedID)||void 0===n?void 0:n.call(e,t),t})));null!=e&&e.filterFun&&(m=null==t||null===(u=t.collection)||void 0===u?void 0:u.filter(null==e?void 0:e.filterFun));null!=e&&e.mapFun&&(m=null==t||null===(p=t.collection)||void 0===p?void 0:p.map(null==e?void 0:e.mapFun));var f,v,g,h=(null==t?void 0:t.ids)||[];if((null==t?void 0:t.type)===l._W.CREATE&&n.includes("CREATE")){var b,$=m.reduce((function(e,t){var n,i=null===(n=r.current)||void 0===n?void 0:n.findIndex((function(e){return e.id===t.id})),a=o()({},t);return-1===i?e.push(a):r.current[i]=a,e}),[]);r.current=[].concat(a()($),a()(r.current)).slice(0,d),null===(b=e.onCreate)||void 0===b||b.call(e,$)}(null==t?void 0:t.type)===l._W.DELETE&&n.includes("DELETE")&&(r.current=null===(f=r.current)||void 0===f?void 0:f.filter((function(e){return!(null!=h&&h.includes(e.id))})),function(e){i.current=new Set([].concat(a()(i.current),a()(e)))}(h),null===(v=e.setDataList)||void 0===v||v.call(e,a()(r.current),{deletedIds:a()(i.current)}));(null==t?void 0:t.type)===l._W.UPDATE&&n.includes("UPDATE")&&(null===(g=m)||void 0===g||g.forEach((function(t){var i,l=null===(i=r.current)||void 0===i?void 0:i.findIndex((function(e){return e.id===t.id})),c=o()({},t);if(l>-1)r.current[l]=c;else if(-1===l&&n.includes("INSERT")){var s;r.current=[c].concat(a()(r.current.slice(0,d-1))),null===(s=e.onCreate)||void 0===s||s.call(e,[c])}})));clearTimeout(s.current),s.current=setTimeout((function(){var t;null===(t=e.setDataList)||void 0===t||t.call(e,a()(r.current))}),200),null!=e&&e.callback&&(null==e||e.callback(r.current))},cacheDataListRef:r,deletedIdsRef:i}}},17488:function(e,t,n){var i,o=n(53649),r=n.n(o),a=n(92829),l=n(84825),c=(n(75271),n(67585)),s=n(52676),d=(0,c.ZP)(l.Z)(i||(i=r()(["\n  .ant-breadcrumb-link {\n    font-size: 16px;\n    font-weight: 500;\n    a {\n      background: unset;\n    }\n  }\n  .ant-breadcrumb-separator {\n    display: flex;\n    align-items: center;\n  }\n"])));t.Z=function(e){var t=e.items;return(0,s.jsx)(d,{separator:(0,s.jsx)(a.Z,{type:"icon-down2",rotate:-90}),items:t})}},32721:function(e,t,n){n.r(t),n.d(t,{default:function(){return ft}});var i=n(31759),o=n.n(i),r=n(90228),a=n.n(r),l=n(15558),c=n.n(l),s=n(335),d=n.n(s),u=n(87999),p=n.n(u),m=n(26068),f=n.n(m),v=n(82092),g=n.n(v),h=n(48305),b=n.n(h),$=n(53649),S=n.n($),x=n(32914),w=n(91315),C=n(17488),y=n(53231),k=n(26447),I=n(32699),j=n.n(I),z=n(75271),E=n(67585),T=n(94213),D=n(92047),M=n(21433),Z=n(89633),q=n(15409),O=n(82187),P=n.n(O),H=n(24965),N=n(82983),W=n(70840),B=n(97019),A=n(28114),F=["className","prefixCls","style","active","status","iconPrefix","icon","wrapperStyle","stepNumber","disabled","description","title","subTitle","progressDot","stepIcon","tailContent","icons","stepIndex","onStepClick","onClick","render"];function R(e){return"string"==typeof e}var X=function(e){var t,n=e.className,i=e.prefixCls,o=e.style,r=e.active,a=e.status,l=e.iconPrefix,c=e.icon,s=(e.wrapperStyle,e.stepNumber),d=e.disabled,u=e.description,p=e.title,m=e.subTitle,f=e.progressDot,v=e.stepIcon,g=e.tailContent,h=e.icons,b=e.stepIndex,$=e.onStepClick,S=e.onClick,x=e.render,w=(0,B.Z)(e,F),C={};!!$&&!d&&(C.role="button",C.tabIndex=0,C.onClick=function(e){null==S||S(e),$(b)},C.onKeyDown=function(e){var t=e.which;t!==A.Z.ENTER&&t!==A.Z.SPACE||$(b)});var y,k,I,j,E=a||"wait",T=P()("".concat(i,"-item"),"".concat(i,"-item-").concat(E),n,(t={},(0,W.Z)(t,"".concat(i,"-item-custom"),c),(0,W.Z)(t,"".concat(i,"-item-active"),r),(0,W.Z)(t,"".concat(i,"-item-disabled"),!0===d),t)),D=(0,N.Z)({},o),M=z.createElement("div",(0,H.Z)({},w,{className:T,style:D}),z.createElement("div",(0,H.Z)({onClick:S},C,{className:"".concat(i,"-item-container")}),z.createElement("div",{className:"".concat(i,"-item-tail")},g),z.createElement("div",{className:"".concat(i,"-item-icon")},(I=P()("".concat(i,"-icon"),"".concat(l,"icon"),(y={},(0,W.Z)(y,"".concat(l,"icon-").concat(c),c&&R(c)),(0,W.Z)(y,"".concat(l,"icon-check"),!c&&"finish"===a&&(h&&!h.finish||!h)),(0,W.Z)(y,"".concat(l,"icon-cross"),!c&&"error"===a&&(h&&!h.error||!h)),y)),j=z.createElement("span",{className:"".concat(i,"-icon-dot")}),k=f?"function"==typeof f?z.createElement("span",{className:"".concat(i,"-icon")},f(j,{index:s-1,status:a,title:p,description:u})):z.createElement("span",{className:"".concat(i,"-icon")},j):c&&!R(c)?z.createElement("span",{className:"".concat(i,"-icon")},c):h&&h.finish&&"finish"===a?z.createElement("span",{className:"".concat(i,"-icon")},h.finish):h&&h.error&&"error"===a?z.createElement("span",{className:"".concat(i,"-icon")},h.error):c||"finish"===a||"error"===a?z.createElement("span",{className:I}):z.createElement("span",{className:"".concat(i,"-icon")},s),v&&(k=v({index:s-1,status:a,title:p,description:u,node:k})),k)),z.createElement("div",{className:"".concat(i,"-item-content")},z.createElement("div",{className:"".concat(i,"-item-title")},p,m&&z.createElement("div",{title:"string"==typeof m?m:void 0,className:"".concat(i,"-item-subtitle")},m)),u&&z.createElement("div",{className:"".concat(i,"-item-description")},u))));return x&&(M=x(M)||null),M},L=["prefixCls","style","className","children","direction","type","labelPlacement","iconPrefix","status","size","current","progressDot","stepIcon","initial","icons","onChange","itemRender","items"];function _(e){var t,n=e.prefixCls,i=void 0===n?"rc-steps":n,o=e.style,r=void 0===o?{}:o,a=e.className,l=(e.children,e.direction),c=void 0===l?"horizontal":l,s=e.type,d=void 0===s?"default":s,u=e.labelPlacement,p=void 0===u?"horizontal":u,m=e.iconPrefix,f=void 0===m?"rc":m,v=e.status,g=void 0===v?"process":v,h=e.size,b=e.current,$=void 0===b?0:b,S=e.progressDot,x=void 0!==S&&S,w=e.stepIcon,C=e.initial,y=void 0===C?0:C,k=e.icons,I=e.onChange,j=e.itemRender,E=e.items,T=void 0===E?[]:E,D=(0,B.Z)(e,L),M="navigation"===d,Z="inline"===d,q=Z||x,O=Z?"horizontal":c,A=Z?void 0:h,F=q?"vertical":p,R=P()(i,"".concat(i,"-").concat(O),a,(t={},(0,W.Z)(t,"".concat(i,"-").concat(A),A),(0,W.Z)(t,"".concat(i,"-label-").concat(F),"horizontal"===O),(0,W.Z)(t,"".concat(i,"-dot"),!!q),(0,W.Z)(t,"".concat(i,"-navigation"),M),(0,W.Z)(t,"".concat(i,"-inline"),Z),t)),_=function(e){I&&$!==e&&I(e)};return z.createElement("div",(0,H.Z)({className:R,style:r},D),T.filter((function(e){return e})).map((function(e,t){var n=(0,N.Z)({},e),o=y+t;return"error"===g&&t===$-1&&(n.className="".concat(i,"-next-error")),n.status||(n.status=o===$?g:o<$?"finish":"wait"),Z&&(n.icon=void 0,n.subTitle=void 0),!n.render&&j&&(n.render=function(e){return j(n,e)}),z.createElement(X,(0,H.Z)({},n,{active:o===$,stepNumber:o+1,stepIndex:o,key:o,prefixCls:i,iconPrefix:f,wrapperStyle:r,progressDot:q,stepIcon:w,icons:k,onStepClick:I&&_}))})))}_.Step=X;var G=_,K=n(54198),V=n(10664),U=n(70354),Y=n(2325),Q=n(25408),J=n(54359),ee=n(72850),te=n(45577),ne=n(84458);var ie=e=>{const{componentCls:t,customIconTop:n,customIconSize:i,customIconFontSize:o}=e;return{[`${t}-item-custom`]:{[`> ${t}-item-container > ${t}-item-icon`]:{height:"auto",background:"none",border:0,[`> ${t}-icon`]:{top:n,width:i,height:i,fontSize:o,lineHeight:(0,J.bf)(i)}}},[`&:not(${t}-vertical)`]:{[`${t}-item-custom`]:{[`${t}-item-icon`]:{width:"auto",background:"none"}}}}};var oe=e=>{const{componentCls:t}=e;return{[`${t}-horizontal`]:{[`${`${t}-item`}-tail`]:{transform:"translateY(-50%)"}}}};var re=e=>{const{componentCls:t,inlineDotSize:n,inlineTitleColor:i,inlineTailColor:o}=e,r=e.calc(e.paddingXS).add(e.lineWidth).equal(),a={[`${t}-item-container ${t}-item-content ${t}-item-title`]:{color:i}};return{[`&${t}-inline`]:{width:"auto",display:"inline-flex",[`${t}-item`]:{flex:"none","&-container":{padding:`${(0,J.bf)(r)} ${(0,J.bf)(e.paddingXXS)} 0`,margin:`0 ${(0,J.bf)(e.calc(e.marginXXS).div(2).equal())}`,borderRadius:e.borderRadiusSM,cursor:"pointer",transition:`background-color ${e.motionDurationMid}`,"&:hover":{background:e.controlItemBgHover},"&[role='button']:hover":{opacity:1}},"&-icon":{width:n,height:n,marginInlineStart:`calc(50% - ${(0,J.bf)(e.calc(n).div(2).equal())})`,[`> ${t}-icon`]:{top:0},[`${t}-icon-dot`]:{borderRadius:e.calc(e.fontSizeSM).div(4).equal(),"&::after":{display:"none"}}},"&-content":{width:"auto",marginTop:e.calc(e.marginXS).sub(e.lineWidth).equal()},"&-title":{color:i,fontSize:e.fontSizeSM,lineHeight:e.lineHeightSM,fontWeight:"normal",marginBottom:e.calc(e.marginXXS).div(2).equal()},"&-description":{display:"none"},"&-tail":{marginInlineStart:0,top:e.calc(n).div(2).add(r).equal(),transform:"translateY(-50%)","&:after":{width:"100%",height:e.lineWidth,borderRadius:0,marginInlineStart:0,background:o}},[`&:first-child ${t}-item-tail`]:{width:"50%",marginInlineStart:"50%"},[`&:last-child ${t}-item-tail`]:{display:"block",width:"50%"},"&-wait":Object.assign({[`${t}-item-icon ${t}-icon ${t}-icon-dot`]:{backgroundColor:e.colorBorderBg,border:`${(0,J.bf)(e.lineWidth)} ${e.lineType} ${o}`}},a),"&-finish":Object.assign({[`${t}-item-tail::after`]:{backgroundColor:o},[`${t}-item-icon ${t}-icon ${t}-icon-dot`]:{backgroundColor:o,border:`${(0,J.bf)(e.lineWidth)} ${e.lineType} ${o}`}},a),"&-error":a,"&-active, &-process":Object.assign({[`${t}-item-icon`]:{width:n,height:n,marginInlineStart:`calc(50% - ${(0,J.bf)(e.calc(n).div(2).equal())})`,top:0}},a),[`&:not(${t}-item-active) > ${t}-item-container[role='button']:hover`]:{[`${t}-item-title`]:{color:i}}}}}};var ae=e=>{const{componentCls:t,iconSize:n,lineHeight:i,iconSizeSM:o}=e;return{[`&${t}-label-vertical`]:{[`${t}-item`]:{overflow:"visible","&-tail":{marginInlineStart:e.calc(n).div(2).add(e.controlHeightLG).equal(),padding:`0 ${(0,J.bf)(e.paddingLG)}`},"&-content":{display:"block",width:e.calc(n).div(2).add(e.controlHeightLG).mul(2).equal(),marginTop:e.marginSM,textAlign:"center"},"&-icon":{display:"inline-block",marginInlineStart:e.controlHeightLG},"&-title":{paddingInlineEnd:0,paddingInlineStart:0,"&::after":{display:"none"}},"&-subtitle":{display:"block",marginBottom:e.marginXXS,marginInlineStart:0,lineHeight:i}},[`&${t}-small:not(${t}-dot)`]:{[`${t}-item`]:{"&-icon":{marginInlineStart:e.calc(n).sub(o).div(2).add(e.controlHeightLG).equal()}}}}}};var le=e=>{const{componentCls:t,navContentMaxWidth:n,navArrowColor:i,stepsNavActiveColor:o,motionDurationSlow:r}=e;return{[`&${t}-navigation`]:{paddingTop:e.paddingSM,[`&${t}-small`]:{[`${t}-item`]:{"&-container":{marginInlineStart:e.calc(e.marginSM).mul(-1).equal()}}},[`${t}-item`]:{overflow:"visible",textAlign:"center","&-container":{display:"inline-block",height:"100%",marginInlineStart:e.calc(e.margin).mul(-1).equal(),paddingBottom:e.paddingSM,textAlign:"start",transition:`opacity ${r}`,[`${t}-item-content`]:{maxWidth:n},[`${t}-item-title`]:Object.assign(Object.assign({maxWidth:"100%",paddingInlineEnd:0},ee.vS),{"&::after":{display:"none"}})},[`&:not(${t}-item-active)`]:{[`${t}-item-container[role='button']`]:{cursor:"pointer","&:hover":{opacity:.85}}},"&:last-child":{flex:1,"&::after":{display:"none"}},"&::after":{position:"absolute",top:`calc(50% - ${(0,J.bf)(e.calc(e.paddingSM).div(2).equal())})`,insetInlineStart:"100%",display:"inline-block",width:e.fontSizeIcon,height:e.fontSizeIcon,borderTop:`${(0,J.bf)(e.lineWidth)} ${e.lineType} ${i}`,borderBottom:"none",borderInlineStart:"none",borderInlineEnd:`${(0,J.bf)(e.lineWidth)} ${e.lineType} ${i}`,transform:"translateY(-50%) translateX(-50%) rotate(45deg)",content:'""'},"&::before":{position:"absolute",bottom:0,insetInlineStart:"50%",display:"inline-block",width:0,height:e.lineWidthBold,backgroundColor:o,transition:`width ${r}, inset-inline-start ${r}`,transitionTimingFunction:"ease-out",content:'""'}},[`${t}-item${t}-item-active::before`]:{insetInlineStart:0,width:"100%"}},[`&${t}-navigation${t}-vertical`]:{[`> ${t}-item`]:{marginInlineEnd:0,"&::before":{display:"none"},[`&${t}-item-active::before`]:{top:0,insetInlineEnd:0,insetInlineStart:"unset",display:"block",width:e.calc(e.lineWidth).mul(3).equal(),height:`calc(100% - ${(0,J.bf)(e.marginLG)})`},"&::after":{position:"relative",insetInlineStart:"50%",display:"block",width:e.calc(e.controlHeight).mul(.25).equal(),height:e.calc(e.controlHeight).mul(.25).equal(),marginBottom:e.marginXS,textAlign:"center",transform:"translateY(-50%) translateX(-50%) rotate(135deg)"},"&:last-child":{"&::after":{display:"none"}},[`> ${t}-item-container > ${t}-item-tail`]:{visibility:"hidden"}}},[`&${t}-navigation${t}-horizontal`]:{[`> ${t}-item > ${t}-item-container > ${t}-item-tail`]:{visibility:"hidden"}}}};var ce=e=>{const{antCls:t,componentCls:n,iconSize:i,iconSizeSM:o,processIconColor:r,marginXXS:a,lineWidthBold:l,lineWidth:c,paddingXXS:s}=e,d=e.calc(i).add(e.calc(l).mul(4).equal()).equal(),u=e.calc(o).add(e.calc(e.lineWidth).mul(4).equal()).equal();return{[`&${n}-with-progress`]:{[`${n}-item`]:{paddingTop:s,[`&-process ${n}-item-container ${n}-item-icon ${n}-icon`]:{color:r}},[`&${n}-vertical > ${n}-item `]:{paddingInlineStart:s,[`> ${n}-item-container > ${n}-item-tail`]:{top:a,insetInlineStart:e.calc(i).div(2).sub(c).add(s).equal()}},[`&, &${n}-small`]:{[`&${n}-horizontal ${n}-item:first-child`]:{paddingBottom:s,paddingInlineStart:s}},[`&${n}-small${n}-vertical > ${n}-item > ${n}-item-container > ${n}-item-tail`]:{insetInlineStart:e.calc(o).div(2).sub(c).add(s).equal()},[`&${n}-label-vertical ${n}-item ${n}-item-tail`]:{top:e.calc(i).div(2).add(s).equal()},[`${n}-item-icon`]:{position:"relative",[`${t}-progress`]:{position:"absolute",insetInlineStart:"50%",top:"50%",transform:"translate(-50%, -50%)","&-inner":{width:`${(0,J.bf)(d)} !important`,height:`${(0,J.bf)(d)} !important`}}},[`&${n}-small`]:{[`&${n}-label-vertical ${n}-item ${n}-item-tail`]:{top:e.calc(o).div(2).add(s).equal()},[`${n}-item-icon ${t}-progress-inner`]:{width:`${(0,J.bf)(u)} !important`,height:`${(0,J.bf)(u)} !important`}}}}};var se=e=>{const{componentCls:t,descriptionMaxWidth:n,lineHeight:i,dotCurrentSize:o,dotSize:r,motionDurationSlow:a}=e;return{[`&${t}-dot, &${t}-dot${t}-small`]:{[`${t}-item`]:{"&-title":{lineHeight:i},"&-tail":{top:e.calc(e.dotSize).sub(e.calc(e.lineWidth).mul(3).equal()).div(2).equal(),width:"100%",marginTop:0,marginBottom:0,marginInline:`${(0,J.bf)(e.calc(n).div(2).equal())} 0`,padding:0,"&::after":{width:`calc(100% - ${(0,J.bf)(e.calc(e.marginSM).mul(2).equal())})`,height:e.calc(e.lineWidth).mul(3).equal(),marginInlineStart:e.marginSM}},"&-icon":{width:r,height:r,marginInlineStart:e.calc(e.descriptionMaxWidth).sub(r).div(2).equal(),paddingInlineEnd:0,lineHeight:(0,J.bf)(r),background:"transparent",border:0,[`${t}-icon-dot`]:{position:"relative",float:"left",width:"100%",height:"100%",borderRadius:100,transition:`all ${a}`,"&::after":{position:"absolute",top:e.calc(e.marginSM).mul(-1).equal(),insetInlineStart:e.calc(r).sub(e.calc(e.controlHeightLG).mul(1.5).equal()).div(2).equal(),width:e.calc(e.controlHeightLG).mul(1.5).equal(),height:e.controlHeight,background:"transparent",content:'""'}}},"&-content":{width:n},[`&-process ${t}-item-icon`]:{position:"relative",top:e.calc(r).sub(o).div(2).equal(),width:o,height:o,lineHeight:(0,J.bf)(o),background:"none",marginInlineStart:e.calc(e.descriptionMaxWidth).sub(o).div(2).equal()},[`&-process ${t}-icon`]:{[`&:first-child ${t}-icon-dot`]:{insetInlineStart:0}}}},[`&${t}-vertical${t}-dot`]:{[`${t}-item-icon`]:{marginTop:e.calc(e.controlHeight).sub(r).div(2).equal(),marginInlineStart:0,background:"none"},[`${t}-item-process ${t}-item-icon`]:{marginTop:e.calc(e.controlHeight).sub(o).div(2).equal(),top:0,insetInlineStart:e.calc(r).sub(o).div(2).equal(),marginInlineStart:0},[`${t}-item > ${t}-item-container > ${t}-item-tail`]:{top:e.calc(e.controlHeight).sub(r).div(2).equal(),insetInlineStart:0,margin:0,padding:`${(0,J.bf)(e.calc(r).add(e.paddingXS).equal())} 0 ${(0,J.bf)(e.paddingXS)}`,"&::after":{marginInlineStart:e.calc(r).sub(e.lineWidth).div(2).equal()}},[`&${t}-small`]:{[`${t}-item-icon`]:{marginTop:e.calc(e.controlHeightSM).sub(r).div(2).equal()},[`${t}-item-process ${t}-item-icon`]:{marginTop:e.calc(e.controlHeightSM).sub(o).div(2).equal()},[`${t}-item > ${t}-item-container > ${t}-item-tail`]:{top:e.calc(e.controlHeightSM).sub(r).div(2).equal()}},[`${t}-item:first-child ${t}-icon-dot`]:{insetInlineStart:0},[`${t}-item-content`]:{width:"inherit"}}}};var de=e=>{const{componentCls:t}=e;return{[`&${t}-rtl`]:{direction:"rtl",[`${t}-item`]:{"&-subtitle":{float:"left"}},[`&${t}-navigation`]:{[`${t}-item::after`]:{transform:"rotate(-45deg)"}},[`&${t}-vertical`]:{[`> ${t}-item`]:{"&::after":{transform:"rotate(225deg)"},[`${t}-item-icon`]:{float:"right"}}},[`&${t}-dot`]:{[`${t}-item-icon ${t}-icon-dot, &${t}-small ${t}-item-icon ${t}-icon-dot`]:{float:"right"}}}}};var ue=e=>{const{componentCls:t,iconSizeSM:n,fontSizeSM:i,fontSize:o,colorTextDescription:r}=e;return{[`&${t}-small`]:{[`&${t}-horizontal:not(${t}-label-vertical) ${t}-item`]:{paddingInlineStart:e.paddingSM,"&:first-child":{paddingInlineStart:0}},[`${t}-item-icon`]:{width:n,height:n,marginTop:0,marginBottom:0,marginInline:`0 ${(0,J.bf)(e.marginXS)}`,fontSize:i,lineHeight:(0,J.bf)(n),textAlign:"center",borderRadius:n},[`${t}-item-title`]:{paddingInlineEnd:e.paddingSM,fontSize:o,lineHeight:(0,J.bf)(n),"&::after":{top:e.calc(n).div(2).equal()}},[`${t}-item-description`]:{color:r,fontSize:o},[`${t}-item-tail`]:{top:e.calc(n).div(2).sub(e.paddingXXS).equal()},[`${t}-item-custom ${t}-item-icon`]:{width:"inherit",height:"inherit",lineHeight:"inherit",background:"none",border:0,borderRadius:0,[`> ${t}-icon`]:{fontSize:n,lineHeight:(0,J.bf)(n),transform:"none"}}}}};var pe=e=>{const{componentCls:t,iconSizeSM:n,iconSize:i}=e;return{[`&${t}-vertical`]:{display:"flex",flexDirection:"column",[`> ${t}-item`]:{display:"block",flex:"1 0 auto",paddingInlineStart:0,overflow:"visible",[`${t}-item-icon`]:{float:"left",marginInlineEnd:e.margin},[`${t}-item-content`]:{display:"block",minHeight:e.calc(e.controlHeight).mul(1.5).equal(),overflow:"hidden"},[`${t}-item-title`]:{lineHeight:(0,J.bf)(i)},[`${t}-item-description`]:{paddingBottom:e.paddingSM}},[`> ${t}-item > ${t}-item-container > ${t}-item-tail`]:{position:"absolute",top:0,insetInlineStart:e.calc(i).div(2).sub(e.lineWidth).equal(),width:e.lineWidth,height:"100%",padding:`${(0,J.bf)(e.calc(e.marginXXS).mul(1.5).add(i).equal())} 0 ${(0,J.bf)(e.calc(e.marginXXS).mul(1.5).equal())}`,"&::after":{width:e.lineWidth,height:"100%"}},[`> ${t}-item:not(:last-child) > ${t}-item-container > ${t}-item-tail`]:{display:"block"},[` > ${t}-item > ${t}-item-container > ${t}-item-content > ${t}-item-title`]:{"&::after":{display:"none"}},[`&${t}-small ${t}-item-container`]:{[`${t}-item-tail`]:{position:"absolute",top:0,insetInlineStart:e.calc(n).div(2).sub(e.lineWidth).equal(),padding:`${(0,J.bf)(e.calc(e.marginXXS).mul(1.5).add(n).equal())} 0 ${(0,J.bf)(e.calc(e.marginXXS).mul(1.5).equal())}`},[`${t}-item-title`]:{lineHeight:(0,J.bf)(n)}}}}};const me=(e,t)=>{const n=`${t.componentCls}-item`,i=`${e}IconColor`,o=`${e}TitleColor`,r=`${e}DescriptionColor`,a=`${e}TailColor`,l=`${e}IconBorderColor`,c=`${e}DotColor`;return{[`${n}-${e} ${n}-icon`]:{backgroundColor:t[`${e}IconBgColor`],borderColor:t[l],[`> ${t.componentCls}-icon`]:{color:t[i],[`${t.componentCls}-icon-dot`]:{background:t[c]}}},[`${n}-${e}${n}-custom ${n}-icon`]:{[`> ${t.componentCls}-icon`]:{color:t[c]}},[`${n}-${e} > ${n}-container > ${n}-content > ${n}-title`]:{color:t[o],"&::after":{backgroundColor:t[a]}},[`${n}-${e} > ${n}-container > ${n}-content > ${n}-description`]:{color:t[r]},[`${n}-${e} > ${n}-container > ${n}-tail::after`]:{backgroundColor:t[a]}}},fe=e=>{const{componentCls:t,motionDurationSlow:n}=e,i=`${t}-item`,o=`${i}-icon`;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[i]:{position:"relative",display:"inline-block",flex:1,overflow:"hidden",verticalAlign:"top","&:last-child":{flex:"none",[`> ${i}-container > ${i}-tail, > ${i}-container >  ${i}-content > ${i}-title::after`]:{display:"none"}}},[`${i}-container`]:{outline:"none","&:focus-visible":{[o]:Object.assign({},(0,ee.oN)(e))}},[`${o}, ${i}-content`]:{display:"inline-block",verticalAlign:"top"},[o]:{width:e.iconSize,height:e.iconSize,marginTop:0,marginBottom:0,marginInlineStart:0,marginInlineEnd:e.marginXS,fontSize:e.iconFontSize,fontFamily:e.fontFamily,lineHeight:(0,J.bf)(e.iconSize),textAlign:"center",borderRadius:e.iconSize,border:`${(0,J.bf)(e.lineWidth)} ${e.lineType} transparent`,transition:`background-color ${n}, border-color ${n}`,[`${t}-icon`]:{position:"relative",top:e.iconTop,color:e.colorPrimary,lineHeight:1}},[`${i}-tail`]:{position:"absolute",top:e.calc(e.iconSize).div(2).equal(),insetInlineStart:0,width:"100%","&::after":{display:"inline-block",width:"100%",height:e.lineWidth,background:e.colorSplit,borderRadius:e.lineWidth,transition:`background ${n}`,content:'""'}},[`${i}-title`]:{position:"relative",display:"inline-block",paddingInlineEnd:e.padding,color:e.colorText,fontSize:e.fontSizeLG,lineHeight:(0,J.bf)(e.titleLineHeight),"&::after":{position:"absolute",top:e.calc(e.titleLineHeight).div(2).equal(),insetInlineStart:"100%",display:"block",width:9999,height:e.lineWidth,background:e.processTailColor,content:'""'}},[`${i}-subtitle`]:{display:"inline",marginInlineStart:e.marginXS,color:e.colorTextDescription,fontWeight:"normal",fontSize:e.fontSize},[`${i}-description`]:{color:e.colorTextDescription,fontSize:e.fontSize}},me("wait",e)),me("process",e)),{[`${i}-process > ${i}-container > ${i}-title`]:{fontWeight:e.fontWeightStrong}}),me("finish",e)),me("error",e)),{[`${i}${t}-next-error > ${t}-item-title::after`]:{background:e.colorError},[`${i}-disabled`]:{cursor:"not-allowed"}})},ve=e=>{const{componentCls:t,motionDurationSlow:n}=e;return{[`& ${t}-item`]:{[`&:not(${t}-item-active)`]:{[`& > ${t}-item-container[role='button']`]:{cursor:"pointer",[`${t}-item`]:{[`&-title, &-subtitle, &-description, &-icon ${t}-icon`]:{transition:`color ${n}`}},"&:hover":{[`${t}-item`]:{"&-title, &-subtitle, &-description":{color:e.colorPrimary}}}},[`&:not(${t}-item-process)`]:{[`& > ${t}-item-container[role='button']:hover`]:{[`${t}-item`]:{"&-icon":{borderColor:e.colorPrimary,[`${t}-icon`]:{color:e.colorPrimary}}}}}}},[`&${t}-horizontal:not(${t}-label-vertical)`]:{[`${t}-item`]:{paddingInlineStart:e.padding,whiteSpace:"nowrap","&:first-child":{paddingInlineStart:0},[`&:last-child ${t}-item-title`]:{paddingInlineEnd:0},"&-tail":{display:"none"},"&-description":{maxWidth:e.descriptionMaxWidth,whiteSpace:"normal"}}}}},ge=e=>{const{componentCls:t}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,ee.Wf)(e)),{display:"flex",width:"100%",fontSize:0,textAlign:"initial"}),fe(e)),ve(e)),ie(e)),ue(e)),pe(e)),oe(e)),ae(e)),se(e)),le(e)),de(e)),ce(e)),re(e))}};var he=(0,te.I$)("Steps",(e=>{const{colorTextDisabled:t,controlHeightLG:n,colorTextLightSolid:i,colorText:o,colorPrimary:r,colorTextDescription:a,colorTextQuaternary:l,colorError:c,colorBorderSecondary:s,colorSplit:d}=e,u=(0,ne.IX)(e,{processIconColor:i,processTitleColor:o,processDescriptionColor:o,processIconBgColor:r,processIconBorderColor:r,processDotColor:r,processTailColor:d,waitTitleColor:a,waitDescriptionColor:a,waitTailColor:d,waitDotColor:t,finishIconColor:r,finishTitleColor:o,finishDescriptionColor:a,finishTailColor:r,finishDotColor:r,errorIconColor:i,errorTitleColor:c,errorDescriptionColor:c,errorTailColor:d,errorIconBgColor:c,errorIconBorderColor:c,errorDotColor:c,stepsNavActiveColor:r,stepsProgressSize:n,inlineDotSize:6,inlineTitleColor:l,inlineTailColor:s});return[ge(u)]}),(e=>({titleLineHeight:e.controlHeight,customIconSize:e.controlHeight,customIconTop:0,customIconFontSize:e.controlHeightSM,iconSize:e.controlHeight,iconTop:-.5,iconFontSize:e.fontSize,iconSizeSM:e.fontSizeHeading3,dotSize:e.controlHeight/4,dotCurrentSize:e.controlHeightLG/4,navArrowColor:e.colorTextDisabled,navContentMaxWidth:"unset",descriptionMaxWidth:140,waitIconColor:e.wireframe?e.colorTextDisabled:e.colorTextLabel,waitIconBgColor:e.wireframe?e.colorBgContainer:e.colorFillContent,waitIconBorderColor:e.wireframe?e.colorTextDisabled:"transparent",finishIconBgColor:e.wireframe?e.colorBgContainer:e.controlItemBgActive,finishIconBorderColor:e.wireframe?e.colorPrimary:e.controlItemBgActive}))),be=n(27727);var $e=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n};const Se=e=>{const{percent:t,size:n,className:i,rootClassName:o,direction:r,items:a,responsive:l=!0,current:c=0,children:s,style:d}=e,u=$e(e,["percent","size","className","rootClassName","direction","items","responsive","current","children","style"]),{xs:p}=(0,U.Z)(l),{getPrefixCls:m,direction:f,className:v,style:g}=(0,K.dj)("steps"),h=z.useMemo((()=>l&&p?"vertical":r),[p,r]),b=(0,V.Z)(n),$=m("steps",e.prefixCls),[S,x,w]=he($),C="inline"===e.type,y=m("",e.iconPrefix),k=function(e,t){return e||function(e){return e.filter((e=>e))}((0,be.Z)(t).map((e=>{if(z.isValidElement(e)){const{props:t}=e;return Object.assign({},t)}return null})))}(a,s),I=C?void 0:t,j=Object.assign(Object.assign({},g),d),E=P()(v,{[`${$}-rtl`]:"rtl"===f,[`${$}-with-progress`]:void 0!==I},i,o,x,w),T={finish:z.createElement(Z.Z,{className:`${$}-finish-icon`}),error:z.createElement(q.Z,{className:`${$}-error-icon`})};return S(z.createElement(G,Object.assign({icons:T},u,{style:j,current:c,size:b,items:k,itemRender:C?(e,t)=>e.description?z.createElement(Q.Z,{title:e.description},t):t:void 0,stepIcon:({node:e,status:t})=>{if("process"===t&&void 0!==I){const t="small"===b?32:40;return z.createElement("div",{className:`${$}-progress-icon`},z.createElement(Y.Z,{type:"circle",percent:I,size:t,strokeWidth:4,format:()=>null}),e)}return e},direction:h,prefixCls:$,iconPrefix:y,className:E})))};Se.Step=G.Step;var xe,we,Ce=Se,ye=n(52676),ke=Ce.Step,Ie=E.ZP.div(xe||(xe=S()(["\n  width: min(1200px, 100%);\n  margin: 0 auto;\n  padding-block: 30px;\n  background-color: var(--ant-color-bg-container);\n  .ant-steps-item-description {\n    max-width: 300px !important;\n    color: var(--ant-color-text-description) !important;\n  }\n"]))),je=function(e){var t=e.steps,n=e.currentStep,i=e.onChange;return(0,ye.jsx)(Ie,{children:(0,ye.jsx)(Ce,{current:n,size:"small",onChange:i,progressDot:!0,children:t.map((function(e){return(0,ye.jsx)(ke,{title:e.title,description:e.content},e.title)}))})})},ze=n(30627),Ee=n(3923),Te=n(79635),De=E.ZP.span(we||(we=S()(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  font-weight: 700;\n  font-size: 16px;\n  padding-inline: 24px;\n  .text {\n    font-size: 20px;\n  }\n"]))),Me=function(e){var t=e.onPrevious,n=e.onNext,i=e.handleCancel,o=e.handleSubmit,r=e.showButtons,a=e.loading,l=(0,y.useIntl)();return(0,ye.jsx)(De,{style:{height:64},children:(0,ye.jsxs)("div",{className:"flex-center gap-16",children:[r.previous&&(0,ye.jsx)(Te.ZP,{type:"link",icon:(0,ye.jsx)(ze.Z,{}),onClick:t,children:l.formatMessage({id:"common.button.prev"})}),r.next&&(0,ye.jsxs)(Te.ZP,{type:"link",onClick:function(){n()},children:[l.formatMessage({id:"common.button.next"}),(0,ye.jsx)(Ee.Z,{})]}),r.skip&&(0,ye.jsx)(Te.ZP,{type:"primary",onClick:i,children:l.formatMessage({id:"common.button.done"})}),r.save&&(0,ye.jsx)(Te.ZP,{type:"primary",onClick:o,style:{minWidth:88},loading:a,children:l.formatMessage({id:"common.button.save"})})]})})},Ze=n(66374),qe=n(73940),Oe=n(10939),Pe=[{label:"Docker",locale:!1,value:qe.dC.Docker,key:qe.dC.Docker,icon:z.cloneElement(Oe.Z.DockerOutlined,{style:{color:"var(--ant-blue-6)"}}),group:"clusters.create.provider.self"},{label:"Kubernetes",locale:!1,value:qe.dC.Kubernetes,key:qe.dC.Kubernetes,icon:z.cloneElement(Oe.Z.KubernetesFilled,{style:{color:"var(--ant-blue-6)"}}),group:"clusters.create.provider.self"},{label:"DigitalOcean",locale:!1,value:qe.dC.DigitalOcean,key:qe.dC.DigitalOcean,icon:z.cloneElement(Oe.Z.DigitalOcean,{style:{color:"var(--ant-blue-6)"}}),group:"clusters.create.provider.cloud"},{label:"AWS",locale:!1,disabled:!0,value:qe.dC.AWS,key:qe.dC.AWS,icon:Oe.Z.AWS,description:"cluster.provider.comingsoon",group:"clusters.create.provider.cloud"},{label:"Alibaba Cloud",locale:!1,disabled:!0,value:qe.dC.AliCloud,key:qe.dC.AliCloud,icon:Oe.Z.AliCloud,description:"cluster.provider.comingsoon",group:"clusters.create.provider.cloud"}],He=n(66263);var Ne,We,Be,Ae,Fe,Re,Xe=n(51349),Le=n(3108),_e=n(31246),Ge=E.ZP.span(Ne||(Ne=S()(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-weight: 700;\n  font-size: 16px;\n  .text {\n    font-size: 20px;\n  }\n"]))),Ke=(0,z.forwardRef)((function(e,t){var n=(0,y.useIntl)(),i=e.provider,o=e.credentialList,r=e.action,a=e.currentData,l=(0,z.useRef)(null);return(0,z.useImperativeHandle)(t,(function(){var e,t,n;return{validateFields:null===(e=l.current)||void 0===e?void 0:e.validateFields,getFieldsValue:null===(t=l.current)||void 0===t?void 0:t.getFieldsValue,submit:null===(n=l.current)||void 0===n?void 0:n.submit}})),(0,ye.jsxs)("div",{children:[(0,ye.jsx)(Le.Z,{marginBottom:16,left:(0,ye.jsx)(Ge,{children:n.formatMessage({id:"clusters.create.configBasic"})}),marginTop:0}),(0,ye.jsx)(_e.Z,{provider:i,action:r,ref:l,credentialList:o,onFinish:function(e){},currentData:a})]})})),Ve=n(67825),Ue=n.n(Ve),Ye=n(53795),Qe=n.n(Ye),Je=n(17114),et=n(29032),tt=E.ZP.div(We||(We=S()(["\n  display: flex;\n  align-items: flex-start;\n  gap: 16px;\n"]))),nt=E.ZP.div(Be||(Be=S()(["\n  flex: 1;\n  margin-bottom: 16px;\n"]))),it=E.ZP.span(Ae||(Ae=S()(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-weight: 700;\n  font-size: 16px;\n  .text {\n    font-size: 20px;\n  }\n"]))),ot=(0,z.forwardRef)((function(e,t){var n=(0,y.useIntl)(),i=e.provider,o=e.action,r=e.currentData,l=(0,z.useRef)(0),c=(0,z.useRef)({}),s=(0,z.useState)(new Set([0])),d=b()(s,2),u=d[0],m=d[1],f=(0,z.useState)(new Map([[0,{name:"Pool-1"}]])),v=b()(f,2),g=v[0],h=v[1],$=function(e){},S=function(e){return e.map((function(e){return"fulfilled"===e.status?e.value:"rejected"===e.status&&(null===(t=e.reason)||void 0===t?void 0:t.values)||{};var t})).filter((function(e){return e}))},x=function(){var e=p()(a()().mark((function e(){var t,n,i;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(Object.values(c.current)).map((function(e){return null==e?void 0:e.validateFields()})),e.next=3,Promise.allSettled(t);case 3:if(n=e.sent,-1===(i=n.findIndex((function(e){return"rejected"===e.status})))){e.next=8;break}return m((function(){return new Set([i])})),e.abrupt("return",Promise.reject({values:{worker_pools:S(n)}}));case 8:return e.abrupt("return",Promise.resolve({worker_pools:S(n)}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){return{worker_pools:Object.values(c.current).map((function(e){return null==e?void 0:e.getFieldsValue()}))}};return(0,z.useImperativeHandle)(t,(function(){return{submit:function(){},validateFields:x,getFieldsValue:w}})),(0,z.useEffect)((function(){var e;r&&(e=(r.worker_pools||[]).map((function(e,t){return[t,e]})),h(new Map(e)))}),[r]),(0,ye.jsxs)("div",{children:[(0,ye.jsx)(Le.Z,{marginBottom:22,marginTop:0,left:(0,ye.jsx)("span",{className:"flex-center gap-16",children:(0,ye.jsx)(it,{children:n.formatMessage({id:"clusters.workerpool.title"})})}),right:(0,ye.jsx)(Te.ZP,{onClick:function(){var e=(l.current+=1,l.current);h((function(t){return new Map(t).set(e,{name:"Pool-".concat(e+1)})})),requestAnimationFrame((function(){m((function(t){return new Set([e])})),window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})}))},variant:"filled",color:"default",icon:(0,ye.jsx)(Je.Z,{}),children:n.formatMessage({id:"clusters.button.addNodePool"})})}),Array.from(g.keys()).map((function(e,t){return(0,ye.jsx)(tt,{children:(0,ye.jsx)(nt,{children:(0,ye.jsx)(et.Z,{name:"workerPoolForm_".concat(e),action:o,ref:function(t){t&&(c.current[e]=t)},collapseProps:{collapsible:!0,open:u.has(e),defaultOpen:u.has(e),onToggle:function(t){return function(e,t){m(e?function(e){return new Set([t])}:function(e){var n=new Set(e);return n.delete(t),n})}(t,e)}},showDelete:g.size>1,onFinish:$,provider:i,currentData:g.get(e),onDelete:function(){return function(e){if(1!==g.size){h((function(t){var n=new Map(t);return n.delete(e),n}));var t=c.current,n=(t[e],Ue()(t,[e].map(Qe())));c.current=n}}(e)}})})},e)}))]})})),rt=ot,at="BasicForm",lt="WorkerPoolForm",ct="ProviderCatalog",st="AddWorkerStep",dt=g()(g()(g()(g()({},at,Ke),lt,rt),ct,Ze.Z),st,Xe.Z),ut=n(25383);var pt=E.ZP.div(Fe||(Fe=S()(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),mt=E.ZP.div(Re||(Re=S()(["\n  width: 600px;\n"]))),ft=function(){var e=(0,y.useIntl)(),t=function(){var e=(0,y.useIntl)(),t=(0,y.useNavigate)(),n=(0,ut.Z)((function(){t(-1)}));return(0,z.useMemo)((function(){return[{title:e.formatMessage({id:"clusters.create.selectProvider"}),content:"",showButtons:function(e){return{previous:!1,next:!0,save:!1,skip:!1}},defaultShow:!0,showForms:[],showModules:[ct],providers:[]},{title:e.formatMessage({id:"clusters.create.configBasic"}),content:"",showButtons:function(e){return{previous:!0,next:e===qe.dC.DigitalOcean,save:e!==qe.dC.DigitalOcean,skip:!1}},defaultShow:!0,showForms:[at],showModules:[],providers:[]},{title:e.formatMessage({id:"clusters.button.addNodePool"}),content:"",showButtons:function(e){return{previous:!0,next:!1,save:!0,skip:!1}},defaultShow:!1,showForms:[lt],showModules:[],providers:[qe.dC.DigitalOcean],beforeNext:n},{title:e.formatMessage({id:"resources.button.create"}),content:"",showButtons:function(e){return{previous:!1,next:!1,save:!1,skip:!0}},defaultShow:!1,showForms:[],showModules:[st],providers:[qe.dC.Docker]},{title:e.formatMessage({id:"clusters.button.register"}),content:"",showButtons:function(e){return{previous:!1,next:!1,save:!1,skip:!0}},defaultShow:!1,showForms:[],showModules:[st],providers:[qe.dC.Kubernetes]}]}),[n,e])}(),n=function(){var e=(0,z.useState)({}),t=b()(e,2),n=t[0],i=t[1],o=function(){var e=p()(a()().mark((function e(){var t;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,D.qn)();case 3:t=e.sent,i(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i({});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return(0,z.useEffect)((function(){o()}),[]),{systemConfig:n}}(),i=n.systemConfig,r=(0,y.useSearchParams)(),l=b()(r,1)[0].get("action")||w.Kd.CREATE,s=(0,y.useNavigate)(),u=(0,k.KO)(x.q_),m=b()(u,2),v=m[0],h=m[1],$=(0,z.useState)([]),S=b()($,2),I=S[0],E=S[1],Z=(0,z.useState)(0),q=b()(Z,2),O=q[0],P=q[1],H=(0,z.useState)({token:"",image:"",server_url:"",cluster_id:0}),N=b()(H,2),W=N[0],B=N[1],A=(0,z.useState)({provider:qe.dC.Docker}),F=b()(A,2),R=F[0],X=F[1],L=(0,z.useState)({}),_=b()(L,2),G=_[0],K=_[1],V=(0,z.useState)(!1),U=b()(V,2),Y=U[0],Q=U[1],J=g()(g()({},at,(0,z.useRef)(null)),lt,(0,z.useRef)(null)),ee=(0,z.useMemo)((function(){return I.filter((function(e){return e.provider===R.provider}))}),[I,R.provider]),te=(0,z.useMemo)((function(){return R.provider?t.filter((function(e){var t;return null===(t=e.providers)||void 0===t||!t.length||e.providers.includes(R.provider)})).map((function(e,t){return f()(f()({},e),{},{disabled:l===w.Kd.CREATE})})):t.filter((function(e){return e.defaultShow}))}),[l,R.provider,t]),ne=function(){var e=p()(a()().mark((function e(){var t,n,i,o,r,l,s,u,p,m;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=te[O],!((null==(n=(null==t?void 0:t.showForms)||[])?void 0:n.length)>0)){e.next=16;break}return e.next=5,Promise.allSettled(n.map((function(e){var t;return null===(t=J[e].current)||void 0===t?void 0:t.validateFields()})));case 5:i=e.sent,o=new Map,i.forEach((function(e,t){if("rejected"===e.status){var i,r=(null===(i=e.reason)||void 0===i?void 0:i.values)||{};o.set(n[t],r)}else"fulfilled"===e.status&&o.set(n[t],e.value)})),r=f()({},G),l=d()(o.entries());try{for(l.s();!(s=l.n()).done;)u=b()(s.value,2),p=u[0],m=u[1],r[p]=m}catch(e){l.e(e)}finally{l.f()}if(K(r),i.every((function(e){return"fulfilled"===e.status}))){e.next=15;break}return e.abrupt("return",!1);case 15:return e.abrupt("return",Object.assign.apply(Object,[{}].concat(c()(Object.values(r)))));case 16:return e.abrupt("return",!0);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=p()(a()().mark((function e(t){var n,i,o;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne();case 3:if(!(n=e.sent)){e.next=10;break}return e.next=7,null==t?void 0:t(n);case 7:o=te[O],null===(i=o.beforeNext)||void 0===i||i.call(o),P((function(e){return Math.min(e+1,te.length-1)}));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}();(0,z.useEffect)((function(){var e=function(){var e=p()(a()().mark((function e(){var t,n,i;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,D.gX)({page:-1});case 2:n=e.sent,i=null===(t=n.items)||void 0===t?void 0:t.map((function(e){return{label:e.name,value:e.id,provider:e.provider}})),E(i);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var oe,re,ae=(0,z.useMemo)((function(){var e=te[O];return null!=e&&e.showButtons?null==e?void 0:e.showButtons(R.provider):{}}),[O,te,R.provider]),le=function(){var e=p()(a()().mark((function e(){var t,n;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,D.ax)({page:1,perPage:10});case 3:if(1!==(t=e.sent).items.length){e.next=9;break}if((n=t.items[0]).is_default){e.next=9;break}return e.next=9,(0,D.p1)({id:n.id});case 9:e.next=13;break;case 11:e.prev=11,e.t0=e.catch(0);case 13:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=p()(a()().mark((function e(t){var n,i,r;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f()(f()({},R),"object"===o()(t)?t:{}),Q(!0),e.next=4,(0,D.c0)({data:n});case 4:return i=e.sent,e.next=7,(0,D.zc)({id:i.id});case 7:return r=e.sent,Q(!1),B(f()(f()({},r),{},{cluster_id:i.id})),le(),e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=p()(a()().mark((function e(){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ie(ce);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=function(){if(null!=v&&v.firstAddCluster)return h({firstAddCluster:!1,firstAddWorker:!1}),void s("/cluster-management/clusters/list");s(-1)},ue=[{title:(0,ye.jsx)("a",{children:e.formatMessage({id:"clusters.title"})}),onClick:function(){return de()}},{title:e.formatMessage({id:"common.button.create"})}];return(0,ye.jsxs)(T.R,{footer:[(0,ye.jsx)(Me,{onPrevious:function(){K((function(e){for(var t=j().cloneDeep(e),n=0,i=Object.entries(J);n<i.length;n++){var o,r,a,l=b()(i[n],2),c=l[0],s=l[1],d=null==s||null===(o=s.current)||void 0===o||null===(r=(a=o).getFieldsValue)||void 0===r?void 0:r.call(a);d&&(t[c]=d)}return t})),P((function(e){return Math.max(e-1,0)}))},onNext:ie,handleCancel:de,handleSubmit:se,loading:Y,showButtons:ae},"buttons")],header:{title:(0,ye.jsx)(C.Z,{items:ue})},children:[(0,ye.jsx)(je,{steps:te,currentStep:O}),(0,ye.jsxs)("div",{style:{width:800,margin:"0 auto"},children:[0===O&&(0,ye.jsx)(Ze.Z,{dataList:Pe,height:70,onSelect:function(e){e!==R.provider?(X({provider:e}),function(){K({});for(var e=0,t=Object.entries(J);e<t.length;e++){var n=b()(t[e],2),i=n[0];n[1],J[i]=z.createRef()}}(),ie()):ie()},clickable:!0,current:R.provider}),(0,ye.jsxs)(He.l.Provider,{value:{formValues:G,systemConfig:i},children:[(oe=te[O],re=(null==oe?void 0:oe.showModules)||[],0===re.length?null:re.map((function(e){var t=dt[e];return t?(0,ye.jsx)(t,{actionSource:"page",stepList:R.provider===qe.dC.Docker?M.bc:M.fU,registrationInfo:W,provider:R.provider},e):null}))),(0,ye.jsx)(pt,{children:(0,ye.jsx)(mt,{children:function(){var e=te[O],t=(null==e?void 0:e.showForms)||[];return 0===t.length?null:t.map((function(e){var t=dt[e];return t?(0,ye.jsx)(t,{ref:J[e],action:l,provider:R.provider,credentialList:ee,currentData:G[e]},e):null}))}()})})]})]})]})}}}]);
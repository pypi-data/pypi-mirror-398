"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1717],{32914:function(n,e,t){t.d(e,{FB:function(){return a},Mh:function(){return u},Vd:function(){return l},hG:function(){return s},hQ:function(){return i},pp:function(){return o},q_:function(){return p},uu:function(){return c}});var r=t(15292),u=(0,r.cn)([]),o=(0,r.cn)([]),a=(0,r.cn)([]),i=(0,r.cn)([]),c=(0,r.cn)([]),s=(0,r.cn)([]),l=(0,r.cn)(!1),p=(0,r.cn)(null)},77583:function(n,e,t){t.d(e,{$l:function(){return i},Os:function(){return p},ZV:function(){return d},hl:function(){return o},mj:function(){return u},xR:function(){return l},xu:function(){return c},zf:function(){return s}});var r=t(15292),u=(0,r.cn)([]),o=(0,r.cn)({}),a=(0,r.cn)(0),i=function(){var n=(0,r.K7)(),e=Date.now();return n.set(a,e),e},c=function(){return(0,r.K7)().get(a)},s=(0,r.cn)([]),l=(0,r.cn)([]),p=(0,r.cn)([]),d=(0,r.cn)({})},92002:function(n,e,t){t.d(e,{Yo:function(){return u},gn:function(){return o}});var r=t(15292),u=(0,r.cn)(new Map),o=function(n,e){var t=(0,r.K7)(),o=t.get(u);o.set(n,e),t.set(u,o)}},63150:function(n,e,t){var r,u,o=t(48305),a=t.n(o),i=t(53649),c=t.n(i),s=t(14725),l=t(75271),p=t(67585),d=t(52676),f=(0,p.F4)(r||(r=c()(["\n  from {\n    opacity: 1;\n    transform: scale(1);\n  }\n  to {\n    opacity: 0;\n    transform: scale(1.05);\n  }\n"]))),h=p.ZP.div(u||(u=c()(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(59, 59, 59, 1);\n  z-index: 9999;\n  animation: "," ","s\n    ease forwards;\n"])),(function(n){return n.$isHiding?f:"none"}),1);e.Z=function(){var n,e=(0,s.xx)().theme,t=(0,l.useState)("realDark"===e),r=a()(t,2),u=r[0],o=r[1],i=(0,l.useState)(!1),c=a()(i,2),p=c[0],f=c[1],m=(0,l.useRef)(null),v=(0,l.useRef)(null);return(n=document.querySelector("html"))&&n.setAttribute("data-theme",e),(0,l.useEffect)((function(){"realDark"===e?(o(!0),requestAnimationFrame((function(){f(!0)}))):f(!0)}),[e]),(0,l.useEffect)((function(){var n=m.current;if(n){var e=function(){clearTimeout(v.current),o(!1)};return n.addEventListener("animationend",e),p&&(v.current=setTimeout((function(){o(!1)}),1100)),function(){return n.removeEventListener("animationend",e)}}}),[u]),u?(0,d.jsx)(h,{ref:m,$isHiding:p}):null}},1503:function(n,e,t){t.d(e,{Z:function(){return g}});var r,u,o=t(26068),a=t.n(o),i=t(53649),c=t.n(i),s=t(21363),l=t(2825),p=t(950),d=t(75271),f=t(67585),h=(0,d.createContext)({scrollToBottom:function(){}}),m=t(52676),v=f.ZP.div(r||(r=c()(["\n  max-height: ",";\n  overflow-y: auto;\n  width: 100%;\n"])),(function(n){var e=n.$maxHeight;return"number"==typeof e?"".concat(e,"px"):e})),x=f.ZP.div(u||(u=c()(["\n  display: flex;\n  align-items: center;\n  max-width: 360px;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n"]))),g=function(n){var e=d.useRef(null),t=(0,s.Z)(),r=t.saveScrollHeight,u=t.restoreScrollHeight,o=(0,l.Z)(),i=o.initialize,c=o.destroyInstance,f=o.scrollToBottom;return d.useEffect((function(){n.open?r():u()}),[n.open]),d.useEffect((function(){var t=null;return n.open&&(t=setTimeout((function(){e.current&&i(e.current)}),100)),function(){t&&clearTimeout(t),c()}}),[n.open,i]),(0,m.jsx)(p.Z,a()(a()({},n),{},{title:(0,m.jsx)(x,{children:n.title}),destroyOnHidden:!0,styles:{content:{padding:0},header:{padding:"var(--ant-modal-content-padding)",paddingBottom:"0"},body:{padding:"0",paddingBlockEnd:n.footer?"0":"24px"},footer:n.footer?{padding:"12px 24px 24px",margin:"0"}:{}},children:(0,m.jsx)(h.Provider,{value:{scrollToBottom:f},children:(0,m.jsx)(v,{ref:e,"data-overlayscrollbars-initialize":!0,className:"overlay-scroller-wrapper",$maxHeight:n.maxContentHeight||500,hidden:!1,style:{paddingInline:24,paddingBlockEnd:0},children:n.children})})}))}},96096:function(n,e){e.Z={"/playground/text-to-image":"/playground/text-to-image","/playground/speech":"/playground/speech"}},21363:function(n,e,t){t.d(e,{Z:function(){return u}});var r=t(75271);function u(){var n=r.useRef(0),e=r.useRef({}),t=r.useRef(null),u=r.useRef(null),o=r.useRef(null),a=function(){var n;t.current=null===(n=window.__GPUSTACK_BODY_SCROLLER__)||void 0===n||null===(n=n.elements())||void 0===n?void 0:n.scrollEventElement,u.current=window.__GPUSTACK_BODY_SCROLLER__},i=r.useCallback((function(){var r,o,i,c;t.current||a(),e.current=null===(r=u.current)||void 0===r?void 0:r.state();var s=null===(o=e.current)||void 0===o||null===(o=o.overflowAmount)||void 0===o?void 0:o.y;n.current=s,null===(i=u.current)||void 0===i||null===(c=i.options)||void 0===c||c.call(i,{overflow:{x:"hidden",y:"visible"}})}),[]),c=r.useCallback((function(){o.current&&clearTimeout(o.current),o.current=setTimeout((function(){var n,e;null===(n=u.current)||void 0===n||null===(e=n.options)||void 0===e||e.call(n,{overflow:{x:"hidden",y:"scroll"}})}),500)}),[]);return r.useEffect((function(){return a(),function(){t.current=null,u.current=null}}),[]),{saveScrollHeight:i,restoreScrollHeight:c,bodyScroller:t.current}}},46136:function(n,e,t){t.r(e),t.d(e,{default:function(){return Ln}});var r=t(90228),u=t.n(r),o=t(87999),a=t.n(o),i=t(48305),c=t.n(i),s=t(15558),l=t.n(s),p=t(26068),d=t.n(p),f=t(335),h=t.n(f),m=t(92002),v=t(77086),x=t(63150),g=t(92829),y=t(96096),w=t(93203),k=t(2825),b=t(92900),j=t(53649),S=t.n(j),T=t(32914),E=t(1503),C=t(91315),_=t(77583),M=t(92047),A=t(13927),q=t(26447),Z=t(75271),R=t(52064);var P,I=t(53231),O=t(79635),L=t(67585),D=t(52676),N=L.ZP.div(P||(P=S()(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  margin: 32px auto 0px;\n  .title {\n    font-size: 16px;\n    font-weight: 600;\n    margin-bottom: 12px;\n  }\n  .tips,\n  .sub-title {\n    color: var(--ant-color-text-tertiary);\n  }\n  .icon {\n    font-size: 32px;\n    width: 64px;\n    height: 64px;\n    border-radius: 32px;\n    margin-bottom: 16px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    color: var(--ant-color-primary);\n    background-color: var(--ant-color-primary-bg);\n  }\n  .desc {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 8px;\n  }\n  .btn-wrapper {\n    width: 100%;\n    padding: 0 16px;\n    margin-top: 32px;\n    display: flex;\n    gap: 16px;\n    justify-content: center;\n    align-items: center;\n  }\n"])));function z(n){var e=(n||{}).onCreated,t=(0,I.useIntl)(),r=(0,I.useNavigate)(),o=(0,b.Z)(),i=o.setUserSettings,s=o.userSettings,l=(0,q.KO)(T.q_),p=c()(l,2)[1],f=(0,Z.useState)(!1),h=c()(f,2),m=h[0],v=h[1],x=function(){var n=(0,Z.useState)([]),e=c()(n,2),t=e[0],r=(e[1],(0,Z.useState)([])),o=c()(r,2),i=o[0],s=(o[1],(0,q.KO)(_.zf)),l=c()(s,2),p=l[0],d=(l[1],(0,q.KO)(_.xR)),f=c()(d,2),h=f[0],m=(f[1],(0,q.KO)(_.ZV)),v=c()(m,2),x=v[0],g=v[1],y=(0,Z.useState)({cluster_count:0,worker_count:0}),w=c()(y,2),k=w[0],b=w[1],j=function(){var n=a()(u()().mark((function n(){var e,t,r;return u()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,M.ax)({page:-1});case 3:return t=n.sent,r=null==t||null===(e=t.items)||void 0===e?void 0:e.map((function(n){return{label:n.name,value:n.id,id:n.id,state:n.state,provider:n.provider}})),n.abrupt("return",r);case 8:return n.prev=8,n.t0=n.catch(0),n.abrupt("return",[]);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(){return n.apply(this,arguments)}}(),S=function(){var n=a()(u()().mark((function n(){var e,t,r;return u()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,A.Sw)({page:-1});case 3:return t=n.sent,r=null==t||null===(e=t.items)||void 0===e?void 0:e.map((function(n){return{cluster_id:n.cluster_id,state:n.state,label:n.name,value:n.id,id:n.id,labels:n.labels||{},name:n.name}})),n.abrupt("return",r);case 8:return n.prev=8,n.t0=n.catch(0),n.abrupt("return",[]);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(){return n.apply(this,arguments)}}(),T=function(){var n=a()(u()().mark((function n(){var e,t,r;return u()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,R.mt)();case 3:return r=n.sent,g(r.resource_counts),b(r.resource_counts),n.abrupt("return",{hasClusters:(null===(e=r.resource_counts)||void 0===e?void 0:e.cluster_count)>0,hasWorkers:(null===(t=r.resource_counts)||void 0===t?void 0:t.worker_count)>0});case 9:return n.prev=9,n.t0=n.catch(0),g({}),b({}),n.abrupt("return",{hasClusters:!1,hasWorkers:!1});case 14:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(){return n.apply(this,arguments)}}();return{clusterList:t,workerList:i,clustersAtom:p,workersAtom:h,resourceAtom:x,resourceCount:k,fetchResource:T,fetchWorkerList:S,fetchClusterList:j}}(),y=x.fetchResource,w=x.resourceCount,k=x.resourceAtom,j=(0,Z.useState)({loading:!1,loadend:!1}),S=c()(j,2),P=S[0],L=S[1],z=(0,Z.useMemo)((function(){return!(null!=k&&k.cluster_count&&null!=k&&k.worker_count)&&!P.loading&&P.loadend}),[k,P]),F=(0,Z.useMemo)((function(){return w.cluster_count?{title:t.formatMessage({id:"noresult.workers.title"}),subTitle:t.formatMessage({id:"noresult.resources.worker"}),btnText:t.formatMessage({id:"noresult.workers.button.add"})}:{title:t.formatMessage({id:"noresult.cluster.title"}),subTitle:t.formatMessage({id:"noresult.resources.cluster"}),btnText:t.formatMessage({id:"noresult.resources.gotocluster"})}}),[w,t]),G=(0,Z.useMemo)((function(){return z&&!s.hideAddResourceModal}),[z,s.hideAddResourceModal]),H=function(){if(v(!0),null==e||e(),!w.cluster_count)return p({firstAddWorker:!1,firstAddCluster:!0}),void r("/cluster-management/clusters/create?action=".concat(C.Kd.CREATE));w.worker_count||(p({firstAddWorker:!0,firstAddCluster:!1}),r("/cluster-management/clusters/list"))},B=function(){i(d()(d()({},s),{},{hideAddResourceModal:!0}))},U=function(){var n=a()(u()().mark((function n(){var e,t,r;return u()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return L({loading:!0,loadend:!1}),n.next=3,y();case 3:e=n.sent,t=e.hasClusters,r=e.hasWorkers,L({loading:!1,loadend:!0}),i(d()(d()({},s),{},{hideAddResourceModal:t&&r}));case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),W=(0,D.jsx)(E.Z,{open:G&&!m,footer:null,maskClosable:!1,keyboard:!1,closeIcon:null,destroyOnHidden:!1,style:{top:"25%"},onCancel:B,children:(0,D.jsxs)(N,{children:[(0,D.jsx)("div",{className:"icon",children:(0,D.jsx)(g.Z,{type:"icon-dashboard"})}),(0,D.jsx)("div",{className:"title",children:F.title}),(0,D.jsx)("div",{className:"desc",children:(0,D.jsx)("div",{className:"sub-title",children:F.subTitle})}),(0,D.jsxs)("div",{className:"btn-wrapper",children:[(0,D.jsx)(O.ZP,{onClick:B,type:"default",style:{flex:1},children:t.formatMessage({id:"clusters.create.skipfornow"})}),(0,D.jsx)(O.ZP,{onClick:H,type:"primary",style:{flex:1},children:F.btnText})]})]})});return{open:G,contentInfo:F,loadingStatus:P,NoResourceModal:W,handleCreate:H,setLoadingStatus:L,handleCancel:B,fetchResource:y,fetchResourceData:U}}var F,G=t(9208),H=t(20939),B=t(16617),U=t(20947),W=t(950),K=t(52506),V=t(54246),Y=(t(51779),t(82093),t(94213)),$=t(38975),X=function(n){var e,t,r=(0,I.useIntl)();return!n.route&&(n.noFound||n.notFound)||(null===(e=n.route)||void 0===e?void 0:e.unaccessible)&&(n.unAccessible||n.noAccessible)||(!n.route||(null===(t=n.route)||void 0===t?void 0:t.unaccessible))&&(0,D.jsx)(Y.R,{children:(0,D.jsx)($.ZP,{status:n.route?"403":"404",title:n.route?"403":"404",subTitle:n.route?r.formatMessage({id:"common.permission.403"}):r.formatMessage({id:"common.permission.404"}),extra:(0,D.jsx)(O.ZP,{type:"primary",onClick:function(){return I.history.push("/")},children:r.formatMessage({id:"common.button.back"})})})})||n.children},Q=t(82536),J=t.p+"static/small-logo-200x200.cf14a378.png",nn=function(){return(0,D.jsx)("img",{src:Q,alt:"logo",style:{height:24}})},en=function(){return(0,D.jsx)("img",{src:J,alt:"logo",style:{height:24}})},tn=t(25298),rn=t.n(tn),un=t(17069),on=t.n(un),an=t(62657),cn=t.n(an),sn=t(21742),ln=t.n(sn),pn=t(83136),dn=t.n(pn),fn=t(82092),hn=t.n(fn);L.ZP.div(F||(F=S()(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 16px;\n"])));function mn(n){if("string"!=typeof n)return!1;var e=n.includes("Loading chunk"),t=n.includes("Loading CSS chunk");return(e||t)&&n.includes("failed")}var vn=function(n){var e=n.extra,t=(0,I.useIntl)();return(0,D.jsx)($.ZP,{status:"warning",title:mn(e)?t.formatMessage({id:"common.page.refresh.tips"}):t.formatMessage({id:"common.page.wentwrong"}),extra:e})},xn=function(n){ln()(t,n);var e=dn()(t);function t(){var n;rn()(this,t);for(var r=arguments.length,u=new Array(r),o=0;o<r;o++)u[o]=arguments[o];return n=e.call.apply(e,[this].concat(u)),hn()(cn()(n),"state",{hasError:!1,errorInfo:""}),n}return on()(t,[{key:"componentDidCatch",value:function(n,e){}},{key:"render",value:function(){return this.state.hasError?(0,D.jsx)(vn,{extra:this.state.errorInfo}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(n){return{hasError:!0,errorInfo:n.message}}}]),t}(Z.Component),gn=xn,yn=t(37952),wn=t(46871);function kn(n){return n.replace(n[0],n[0].toUpperCase()).replace(/-(w)/g,(function(n,e){return e.toUpperCase()}))}var bn,jn,Sn,Tn,En,Cn=t(8),_n=t(25408),Mn=t(48872),An=(0,t(58281).kc)((function(n){var e=n.css,t=n.token.Menu;return{siderMenu:e(bn||(bn=S()(["\n      &.sider-menu-collapsed {\n        .menu-item {\n          justify-content: center;\n          padding: 0;\n        }\n      }\n    "]))),groupTitle:e(jn||(jn=S()(["\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      cursor: pointer;\n      white-space: nowrap;\n      padding: var(--ant-padding-xs) var(--ant-padding);\n      font-size: 12px;\n      padding-bottom: 4px;\n      overflow: hidden;\n      height: 30px;\n      &:hover {\n        .group-title-text {\n          color: var(--ant-color-text);\n        }\n      }\n      .anticon {\n        transform: scale(0.8);\n      }\n      .group-title-text {\n        display: flex;\n        align-items: center;\n        gap: 4px;\n        font-size: 12px;\n        color: var(--ant-color-text-tertiary);\n        font-weight: 400;\n      }\n\n      &.menu-item-group-title-collapsed {\n        height: 1px;\n        padding-block: 0;\n        padding-inline: 0;\n      }\n    "]))),menuItemContent:e(Sn||(Sn=S()(["\n      margin: 2px 0;\n      border-radius: 4px;\n      overflow: hidden;\n    "]))),menuItemWrapper:e(Tn||(Tn=S()(["\n      display: flex;\n      align-items: center;\n      justify-content: flex-start;\n      gap: 12px;\n      cursor: pointer;\n      position: relative;\n      padding-inline: calc(var(--ant-font-size) * 2) var(--ant-padding);\n      padding-left: 16px;\n      overflow: hidden;\n      white-space: nowrap;\n      height: ","px;\n      line-height: ","px;\n      color: var(--ant-color-text-secondary);\n      &:hover {\n        background-color: ",";\n        color: ",";\n      }\n      &.menu-item-selected {\n        background-color: ",";\n        color: ",";\n        .anticon {\n          color: ",";\n        }\n      }\n      &:active {\n        background-color: ",";\n        color: ",";\n      }\n      .anticon {\n        font-size: 16px;\n      }\n      .icon-wrapper {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        width: 100%;\n        height: 100%;\n      }\n    "])),t.itemHeight,t.itemHeight,t.itemHoverBg,t.itemHoverColor,t.itemSelectedBg,t.itemSelectedColor,t.itemSelectedColor,t.itemActiveBg,t.itemActiveColor),menuItemGroup:e(En||(En=S()(["\n      &.menu-item-group-hidden {\n        display: none;\n      }\n    "])))}})),qn=function(n){var e,t=n.menuData,r=n.collapsed,u=n.initialState,o=(null==u||null===(e=u.currentUser)||void 0===e?void 0:e.is_admin)||!1,a=An(),i=a.styles,s=a.cx,l=(0,I.useLocation)(),p=(0,Z.useState)(new Set),d=c()(p,2),f=d[0],h=d[1],m=(0,Z.useMemo)((function(){return r?{margin:"6px 0"}:{margin:"6px 16px",width:"unset",minWidth:"unset",maxWidth:"unset"}}),[r]),v=function(n,e){var t,u,o;return(0,D.jsx)("div",{className:s(i.menuItemContent,"menu-item-content"),children:(0,D.jsx)(I.Link,{prefetch:"intent",to:n.path.replace("/*",""),target:n.target,className:s(i.menuItemWrapper,"menu-item",{"menu-item-selected":l.pathname===n.path||(null===(t=n.subMenu)||void 0===t?void 0:t.includes(l.pathname))}),children:r?(0,D.jsx)(_n.Z,{title:n.name,placement:"right",children:(0,D.jsx)("span",{className:"icon-wrapper",children:(0,D.jsx)(g.Z,{type:l.pathname===n.path||null!==(u=n.subMenu)&&void 0!==u&&u.includes(l.pathname)?n.selectedIcon||"":n.defaultIcon||""})})}):(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(g.Z,{type:l.pathname===n.path||null!==(o=n.subMenu)&&void 0!==o&&o.includes(l.pathname)?n.selectedIcon||"":n.defaultIcon||""}),(0,D.jsx)("span",{children:n.name})]})})},e)};return(0,D.jsx)("div",{className:s(i.siderMenu,"sider-menu",{"sider-menu-collapsed":r}),children:t.map((function(n,e){var t;return(0,D.jsx)("div",{children:n.children&&n.children.length>0?(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("div",{className:s(i.groupTitle,{"menu-item-group-title-collapsed":r}),onClick:function(e){return function(n,e){n.stopPropagation(),f.has(e.key)?f.delete(e.key):f.add(e.key),h(new Set(f))}(e,n)},children:r?o?(0,D.jsx)(Mn.Z,{style:m}):null:(0,D.jsxs)("span",{className:"group-title-text",children:[(0,D.jsx)("span",{children:n.name}),(0,D.jsx)(Cn.Z,{rotate:f.has(n.key)?-90:0})]})}),(0,D.jsx)("div",{className:s(i.menuItemGroup,{"menu-item-group-collapsed":r,"menu-item-group-hidden":!r&&f.has(n.key)}),children:null===(t=n.children)||void 0===t?void 0:t.map((function(n){return v(n,n.key)}))})]}):v(n,n.key)},n.key)}))})},Zn=["chat","rerank","embedding","speech","image","text2images","clusterDetail","clusterCreate"],Rn=["/resources/workers","/cluster-management/clusters/list","/cluster-management/credentials","/cluster-management/clusters/create",""],Pn=w.W5.login,In=function n(e,t){if(0===e.length)return[];var r,u=[],o=h()(e);try{for(o.s();!(r=o.n()).done;){var a=r.value,i=d()({},a);t(a)?Array.isArray(i.routes)&&u.push.apply(u,l()(n(i.routes,t))):(Array.isArray(i.children)&&(i.children=n(i.children,t),i.routes=i.children),u.push(i))}}catch(n){o.e(n)}finally{o.f()}return u},On=function n(e,t){return 0===e.length?[]:e.map((function(e){var r=d()(d()({},e),{},{role:t});return e.originPath&&(r.path=e.originPath),Array.isArray(e.routes)&&(r.routes=n(e.routes,t)),Array.isArray(e.children)&&(r.children=n(e.children,t)),r}))},Ln=function(n){var e,t,r,o,i=(0,k.Z)({defer:!1}).initialize,s=W.Z.useModal(),l=c()(s,2),p=(l[0],l[1]),f=(0,b.Z)(),j=f.themeData,S=f.setUserSettings,T=f.userSettings,E=(0,q.KO)(v.LF),C=c()(E,1)[0],_=(0,q.KO)(m.Yo),M=c()(_,1)[0],A=(0,I.useLocation)(),R=(0,I.useNavigate)(),P=(0,I.useIntl)(),L=(0,I.useAppData)().clientRoutes,N=(0,q.KO)(v.jr),F=(c()(N,1)[0],(0,Z.useRef)(!1)),$=z({onCreate:function(){F.current=!1}}),Q=($.setLoadingStatus,$.fetchResourceData),J=$.NoResourceModal,tn=($.loadingStatus,B.t&&(0,B.t)("@@initialState")||{initialState:void 0,loading:!1,setInitialState:null}),rn=tn.initialState,un=(tn.loading,tn.setInitialState,function(n){void 0===M.get(n)&&y.Z[n]&&(0,m.gn)(n,!1)}),on=function(n){var e,t=h()(M.keys());try{for(t.s();!(e=t.n()).done;){var r=e.value;r!==n&&!M.get(r)&&y.Z[r]&&((0,I.dropByCacheKey)(r),M.delete(r))}}catch(n){t.e(n)}finally{t.f()}},an=d()(d()({},tn),{},{logout:(t=a()(u()().mark((function n(){return u()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,G.kS)();case 2:R(Pn);case 3:case"end":return n.stop()}}),n)}))),function(){return t.apply(this,arguments)}),showVersion:function(){},showShortcuts:function(){},notFound:(0,D.jsx)("span",{children:"404 not found"})}),cn=function(n){n.stopPropagation(),S(d()(d()({},T),{},{collapsed:!T.collapsed}))},sn=In(L.filter((function(n){return"max-tabs"===n.id})),(function(n){return!!n.isLayout&&"@@/global-layout"!==n.id||!!n.isWrapper})),ln=null!=rn&&null!==(e=rn.currentUser)&&void 0!==e&&e.is_admin?"admin":"user",pn=(0,H.Mf)(On(sn,ln)),dn=c()(pn,1)[0];r={routes:dn.children,initialState:tn.initialState},o=r.routes,r.initialState,Object.keys(o).forEach((function(n){var e=o[n].icon;if(e&&"string"==typeof e){var t=kn(e);(wn[t]||wn[t+"Outlined"])&&(o[n].icon=Z.createElement(wn[t]||wn[t+"Outlined"]))}}));var fn=(0,Z.useMemo)((function(){var n,e;return null===(n=(0,I.matchRoutes)((null==dn?void 0:dn.children)||[],A.pathname))||void 0===n||null===(e=n.pop)||void 0===e||null===(e=e.call(n))||void 0===e?void 0:e.route}),[A.pathname]),hn=(0,Z.useMemo)((function(){return Zn.includes(null==fn?void 0:fn.name)}),[fn]);(0,Z.useEffect)((function(){var n=document.querySelector("body");if(n){var e=i(n);window.__GPUSTACK_BODY_SCROLLER__=e}}),[i]);var mn=(0,Z.useMemo)((function(){return T.collapsed||!1}),[T.collapsed]),vn=function(){var n=a()(u()().mark((function n(e){var t,r,o,a,i;return u()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=I.history.location,o=r.pathname,Rn.includes(o)||null==rn||null===(t=rn.currentUser)||void 0===t||!t.is_admin||F.current||T.hideAddResourceModal){n.next=6;break}return F.current=!0,n.next=6,Q();case 6:if(un(o),on(o),r.pathname===Pn||null==C||!C.require_password_change){n.next=11;break}return I.history.push(Pn),n.abrupt("return");case 11:null!=rn&&rn.currentUser||r.pathname===Pn?"/"===r.pathname&&(i=null!=rn&&null!==(a=rn.currentUser)&&void 0!==a&&a.is_admin?w.W5.adminForNormal:w.W5.user,I.history.push(i)):I.history.push(Pn);case 12:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,D.jsxs)(K.ZP,{componentSize:"large",theme:d()({algorithm:T.isDarkTheme?V.Z.darkAlgorithm:V.Z.defaultAlgorithm},j),children:[(0,D.jsx)(x.Z,{}),(0,D.jsxs)(U.f,d()(d()({fixSiderbar:!0,fixedHeader:!0,breadcrumbRender:!1,route:dn,location:A,title:"",navTheme:T.theme,layout:"side",contentStyle:{paddingBlock:0,paddingInline:0},openKeys:!1,disableMobile:!0,header:{title:(0,D.jsx)("div",{style:{fontSize:36},children:" gpuStack "})},siderWidth:220,onCollapse:function(n){n&&S(d()(d()({},T),{},{collapsed:n}))},onMenuHeaderClick:function(n){var e;n.stopPropagation(),n.preventDefault();var t=null!=rn&&null!==(e=rn.currentUser)&&void 0!==e&&e.is_admin?w.W5.adminForNormal:w.W5.user;R(t)},menuHeaderRender:function(n,e){return(0,D.jsxs)(D.Fragment,{children:[n,(0,D.jsx)("div",{className:"collapse-wrap",onClick:cn,children:(0,D.jsx)(O.ZP,{style:{marginRight:mn?0:-14,border:"none",cursor:"w-resize"},size:"small",type:mn?"default":"text",children:(0,D.jsx)(g.Z,{type:mn?"icon-expand-left":"icon-expand-right",className:"font-size-18 text-secondary",style:{display:"block"}})})})]})},extra:[(0,D.jsx)(yn.k,{isDarkTheme:T.isDarkTheme},"extra-content")],collapsed:T.collapsed,onPageChange:vn,formatMessage:function(n){return P.formatMessage({id:n.id})},menu:{locale:!0,type:"group"},splitMenus:!0,logo:T.collapsed?(0,D.jsx)(en,{}):(0,D.jsx)(nn,{}),menuContentRender:function(n,e){return(0,D.jsx)(qn,d()({},n))},disableContentMargin:!0},an),{},{ErrorBoundary:gn,children:[(0,D.jsx)(X,{route:fn,noFound:null==an?void 0:an.noFound,notFound:null==an?void 0:an.notFound,unAccessible:null==an?void 0:an.unAccessible,noAccessible:null==an?void 0:an.noAccessible,children:hn?(0,D.jsx)(I.Outlet,{}):(0,D.jsx)(Y.R,{children:(0,D.jsx)(I.Outlet,{})})}),J]})),p]},T.colorPrimary)}},92047:function(n,e,t){t.d(e,{A0:function(){return O},BT:function(){return w},E:function(){return B},E_:function(){return z},Fm:function(){return W},Io:function(){return _},X8:function(){return $},ax:function(){return Z},bF:function(){return D},c0:function(){return P},c9:function(){return g},gX:function(){return S},go:function(){return V},iL:function(){return b},jl:function(){return E},kT:function(){return A},oh:function(){return l},p1:function(){return nn},qT:function(){return p},qn:function(){return Q},zc:function(){return G}});var r=t(90228),u=t.n(r),o=t(87999),a=t.n(o),i=t(52064),c=t(53231),s="/cloud-credentials",l="/clusters",p="/worker-pools",d="registration-token",f="/provider-proxy",h="/config",m="/v2/regions",v="/v2/sizes",x="/v2/images";function g(n){return y.apply(this,arguments)}function y(){return(y=a()(u()().mark((function n(e){return u()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("".concat(s,"/").concat(e.id).concat(f).concat(m),{method:"GET",params:{per_page:200}}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function w(n){return k.apply(this,arguments)}function k(){return(k=a()(u()().mark((function n(e){return u()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("".concat(s,"/").concat(e.id).concat(f).concat(v),{method:"GET",params:{per_page:200}}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function b(n){return j.apply(this,arguments)}function j(){return(j=a()(u()().mark((function n(e){return u()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("".concat(s,"/").concat(e.id).concat(f).concat(x),{method:"GET",params:{per_page:200,type:"distribution"}}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function S(n){return T.apply(this,arguments)}function T(){return(T=a()(u()().mark((function n(e){return u()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("".concat(s),{method:"GET",params:e}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function E(n){return C.apply(this,arguments)}function C(){return(C=a()(u()().mark((function n(e){return u()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("".concat(s),{method:"POST",data:e.data}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function _(n){return M.apply(this,arguments)}function M(){return(M=a()(u()().mark((function n(e){return u()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("".concat(s,"/").concat(e.id),{method:"PUT",data:e.data}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function A(n){return q.apply(this,arguments)}function q(){return(q=a()(u()().mark((function n(e){return u()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("".concat(s,"/").concat(e),{method:"DELETE"}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function Z(n){return R.apply(this,arguments)}function R(){return(R=a()(u()().mark((function n(e){return u()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("".concat(l),{method:"GET",params:e}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function P(n){return I.apply(this,arguments)}function I(){return(I=a()(u()().mark((function n(e){return u()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("".concat(l),{method:"POST",data:e.data}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function O(n){return L.apply(this,arguments)}function L(){return(L=a()(u()().mark((function n(e){return u()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("".concat(l,"/").concat(e.id),{method:"PUT",data:e.data}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function D(n){return N.apply(this,arguments)}function N(){return(N=a()(u()().mark((function n(e){return u()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("".concat(l,"/").concat(e),{method:"DELETE"}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function z(n){return F.apply(this,arguments)}function F(){return(F=a()(u()().mark((function n(e){return u()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("".concat(i.Ns),{method:"GET",params:e}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function G(n){return H.apply(this,arguments)}function H(){return(H=a()(u()().mark((function n(e){return u()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("".concat(l,"/").concat(e.id,"/").concat(d),{method:"GET"}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function B(n,e){return U.apply(this,arguments)}function U(){return(U=a()(u()().mark((function n(e,t){return u()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("".concat(p,"?"),{method:"GET",params:e,cancelToken:null==t?void 0:t.token}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function W(n){return K.apply(this,arguments)}function K(){return(K=a()(u()().mark((function n(e){return u()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("".concat(l,"/").concat(e.clusterId).concat(p),{method:"POST",data:e.data}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function V(n){return Y.apply(this,arguments)}function Y(){return(Y=a()(u()().mark((function n(e){return u()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("".concat(p,"/").concat(e.id),{method:"PUT",data:e.data}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function $(n){return X.apply(this,arguments)}function X(){return(X=a()(u()().mark((function n(e){return u()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("".concat(p,"/").concat(e),{method:"DELETE"}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function Q(){return J.apply(this,arguments)}function J(){return(J=a()(u()().mark((function n(){return u()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("".concat(h),{method:"GET"}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function nn(n){return en.apply(this,arguments)}function en(){return(en=a()(u()().mark((function n(e){return u()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("".concat(l,"/").concat(e.id,"/set-default"),{method:"POST"}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}},52064:function(n,e,t){t.d(e,{HY:function(){return l},Ns:function(){return s},Xv:function(){return h},_b:function(){return p},mt:function(){return d}});var r=t(90228),u=t.n(r),o=t(87999),a=t.n(o),i=t(53231),c=t(83861),s="/dashboard",l="".concat(s,"/usage"),p="".concat(s,"/usage/stats");function d(n){return f.apply(this,arguments)}function f(){return(f=a()(u()().mark((function n(e){return u()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,i.request)(s,{params:e}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function h(n,e){return m.apply(this,arguments)}function m(){return(m=a()(u()().mark((function n(e,t){return u()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,i.request)("".concat(t.url,"?").concat(c.Z.stringify(e)),{method:"GET",cancelToken:null==t?void 0:t.token}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}},13927:function(n,e,t){t.d(e,{I7:function(){return d},JI:function(){return p},Pe:function(){return M},QV:function(){return T},Sw:function(){return x},Vq:function(){return j},bO:function(){return C},bk:function(){return m},lM:function(){return k},m_:function(){return q},oz:function(){return y},qx:function(){return f}});var r=t(90228),u=t.n(r),o=t(87999),a=t.n(o),i=t(93203),c=t(62998),s=t(53231),l=t(35421),p="/workers",d="/gpu-devices",f="/model-files",h=function(n){if(!n)return"";var e=n.match(/filename="?([^"]+)"?/);return e?e[1]:""};function m(n){return v.apply(this,arguments)}function v(){return(v=a()(u()().mark((function n(e){var t,r,o,a,s,d;return u()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.id,r=e.name,n.prev=1,n.next=4,fetch("/".concat(i.qk).concat(p,"/").concat(t,"/privatekey"));case 4:if(o=n.sent,a=o.headers.get("content-Disposition"),s=h(a)||"".concat(r,"-privatekey.pem"),!o.ok){n.next=12;break}return n.next=10,o.blob();case 10:d=n.sent,(0,c.S)(d,s);case 12:n.next=17;break;case 14:n.prev=14,n.t0=n.catch(1),l.ZP.error("Download failed");case 17:case"end":return n.stop()}}),n,null,[[1,14]])})))).apply(this,arguments)}function x(n){return g.apply(this,arguments)}function g(){return(g=a()(u()().mark((function n(e){return u()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,s.request)("".concat(p),{method:"GET",params:e}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function y(n){return w.apply(this,arguments)}function w(){return(w=a()(u()().mark((function n(e){return u()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,s.request)("".concat(d),{method:"GET",params:e}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function k(n){return b.apply(this,arguments)}function b(){return(b=a()(u()().mark((function n(e){return u()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,s.request)("".concat(p,"/").concat(e),{method:"DELETE"}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function j(n,e){return S.apply(this,arguments)}function S(){return(S=a()(u()().mark((function n(e,t){return u()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,s.request)("".concat(p,"/").concat(e),{method:"PUT",data:t}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function T(n){return E.apply(this,arguments)}function E(){return(E=a()(u()().mark((function n(e){return u()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,s.request)(f,{method:"GET",params:e}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function C(n,e){return _.apply(this,arguments)}function _(){return(_=a()(u()().mark((function n(e,t){return u()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,s.request)("".concat(f,"/").concat(e,"?cleanup=").concat(t.checked),{method:"DELETE"}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function M(n){return A.apply(this,arguments)}function A(){return(A=a()(u()().mark((function n(e){return u()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,s.request)(f,{method:"POST",data:e}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function q(n){return Z.apply(this,arguments)}function Z(){return(Z=a()(u()().mark((function n(e){return u()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,s.request)("".concat(f,"/").concat(e,"/reset"),{method:"POST"}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}},62998:function(n,e,t){t.d(e,{S:function(){return u}});var r=t(11227),u=function(n,e){(0,r.saveAs)(n,e)}}}]);
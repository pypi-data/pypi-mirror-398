"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2695],{34447:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(24965),a=t(75271),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M842 454c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8 0 140.3-113.7 254-254 254S258 594.3 258 454c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8 0 168.7 126.6 307.9 290 327.6V884H326.7c-13.7 0-24.7 14.3-24.7 32v36c0 4.4 2.8 8 6.2 8h407.6c3.4 0 6.2-3.6 6.2-8v-36c0-17.7-11-32-24.7-32H548V782.1c165.3-18 294-158 294-328.1zM512 624c93.9 0 170-75.2 170-168V232c0-92.8-76.1-168-170-168s-170 75.2-170 168v224c0 92.8 76.1 168 170 168zm-94-392c0-50.6 41.9-92 94-92s94 41.4 94 92v224c0 50.6-41.9 92-94 92s-94-41.4-94-92V232z"}}]},name:"audio",theme:"outlined"},i=t(52009),l=function(e,n){return a.createElement(i.Z,(0,r.Z)({},e,{ref:n,icon:o}))};var c=a.forwardRef(l)},8:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(24965),a=t(75271),o={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"},i=t(52009),l=function(e,n){return a.createElement(i.Z,(0,r.Z)({},e,{ref:n,icon:o}))};var c=a.forwardRef(l)},74363:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(24965),a=t(75271),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2zM304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z"}}]},name:"picture",theme:"outlined"},i=t(52009),l=function(e,n){return a.createElement(i.Z,(0,r.Z)({},e,{ref:n,icon:o}))};var c=a.forwardRef(l)},83395:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(24965),a=t(75271),o={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.78 729.59a135.87 135.87 0 00-47.04 19.04 114.24 114.24 0 01-51.4 31.08 76.29 76.29 0 0124.45-45.42 169.3 169.3 0 0023.4-55.02 50.41 50.41 0 1150.6 50.32zm-92.21-120.76a168.83 168.83 0 00-54.81-23.68 50.41 50.41 0 01-50.4-50.42 50.41 50.41 0 11100.8 0 137.5 137.5 0 0018.82 47.2 114.8 114.8 0 0130.76 51.66 76.08 76.08 0 01-45.02-24.76h-.19zm-83.04-177.71c-15.19-127.33-146.98-227.1-306.44-227.1-169.87 0-308.09 113.1-308.09 252.2A235.81 235.81 0 00230.06 647.6a311.28 311.28 0 0033.6 21.59L250 723.76c4.93 2.31 9.7 4.78 14.75 6.9l69-34.5c10.07 2.61 20.68 4.3 31.2 6.08 6.73 1.2 13.45 2.43 20.35 3.25a354.83 354.83 0 00128.81-7.4 248.88 248.88 0 0010.15 55.06 425.64 425.64 0 01-96.17 11.24 417.98 417.98 0 01-86.4-9.52L216.52 817.4a27.62 27.62 0 01-29.98-3.14 28.02 28.02 0 01-9.67-28.61l22.4-90.24A292.26 292.26 0 0164 456.21C64 285.98 227 148 428.09 148c190.93 0 347.29 124.53 362.52 282.82a244.97 244.97 0 00-26.47-2.62c-9.9.38-19.79 1.31-29.6 2.88zm-116.3 198.81a135.76 135.76 0 0047.05-19.04 114.24 114.24 0 0151.45-31 76.47 76.47 0 01-24.5 45.34 169.48 169.48 0 00-23.4 55.05 50.41 50.41 0 01-100.8.23 50.41 50.41 0 0150.2-50.58m90.8 121.32a168.6 168.6 0 0054.66 23.9 50.44 50.44 0 0135.64 86.08 50.38 50.38 0 01-86.04-35.66 136.74 136.74 0 00-18.67-47.28 114.71 114.71 0 01-30.54-51.8 76 76 0 0144.95 25.06z"}}]},name:"wechat-work",theme:"outlined"},i=t(52009),l=function(e,n){return a.createElement(i.Z,(0,r.Z)({},e,{ref:n,icon:o}))};var c=a.forwardRef(l)},1071:function(e,n,t){t.d(n,{Z:function(){return g}});var r=t(27441),a=t(77634),o=t(5930),i=t(48305),l=t.n(i),c=t(91962),s=t(25383),u=t(32699),d=t.n(u),f=t(75271),p=function(e){var n=e.defaultSpan,t=void 0===n?8:n,r=(0,f.useState)(t),a=l()(r,2),o=a[0],i=a[1];return{span:o,handleResize:(0,s.Z)(d().throttle((function(e){var n;i((n=e.width)<c.Z.md?24:n<c.Z.lg?12:8)}),100))}},m=t(52676),g=function(e){var n=e.defaultSpan,t=void 0===n?8:n,i=e.dataList,l=e.renderItem,c=e.resizable,s=void 0===c||c,u=p({defaultSpan:t}),d=u.span,f=u.handleResize;return(0,m.jsx)(o.Z,{onResize:f,disabled:!s,children:(0,m.jsx)(r.Z,{gutter:[16,16],children:i.map((function(e,n){return(0,m.jsx)(a.Z,{span:d,children:l(e)},e.id||n)}))})})}},75306:function(e,n,t){var r,a=t(26068),o=t.n(a),i=t(67825),l=t.n(i),c=t(53649),s=t.n(c),u=t(43458),d=(t(75271),t(67585)),f=t(52676),p=["height","size","options","className","theme","showTitle"],m={color:"var(--color-white-tertiary)",itemColorHover:"var(--color-white-secondary)",itemSelectedColor:"var(--color-white-primary)",thumbBgColor:"var(--color-white-primary)",fontWeight:400},g={color:"var(--ant-segmented-item-color)",itemColorHover:"var(--ant-segmented-item-hover-color)",itemSelectedColor:"var(--ant-segmented-item-selected-color)",thumbBgColor:"var(--ant-color-primary)",fontWeight:500},h=d.ZP.div(r||(r=s()(["\n  .ant-segmented.segment-line {\n    padding: 0;\n    background-color: transparent;\n    color: ",";\n    font-weight: ",";\n    border: none;\n    box-shadow: none;\n    height: ","px;\n    display: flex;\n    align-items: center;\n    .ant-segmented-group {\n      gap: 16px;\n      height: 100%;\n    }\n    .ant-segmented-item:hover {\n      color: ",";\n    }\n    .ant-segmented-thumb {\n      height: 2px;\n      padding: 0px;\n      bottom: 0px;\n      top: unset;\n      background-color: "," !important;\n    }\n    .ant-segmented-item-label {\n      display: flex;\n      align-items: center;\n      padding: 0;\n      font-size: var(--font-size-small);\n    }\n    .ant-segmented-item {\n      background-color: transparent;\n      padding-bottom: 2px;\n      display: flex;\n      align-items: center;\n      &::after {\n        background-color: "," !important;\n        width: 100%;\n        height: 0px;\n        border-radius: 2px;\n        bottom: 0px;\n        top: unset;\n        opacity: 1;\n      }\n    }\n\n    .ant-segmented-item-selected {\n      background-color: transparent;\n      box-shadow: none;\n      color: ",";\n      &::after {\n        height: 2px;\n        opacity: 1;\n      }\n    }\n  }\n  &.with-title .ant-segmented.segment-line {\n    .ant-segmented-item.ant-segmented-item-selected::after {\n      display: none;\n    }\n  }\n"])),(function(e){return e.$theme.color}),(function(e){return e.$theme.fontWeight}),(function(e){return e.$height}),(function(e){return e.$theme.itemColorHover}),(function(e){return e.$theme.thumbBgColor}),(function(e){return e.$theme.thumbBgColor}),(function(e){return e.$theme.itemSelectedColor}));n.Z=function(e){var n=e.height,t=void 0===n?32:n,r=e.size,a=void 0===r?"small":r,i=e.options,c=void 0===i?[]:i,s=e.className,d=void 0===s?"segment-line":s,v=e.theme,x=void 0===v?"dark":v,y=e.showTitle,b=void 0!==y&&y,k=l()(e,p);return(0,f.jsx)(h,{className:b?"with-title":"",$height:t,$theme:"dark"===x?m:g,children:(0,f.jsx)(u.Z,o()(o()({},k),{},{size:a,options:c,className:d}))})}},80743:function(e,n,t){var r=t(26068),a=t.n(r),o=t(53040),i=(t(75271),t(1071)),l=t(52676);n.Z=function(e){return(0,l.jsx)(i.Z,{dataList:Array(6).fill({label:"skeleton"}),renderItem:function(){return(0,l.jsx)(o.Z,a()({avatar:{size:32},paragraph:{rows:2},style:a()({border:"1px solid var(--ant-color-border)",borderRadius:"var(--border-radius-base)",padding:"16px 16px"},e.skeletonStyle)},e.skeletonProps||{}))}})}},91962:function(e,n){n.Z={xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1600}},71920:function(e,n,t){t.d(n,{d4:function(){return l}});var r=t(48305),a=t.n(r),o=(0,t(48075).oc)(),i={CREATE:["Alt+Ctrl+N","Alt+Meta+N"],CLEAR:["Alt+Ctrl+K","Alt+Meta+K"],RIGHT:["Ctrl+RIGHT","Meta+RIGHT"],SAVE:["Ctrl+S","Meta+S"],SUBMIT:["Enter","Enter"],ENTER:["Enter","Enter"],SHIFT:["Shift","Shift"],CTRL:["Ctrl","Meta"],OPTION:["Alt","Option"],SAVEAS:["Alt+Ctrl+S","Alt+Meta+S"],OPEN:["Alt+Ctrl+O","Alt+Meta+O"],UNDO:["Ctrl+Z","Meta+Z"],CANCEL:["Ctrl+W","Meta+W"],DELETE:["delete"],COPY:["Ctrl+C","Meta+C"],REFRESH:["Ctrl+R","Meta+R"],EDIT:["Ctrl+E","Meta+E"],SEARCH:["Ctrl+K","Meta+K"],RESET:["Alt+Ctrl+R","Alt+Meta+R"],INPUT:["Ctrl+K","Meta+K"],NEW1:["Ctrl+1","Meta+1"],NEW2:["Ctrl+2","Meta+2"],NEW3:["Ctrl+3","Meta+3"],NEW4:["Ctrl+4","Meta+4"],FOCUS:["/","/"],ADD:["Alt+Ctrl+Enter","Alt+Meta+Enter"],ESC:["Esc","Esc"]},l=Object.entries(i).map((function(e){var n=a()(e,2),t=n[0],r=n[1],i=o.isMac&&r[1]||r[0];return{keybinding:i,command:t,textKeybinding:o.isMac?i.replace("Meta","Cmd").replace("Alt","Option"):i.replace("Ctrl","Ctrl"),iconKeybinding:o.isMac?i.replace("Meta","⌘").replace("Alt","⌥"):i.replace("Ctrl","Ctrl")}})).reduce((function(e,n){return e[n.command]=n,e}),{});n.ZP=i},21363:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(75271);function a(){var e=r.useRef(0),n=r.useRef({}),t=r.useRef(null),a=r.useRef(null),o=r.useRef(null),i=function(){var e;t.current=null===(e=window.__GPUSTACK_BODY_SCROLLER__)||void 0===e||null===(e=e.elements())||void 0===e?void 0:e.scrollEventElement,a.current=window.__GPUSTACK_BODY_SCROLLER__},l=r.useCallback((function(){var r,o,l,c;t.current||i(),n.current=null===(r=a.current)||void 0===r?void 0:r.state();var s=null===(o=n.current)||void 0===o||null===(o=o.overflowAmount)||void 0===o?void 0:o.y;e.current=s,null===(l=a.current)||void 0===l||null===(c=l.options)||void 0===c||c.call(l,{overflow:{x:"hidden",y:"visible"}})}),[]),c=r.useCallback((function(){o.current&&clearTimeout(o.current),o.current=setTimeout((function(){var e,n;null===(e=a.current)||void 0===e||null===(n=e.options)||void 0===n||n.call(e,{overflow:{x:"hidden",y:"scroll"}})}),500)}),[]);return r.useEffect((function(){return i(),function(){t.current=null,a.current=null}}),[]),{saveScrollHeight:l,restoreScrollHeight:c,bodyScroller:t.current}}},728:function(e,n,t){t.d(n,{Z:function(){return g}});var r=t(67825),a=t.n(r),o=t(47206),i=t(53231),l=t(79635),c=t(83062),s=t(75271),u=t(25383),d=t(32699),f=t(20839);var p=t(52676),m=["children"],g=function(e){var n=e.children,t=a()(e,m),r=(0,i.useIntl)(),g=function(e){var n=e.total,t=e.current,r=e.loading,a=e.refresh,o=e.onBottom,i=e.throttleDelay,l=void 0===i?300:i,c=(0,f.YD)({threshold:.2}),p=c.ref,m=c.inView,g=(0,s.useRef)(!0),h=(0,u.Z)((0,d.throttle)((function(){r||t>=n||(null==o||o(),a(t+1))}),l));return(0,s.useEffect)((function(){if(m){if(g.current)return void(g.current=!1);h()}}),[m,h]),{observerRef:p,throttledLoadMore:h}}(t),h=g.observerRef,v=g.throttledLoadMore;return(0,p.jsxs)("div",{className:"relative",style:{width:"100%"},children:[n,(0,p.jsx)("div",{ref:h,style:{height:1},children:t.current<t.total&&(0,p.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:24},children:(0,p.jsxs)(l.ZP,{onClick:v,type:"text",size:"small",disabled:t.loading,children:[r.formatMessage({id:"common.button.more"}),(0,p.jsx)(o.Z,{rotate:90})]})})}),(0,p.jsx)(c.Z.BackTop,{visibilityHeight:1e3})]})}},60595:function(e,n,t){t.d(n,{Y:function(){return o},e:function(){return a}});var r=t(75271),a=(0,r.createContext)({}),o=function(){var e=(0,r.useContext)(a);if(!e)throw new Error("useScrollerContext must be used within a ScrollerProvider");return e}},83415:function(e,n,t){t.r(n),t.d(n,{default:function(){return ve}});var r,a,o=t(90228),i=t.n(o),l=t(26068),c=t.n(l),s=t(87999),u=t.n(s),d=t(15558),f=t.n(d),p=t(48305),m=t.n(p),g=t(77583),h=t(92829),v=t(3108),x=t(91315),y=t(21363),b=t(60595),k=t(79015),w=t(67618),_=t(53231),A=t(25383),C=t(35421),S=t(26447),E=t(32699),Z=t.n(E),j=t(75271),M=t(93699),T=t(94213),L=t(82243),N=t(53649),O=t.n(N),z=t(1071),P=t(80743),R=t(728),I=t(3246),B=t(67585),K="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAApBJREFUeF7tmzFPwkAUx+8ANZHBKImDcVAxTMbNwQ8gLn4QP4DOyOwHkNVP4KATLDiocXciIs4kqAtGsXD6ag6hQnvvpNDzXhNSEtrr/X/v/95dr5QzyzduuX5GAMgBjDEhxNHXLmcRjDJjLM85L3MQX6w4uYeGYNVGxwoG6VSMraU4y2YSeX5259Suas6KFco9IjeXYpf85LolbIm8N8jLc7EXfnD+JmyMvtRMAMgBlAJUA6gI0ihgMQHtYRCmkzuZuIsOvsNWqrTdfbHiGINUC0A2k+iKH6QUQJgCAQ0gSLwEAtPrws1H5J2AAqAqXqo2wQkoAMd7M+iIHl68o88Z5wnKAKDQ7W9PofsGaRDlu01lAFj7S1LWA4h6HVB2gG4KWF8D/g0AyGlsHYi6/UGTcgrIogYjgZz6+g0JJojXAqDiBFPEawOQEGAP6+vgCBjr5bOFKI/7XteiUwA9E4r4CQSAVoUNXBVeSMYYfOaTP0/3n5vfS5v3ddxijFEpAKLTi3FXvN9WrbeVQRgDYH0x4YrHbCogjACgI74XlB+IyAP4q/ggEJEGMErx3bXKeps9NTvuBzUTlIUH8hAqbm8jmLxUPTYM8YPcEOgAv8oLEAAGdugJghC2eHl96L8vABC/taq2DqhScYOEw++Ya6q0F3TMUAC6UQAQOhOSSYgfWgN0xXtpY1wx7sjLvv5ywKjE98KQtWJQ4VSd3QVZWff3PgBhiNft2LjO6wKwUXxfDdjdwD/2GleUwryO6wAY6oLusMLsxCTb5oVbR2DvsibZ4VFfm5dqwu4/SREAcgClANWAUVdWk9qDUcC294Xc+Ly2xOPsND+l1+ZMsmsYfSUHhEHVpDbJASZFK4y+Wu+AT2tYeGuEzy19AAAAAElFTkSuQmCC",D=t(85882),U=t(24320),G=t(25466),H=t(82187),V=t.n(H),F=t(67996),Y=t(84682),W=t(52676),X=function(e){var n,t=(0,_.useIntl)(),r=e.onClick,a=e.activeId,o=e.data,i=(0,j.useCallback)((function(){r(o)}),[o,r]);(0,j.useMemo)((function(){return(0,W.jsx)(G.Z.Paragraph,{className:"desc",ellipsis:{rows:2,tooltip:(0,W.jsx)("div",{className:"custome-scrollbar",style:{display:"flex",justifyContent:"flex-start",maxHeight:300,maxWidth:300,overflow:"auto"},children:o.description})},children:o.description})}),[o.description]);return(0,W.jsxs)("div",{onClick:i,className:V()("catalog-item",{active:a===o.id}),children:[(0,W.jsx)("div",{className:"content",children:(0,W.jsxs)("div",{className:"title",children:[(0,W.jsx)("div",{className:"img",children:(0,W.jsx)("img",{src:o.icon||K,alt:"",onError:function(e){e.target.src=K}})}),(0,W.jsx)(D.Z,{ghost:!0,children:o.name})]})}),(0,W.jsxs)("div",{className:"item-footer",children:[(0,W.jsxs)("div",{className:"update-time",children:[(0,W.jsxs)("span",{className:"flex-center",title:t.formatMessage({id:"models.catalog.release.date"}),children:[(0,W.jsx)(h.Z,{type:"icon-new_release_outlined",className:"m-r-5",style:{color:"var(--ant-color-text-secondary)"}}),o.release_date]}),(0,W.jsx)("span",{className:"flex-center",children:Z().map(o.licenses,(function(e,n){return(0,W.jsxs)("span",{className:"flex-center m-r-8",children:[(0,W.jsx)(h.Z,{type:"icon-justice1",className:"m-r-5"}),(0,W.jsx)("span",{children:e})]},e)}))})]}),(0,W.jsxs)("div",{className:"tags gap-6",children:[o.categories.map((function(e,n){var t,r,a;return(0,W.jsx)(U.Z,{icon:null===(t=Y.Y[e])||void 0===t?void 0:t.icon,className:"tag-item",color:(null===(r=Y.Y[e])||void 0===r?void 0:r.color)||"blue",opacity:.7,children:(null===(a=Z().find(F._3,{value:e}))||void 0===a?void 0:a.label)||e},e)})),(null===(n=o.capabilities)||void 0===n?void 0:n.length)>0&&o.capabilities.map((function(e,n){return(0,W.jsx)(U.Z,{className:"tag-item",color:"purple",opacity:.7,children:Z().map(Z().split(e,"/"),(function(e){return Z().split(e,"_").join(" ")})).reverse().join(" ")},e)})),(0,W.jsx)("span",{className:"dot"}),(0,W.jsx)(D.Z,{style:{borderRadius:4},children:o.activated_size?"".concat(o.size,"B-A").concat(o.activated_size,"B"):"".concat(o.size,"B")})]})]})]})},q=B.ZP.div(r||(r=O()(["\n  width: 100%;\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  top: 0;\n  left: 0;\n  max-height: 400px;\n  right: 0;\n"]))),Q=function(e){var n=e.loading,t=e.isFirst;return(0,W.jsx)("div",{children:n&&(0,W.jsx)(q,{children:(0,W.jsx)(I.Z,{spinning:n,style:{width:"100%"},wrapperClassName:"skelton-wrapper",children:t&&(0,W.jsx)(P.Z,{})})})})},$=function(e){var n=e.dataList,t=e.loading,r=e.activeId,a=e.isFirst,o=e.onDeploy,i=(0,b.Y)(),l=i.total,c=i.current,s=i.loading,u=i.refresh,d=i.throttleDelay;return(0,W.jsxs)(R.Z,{total:l,current:c,loading:s,refresh:u,throttleDelay:d,children:[(0,W.jsx)(z.Z,{dataList:n,renderItem:function(e){return(0,W.jsx)(X,{onClick:o,activeId:r,data:e})}}),(0,W.jsx)(Q,{loading:t,isFirst:a})]})},J=t(72742),ee=t(19636),ne=t(7147),te=t(73940),re=t(79635),ae=t(53672),oe=t(40562),ie=t(88797),le=t(76060),ce=t(82307),se=t(333),ue=t(84859),de=t(62029),fe={latency:"models.form.mode.latency",standard:"models.form.mode.baseline",throughput:"models.form.mode.throughput"},pe={latency:"models.form.mode.latency.tips",standard:"models.form.mode.baseline.tips",throughput:"models.form.mode.throughput.tips"},me=["env","size","source","quantization","backend_version","backend_parameters","backend","extended_kv_cache","speculative_config"],ge=B.ZP.div(a||(a=O()(["\n  display: flex;\n  flex: 1;\n  height: 100%;\n  maxwidth: 100%;\n"]))),he=function(e){var n=e||{},t=n.title,r=n.open,a=n.onOk,o=n.onCancel,l=n.source,s=n.action,d=n.current,p=n.width,g=void 0===p?600:p,h=(0,se.Eg)(),v=h.setWarningStatus,x=h.handleDoEvalute,y=h.cancelEvaluate,b=h.clearCacheFormValues,k=h.submitAnyway,w=h.handleOnValuesChange,A=h.warningStatus,S=(0,ue.ZP)(),E=S.getClusterList,M=S.getWorkerList,T=S.clusterList,N=(0,_.useIntl)(),O=(0,j.useRef)({}),z=(0,j.useState)(!1),P=m()(z,2),R=P[0],I=P[1],B=(0,j.useState)([]),K=m()(B,2),D=K[0],U=K[1],G=(0,j.useState)([]),H=m()(G,2),V=H[0],Y=H[1],X=(0,j.useRef)({}),q=(0,j.useRef)(null),Q=(0,j.useRef)({}),$=(0,j.useRef)([]),he=(0,j.useRef)(!1),ve=function(){var e=u()(i()().mark((function e(){var n,t;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!he.current){e.next=3;break}return C.ZP.error(N.formatMessage({id:"models.catalog.nogpus.tips"})),e.abrupt("return");case 3:k.current=!0,null===(n=O.current)||void 0===n||null===(t=n.submit)||void 0===t||t.call(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xe=function(e){var n=(0,le.s)(e);return c()(c()(c()({},Z().omit(Q.current,["name"])),e),n)},ye=function(e){var n;Q.current=e,null===(n=O.current)||void 0===n||n.setFieldsValue(c()(c()({},Z().omit(e,["name"])),{},{categories:Z().get(d,"categories.0",null)}))},be=function(){var e=u()(i()().mark((function e(n){return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!he.current){e.next=2;break}return e.abrupt("return");case 2:x(n);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ke=function(){var e,n=null===(e=O.current)||void 0===e?void 0:e.getFieldsValue(),t=xe(n);be(t)},we=function(){var n=u()(i()().mark((function n(t,r){var a;return i()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=c()(c()({},Z().omit(Q.current,["name"])),r),!he.current){n.next=3;break}return n.abrupt("return");case 3:null==w||w({changedValues:t,allValues:a,source:e.source});case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),_e=function(){var e=u()(i()().mark((function e(n){var t,r,a,o,l,s,u,p,m,g,h,x;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,null===(t=q.current)||void 0===t||null===(r=t.cancel)||void 0===r||r.call(t),q.current=(0,ne.$i)(),e.next=5,(0,L.qX)({id:d.id,cluster_id:n},{token:q.current.token});case 5:if(o=e.sent,l=Z().groupBy(o.items,"source"),s=null===(a=o.items)||void 0===a?void 0:a.map((function(e){return e.mode})),u=f()(new Set(s)).map((function(e){return{label:Z().get(fe,e,e||""),isBuiltIn:!!fe[e],value:e,tips:Z().get(pe,e,"")}})),X.current=l,$.current=o.items,p=Z().filter(F.YB,(function(e){return l[e.value]})),m=Z().sortBy(o.items,"size"),g=Z().find(m,(function(e){var n;return e.mode===(null===(n=u[0])||void 0===n?void 0:n.value)}))||{},Q.current=g,Y(u),U(p),ye(c()(c()({},g),{},{cluster_id:n})),h=Z().toLower(d.name).replace(/\s/g,"-")||"",O.current.setFieldValue("name",h),g.backend===oe.sk.llamaBox?I(!0):I(!1),x=xe(c()(c()({},g),{},{categories:Z().get(d,"categories.0",null),cluster_id:n,name:h})),o.items.length){e.next=26;break}return he.current=!0,v({show:!0,type:"warning",message:N.formatMessage({id:"models.catalog.nogpus.tips"})}),e.abrupt("return");case 26:he.current=!1,be(x),e.next=32;break;case 30:e.prev=30,e.t0=e.catch(0);case 32:case"end":return e.stop()}}),e,null,[[0,30]])})));return function(n){return e.apply(this,arguments)}}(),Ae=function(){var e=u()(i()().mark((function e(n){return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e(n);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Ce=function(){var e=u()(i()().mark((function e(n){var t;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=c()(c()({},Z().omit(Q.current,["name"])),n),a(t);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Se=function(){var e,n;null==o||o(),null===(e=q.current)||void 0===e||null===(n=e.cancel)||void 0===n||n.call(e)},Ee=(0,j.useMemo)((function(){return A.show&&"success"!==A.type}),[A.show,A.type]);return(0,j.useEffect)((function(){E(),M()}),[]),(0,j.useEffect)((function(){return r&&setTimeout((function(){var e,n,t,r,a,o,i,l=(i=null==T?void 0:T.find((function(e){return e.is_default})))?i.value:(null==T||null===(a=T.find((function(e){return e.state===te.Ur.Ready})))||void 0===a?void 0:a.value)||(null==T||null===(o=T[0])||void 0===o?void 0:o.value);_e(l),null===(e=O.current)||void 0===e||null===(n=e.getGPUOptionList)||void 0===n||n.call(e,{clusterId:l}),null===(t=O.current)||void 0===t||null===(r=t.getBackendOptions)||void 0===r||r.call(t,{cluster_id:l})}),100),function(){var e,n;null===(e=q.current)||void 0===e||null===(n=e.cancel)||void 0===n||n.call(e),y(),v({show:!1,title:"",message:[]})}}),[r,d]),(0,W.jsx)(ee.Z,{title:t,open:r,onClose:Se,destroyOnHidden:!0,closeIcon:!1,maskClosable:!1,keyboard:!1,width:g,footer:!1,children:(0,W.jsx)(ie.tz.Provider,{value:{sizeOptions:[],quantizationOptions:[],modeList:V,onModeChange:function(e){var n=function(e){var n=Z().find($.current,(function(n){return n.mode===e.mode}));return Q.current=n,c()(c()({},Z().pick(n,me)),{},{categories:Z().get(d,"categories.0",null)})}({mode:e,backend:O.current.getFieldValue("backend"),size:0,quantization:""});O.current.setFieldsValue(c()({},n)),ke()}},children:(0,W.jsx)(ge,{children:(0,W.jsx)(ae.Z,{styles:{container:{paddingBlock:0}},footer:(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(de.Z,{showClose:!0,onClose:function(){v({show:!1,message:""})},warningStatus:A,contentStyle:{paddingInline:"0 6px"}}),(0,W.jsx)(J.Z,{onCancel:Se,onOk:function(){var e,n;null===(e=O.current)||void 0===e||null===(n=e.submit)||void 0===n||n.call(e)},showOkBtn:!Ee,extra:Ee&&(0,W.jsx)(re.ZP,{type:"primary",onClick:ve,children:N.formatMessage({id:"models.form.submit.anyway"})}),style:{padding:"16px 24px 8px",display:"flex",justifyContent:"flex-end"}})]}),children:(0,W.jsx)(W.Fragment,{children:(0,W.jsx)(ce.Z,{fields:[],source:l,action:s,onOk:Ce,ref:O,isGGUF:R,formKey:F.$i.CATALOG,sourceDisable:!1,sourceList:D,clusterList:T,onClusterChange:Ae,onBackendChange:function(e){ke()},onSourceChange:function(e){var n=Z().get(X.current,"".concat(e,".0"),{});ye(n),ye(n),ke()},onValuesChange:we,clearCacheFormValues:b})})})})})})},ve=function(){var e=(0,_.useIntl)(),n=(0,y.Z)(),t=n.saveScrollHeight,r=n.restoreScrollHeight,a=(0,_.useNavigate)(),o=(0,j.useState)({dataList:[],loading:!1,loadend:!1,total:0,totalPage:0}),l=m()(o,2),s=l[0],d=l[1],p=(0,j.useState)({page:1,perPage:24,search:"",categories:""}),E=m()(p,2),N=E[0],O=E[1],z=(0,j.useState)({show:!1,width:600,current:{},source:F.bI.huggingface_value}),P=m()(z,2),R=P[0],I=P[1],B=(0,S.KO)(g.mj),K=m()(B,2)[1],D=(0,S.KO)(g.hl),U=m()(D,2)[1],G=j.useRef([]),H=j.useRef(""),V=f()(F._3.filter((function(e){return e.value}))),Y=(0,A.Z)(function(){var e=u()(i()().mark((function e(n){var t,r,a,o;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c()(c()({},N),n),!(s.loading||t.page>s.totalPage&&s.totalPage>0)){e.next=3;break}return e.abrupt("return");case 3:return d((function(e){return e.loading=!0,c()({},e)})),e.prev=4,r=c()({},Z().pickBy(t,(function(e){return!!e}))),e.next=8,(0,L.vx)(r);case 8:a=e.sent,o=1===t.page?a.items:Z().concat(s.dataList,a.items),d({dataList:o,loading:!1,loadend:!0,total:a.pagination.total,totalPage:a.pagination.totalPage}),O(c()(c()({},N),n)),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(4),G.current=[],d({dataList:[],loading:!1,loadend:!0,total:s.total,totalPage:s.totalPage}),O(c()(c()({},N),n));case 19:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(n){return e.apply(this,arguments)}}()),X=(0,j.useCallback)(function(){var e=u()(i()().mark((function e(n){return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(),I({show:!0,source:H.current,current:n,width:600});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[]),q=(0,j.useCallback)(function(){var n=u()(i()().mark((function n(t){var r;return i()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,L.NY)({data:c()({},Z().omit(t,["size","quantization"]))});case 3:r=n.sent,(0,k.jz)(k.Kh,!1),I(c()(c()({},R),{},{show:!1})),C.ZP.success(e.formatMessage({id:"common.message.success"})),K([r.id]),a("/models/deployments"),n.next=13;break;case 11:n.prev=11,n.t0=n.catch(0);case 13:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}(),[R]),Q=Z().debounce((function(e){Y(c()(c()({},N),{},{page:1,search:e.target.value}))}),200),J=(0,A.Z)((function(e){Y(c()(c()({},N),{},{page:e}))})),ee=function(){var e=u()(i()().mark((function e(){return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{U({source:H.current||F.bI.huggingface_value})}catch(e){}a("/models/deployments");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,j.useEffect)((function(){Y()}),[]),(0,j.useEffect)((function(){if(s.loadend){var e=function(){var e=u()(i()().mark((function e(){var n,t,r,a;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=null===(n=s.dataList)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.id,e.next=4,(0,L.qX)({id:r,cluster_id:null});case 4:a=e.sent,H.current=null==a||null===(t=a.items)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.source,e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}}),[s.loadend]),(0,W.jsxs)(T.Z,{children:[(0,W.jsx)(v.f,{showSelect:!0,selectHolder:e.formatMessage({id:"models.filter.category"}),marginBottom:22,marginTop:0,buttonText:e.formatMessage({id:"models.catalog.button.explore"}),handleSearch:function(){Y(c()(c()({},N),{},{page:1}))},handleSelectChange:function(e){Y(c()(c()({},N),{},{page:1,categories:e}))},handleClickPrimary:ee,handleInputChange:Q,selectOptions:V,buttonIcon:(0,W.jsx)(w.Z,{}),width:{input:230,select:200}}),(0,W.jsxs)(b.e.Provider,{value:{total:s.totalPage,current:N.page,loading:s.loading,refresh:J,throttleDelay:300},children:[(0,W.jsx)($,{dataList:s.dataList,loading:s.loading,onDeploy:X,activeId:-1,isFirst:!s.loadend}),(0,W.jsx)(M.Z,{loading:s.loading,loadend:s.loadend,dataSource:s.dataList,image:(0,W.jsx)(h.Z,{type:"icon-layers"}),filters:Z().omit(N,["sort_by"]),noFoundText:e.formatMessage({id:"noresult.catalog.nofound"}),title:e.formatMessage({id:"noresult.catalog.title"}),subTitle:e.formatMessage({id:"noresult.catalog.subTitle"})})]}),(0,W.jsx)(he,{open:R.show,action:x.Kd.CREATE,title:e.formatMessage({id:"models.button.deploy"}),source:R.source,width:R.width,current:R.current,onCancel:function(){I(c()(c()({},R),{},{show:!1})),r()},onOk:q})]})}},84682:function(e,n,t){t.d(n,{Y:function(){return f}});var r=t(82092),a=t.n(r),o=t(92829),i=t(34447),l=t(74363),c=t(83395),s=t(68652),u=t(67996),d=t(52676),f=a()(a()(a()(a()(a()(a()({},u.Us.reranker,{icon:(0,d.jsx)(o.Z,{type:"icon-rank1"}),color:"cyan",label:"Reranker"}),u.Us.embedding,{icon:(0,d.jsx)(o.Z,{type:"icon-cube"}),color:"magenta",label:"Embedding"}),u.Us.text_to_speech,{icon:(0,d.jsx)(o.Z,{type:"icon-sound-wave"}),color:"geekblue",label:"Text-To-Speech"}),u.Us.speech_to_text,{icon:(0,d.jsx)(i.Z,{}),color:"processing",label:"Speech-To-Text"}),u.Us.image,{icon:(0,d.jsx)(l.Z,{}),color:"orange",label:"Image"}),u.Us.llm,{icon:(0,d.jsx)(c.Z,{}),color:"green",label:"LLM"});n.Z=function(e){var n=e.categoryKey,t=e.size,r=f[n];return r?(0,d.jsx)(s.Z,{icon:r.icon,style:{height:t,margin:0,opacity:1,paddingInline:8,borderRadius:12,transform:"scale(0.9)"},color:r.color,children:r.label}):null}},67996:function(e,n,t){t.d(n,{$i:function(){return P},Ae:function(){return E},Cz:function(){return L},Db:function(){return z},G:function(){return s},OI:function(){return M},TM:function(){return x},Tx:function(){return f},UM:function(){return p},Uf:function(){return y},Us:function(){return j},V6:function(){return Z},WA:function(){return k},XI:function(){return c},Xl:function(){return g},YB:function(){return h},YK:function(){return v},ZT:function(){return u},_3:function(){return T},bI:function(){return m},bn:function(){return N},dY:function(){return A},fx:function(){return O},hg:function(){return d},i7:function(){return b},mW:function(){return C},pw:function(){return _},s0:function(){return w},tn:function(){return S}});t(48305);var r=t(82092),a=t.n(r),o=t(91315),i=t(13554),l=t(40562),c=[{title:l.sk.vllm,tips:"models.form.backend.vllm"},{title:l.sk.SGLang,tips:"models.form.backend.sglang"},{title:l.sk.ascendMindie,tips:"models.form.backend.mindie"},{title:l.sk.voxBox,tips:"models.form.backend.voxbox"}],s=[{title:{text:"models.localpath.gguf.tips.title",locale:!0},tips:"models.localpath.gguf.tips"},{title:{text:"models.localpath.shared.tips.title",locale:!0},tips:"models.localpath.chunks.tips"},{title:{text:"models.localpat.safe.tips.title",locale:!0},tips:"models.localpath.safe.tips"}],u=(a()(a()(a()(a()(a()({},l.sk.llamaBox,"llama-box"),l.sk.vllm,"vLLM"),l.sk.voxBox,"vox-box"),l.sk.ascendMindie,"Ascend MindIE"),l.sk.custom,"Custom"),a()(a()(a()(a()({},l.sk.llamaBox,{holder:"models.form.backend_parameters.llamabox.placeholder",tooltip:"models.form.backend_parameters.vllm.tips"}),l.sk.vllm,{holder:"models.form.backend_parameters.vllm.placeholder",tooltip:"models.form.backend_parameters.vllm.tips"}),l.sk.SGLang,{holder:"models.form.backend_parameters.sglang.placeholder",tooltip:""}),l.sk.voxBox,null)),d={textToSpeech:"text-to-speech",speechToText:"speech-to-text",textToText:"text-to-text",textToImage:"text-to-image",audio:"audio",image:"image"},f=a()(a()(a()(a()(a()({},d.textToSpeech,"text-to-speech"),d.speechToText,"auto-speech-recognition"),d.textToText,"TextToText"),d.textToImage,"text-to-image"),"audio",["text-to-speech","auto-speech-recognition"]),p=a()(a()(a()(a()(a()({},d.textToSpeech,"text-to-speech"),d.speechToText,"automatic-speech-recognition"),d.textToText,"text-2-text"),d.textToImage,"text-to-image"),"audio",["text-to-speech","automatic-speech-recognition"]),m={huggingface:"Hugging Face",huggingface_value:"huggingface",ollama_library:"Ollama Library",ollama_library_value:"ollama_library",modelScope:"ModelScope",modelscope_value:"model_scope",model_scope:"ModelScope",local_path:"Local Path",local_path_value:"local_path"},g=a()(a()(a()(a()({},m.huggingface_value,m.huggingface),m.ollama_library_value,m.ollama_library),m.modelscope_value,m.modelScope),m.local_path_value,m.local_path),h=[{label:"Hugging Face",value:m.huggingface_value,key:"huggingface"},{label:"ModelScope",value:m.modelscope_value,key:"model_scope"},{label:"models.form.localPath",locale:!0,value:m.local_path_value,key:"local_path"}],v={Initializing:"initializing",Starting:"starting",Pending:"pending",Running:"running",Scheduled:"scheduled",Error:"error",Downloading:"downloading",Unknown:"unknown",Analyzing:"analyzing",Unreachable:"unreachable"},x=[v.Downloading,v.Initializing,v.Starting],y=a()(a()(a()(a()(a()(a()(a()(a()(a()(a()({},v.Initializing,"Initializing"),v.Pending,"Pending"),v.Running,"Running"),v.Scheduled,"Scheduled"),v.Error,"Error"),v.Downloading,"Downloading"),v.Unknown,"Unknown"),v.Analyzing,"Analyzing"),v.Starting,"Starting"),v.Unreachable,"Unreachable"),b=a()(a()(a()(a()(a()(a()(a()(a()(a()(a()({},v.Running,o.iE.success),v.Pending,o.iE.transitioning),v.Initializing,o.iE.transitioning),v.Scheduled,o.iE.transitioning),v.Error,o.iE.error),v.Downloading,o.iE.transitioning),v.Unknown,o.iE.inactive),v.Analyzing,o.iE.transitioning),v.Starting,o.iE.transitioning),v.Unreachable,o.iE.error),k={Inactive:"stopped",Degrade:"not_ready",Active:"ready"},w=a()(a()(a()({},k.Inactive,o.iE.inactive),k.Degrade,o.iE.error),k.Active,o.iE.success),_=a()(a()(a()({},k.Inactive,"models.mymodels.status.inactive"),k.Degrade,"models.mymodels.status.degrade"),k.Active,"models.mymodels.status.active"),A={Auto:"auto",Manual:"manual",SpecificGPUType:"specific_gpu_type"},C=[{label:"models.form.scheduletype.auto",locale:!0,value:A.Auto},{label:"models.form.scheduletype.manual",value:A.Manual,locale:!0}],S=(i.Z,i.Z,i.Z,{trendingScore:"trendingScore",likes:"likes",downloads:"downloads",lastModified:"lastModified"}),E=a()(a()(a()(a()({},S.trendingScore,"Default"),S.likes,"StarsCount"),S.downloads,"DownloadsCount"),S.lastModified,"GmtModified"),Z=[{label:"Spread",value:"spread"},{label:"Binpack",value:"binpack"}],j={image:"image",text_to_speech:"text_to_speech",speech_to_text:"speech_to_text",embedding:"embedding",reranker:"reranker",llm:"llm"},M=[{label:"LLM",value:j.llm},{label:"Embedding",value:j.embedding},{label:"Reranker",value:j.reranker},{label:"Image",value:j.image},{label:"Text-to-Speech",value:j.text_to_speech},{label:"Speech-to-Text",value:j.speech_to_text}],T=[{label:"common.options.auto",value:null,locale:!0}].concat(M),L=["model_scope_model_id","huggingface_repo_id","huggingface_filename","model_scope_file_path","name","description","env","source","cluster_id","quantization","size","restart_on_error","worker_selector","backend_parameters","local_path","backend_version","ollama_library_model_name","scheduleType","placement_strategy","backend","gpu_selector.gpu_ids","run_command","image_name","extended_kv_cache.enabled","extended_kv_cache.ram_size","speculative_config.enabled","speculative_config.draft_model"],N=["categories","replicas","description"],O={replicas:1,description:"",categories:null,env:{},scheduleType:A.Auto,placement_strategy:"spread",gpu_ids:null,gpu_selector:{},worker_selector:{},backend_parameters:[],backend_version:null},z=function(e){return e===l.sk.llamaBox?{backend:"llama-box",releases:"https://github.com/gpustack/llama-box/releases",link:"https://github.com/gpustack/llama-box?tab=readme-ov-file#usage",version:"v0.0.140"}:e===l.sk.vllm?{backend:"vLLM",releases:"https://github.com/vllm-project/vllm/releases",link:"https://docs.vllm.ai/en/stable/cli/serve.html",version:"v0.8.5"}:e===l.sk.ascendMindie?{backend:"Ascend MindIE",releases:"",link:"http://docs.gpustack.ai/latest/user-guide/inference-backends/#parameters-reference_2",version:"1.0.0"}:e===l.sk.SGLang?{backend:"SGLang",releases:"",link:"https://docs.sglang.ai/advanced_features/server_arguments.html",version:"v0.5.4"}:{backend:"vox-box",releases:"https://github.com/gpustack/vox-box/releases",link:"",version:"v0.0.13"}},P=function(e){return e.DEPLOYMENT="deployment",e.CATALOG="catalog",e}({})},47067:function(e,n,t){t.d(n,{S:function(){return l}});var r=t(69287),a=t(46152);function o(e,n){var t=new Set;return e.forEach((function(e){n.has(e)||t.add(e)})),t}function i(e){var n=e||{},t=n.disabled,r=n.disableCheckbox,a=n.checkable;return!(!t&&!r)||!1===a}function l(e,n,t,l){var c,s=[];c=l||i;var u,d=new Set(e.filter((function(e){var n=!!(0,a.Z)(t,e);return n||s.push(e),n}))),f=new Map,p=0;return Object.keys(t).forEach((function(e){var n=t[e],r=n.level,a=f.get(r);a||(a=new Set,f.set(r,a)),a.add(n),p=Math.max(p,r)})),(0,r.ZP)(!s.length,"Tree missing follow keys: ".concat(s.slice(0,100).map((function(e){return"'".concat(e,"'")})).join(", "))),u=!0===n?function(e,n,t,r){for(var a=new Set(e),i=new Set,l=0;l<=t;l+=1)(n.get(l)||new Set).forEach((function(e){var n=e.key,t=e.node,o=e.children,i=void 0===o?[]:o;a.has(n)&&!r(t)&&i.filter((function(e){return!r(e.node)})).forEach((function(e){a.add(e.key)}))}));for(var c=new Set,s=t;s>=0;s-=1)(n.get(s)||new Set).forEach((function(e){var n=e.parent,t=e.node;if(!r(t)&&e.parent&&!c.has(e.parent.key))if(r(e.parent.node))c.add(n.key);else{var o=!0,l=!1;(n.children||[]).filter((function(e){return!r(e.node)})).forEach((function(e){var n=e.key,t=a.has(n);o&&!t&&(o=!1),l||!t&&!i.has(n)||(l=!0)})),o&&a.add(n.key),l&&i.add(n.key),c.add(n.key)}}));return{checkedKeys:Array.from(a),halfCheckedKeys:Array.from(o(i,a))}}(d,f,p,c):function(e,n,t,r,a){for(var i=new Set(e),l=new Set(n),c=0;c<=r;c+=1)(t.get(c)||new Set).forEach((function(e){var n=e.key,t=e.node,r=e.children,o=void 0===r?[]:r;i.has(n)||l.has(n)||a(t)||o.filter((function(e){return!a(e.node)})).forEach((function(e){i.delete(e.key)}))}));l=new Set;for(var s=new Set,u=r;u>=0;u-=1)(t.get(u)||new Set).forEach((function(e){var n=e.parent,t=e.node;if(!a(t)&&e.parent&&!s.has(e.parent.key))if(a(e.parent.node))s.add(n.key);else{var r=!0,o=!1;(n.children||[]).filter((function(e){return!a(e.node)})).forEach((function(e){var n=e.key,t=i.has(n);r&&!t&&(r=!1),o||!t&&!l.has(n)||(o=!0)})),r||i.delete(n.key),o&&l.add(n.key),s.add(n.key)}}));return{checkedKeys:Array.from(i),halfCheckedKeys:Array.from(o(l,i))}}(d,n.halfCheckedKeys,f,p,c),u}},46152:function(e,n,t){function r(e,n){return e[n]}t.d(n,{Z:function(){return r}})},51463:function(e,n,t){t.d(n,{F:function(){return b},H8:function(){return y},I8:function(){return x},km:function(){return p},oH:function(){return h},w$:function(){return m},zn:function(){return g}});var r=t(77011),a=t(91949),o=t(82983),i=t(97019),l=t(27727),c=t(91081),s=t(69287),u=t(46152),d=["children"];function f(e,n){return"".concat(e,"-").concat(n)}function p(e,n){return null!=e?e:n}function m(e){var n=e||{},t=n.title||"title";return{title:t,_title:n._title||[t],key:n.key||"key",children:n.children||"children"}}function g(e){return function e(n){return(0,l.Z)(n).map((function(n){if(!function(e){return e&&e.type&&e.type.isTreeNode}(n))return(0,s.ZP)(!n,"Tree/TreeNode can only accept TreeNode as children."),null;var t=n.key,r=n.props,a=r.children,l=(0,i.Z)(r,d),c=(0,o.Z)({key:t},l),u=e(a);return u.length&&(c.children=u),c})).filter((function(e){return e}))}(e)}function h(e,n,t){var r=m(t),o=r._title,i=r.key,l=r.children,s=new Set(!0===n?[]:n),u=[];return function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.map((function(d,m){for(var g,h=f(r?r.pos:"0",m),v=p(d[i],h),x=0;x<o.length;x+=1){var y=o[x];if(void 0!==d[y]){g=d[y];break}}var b=Object.assign((0,c.Z)(d,[].concat((0,a.Z)(o),[i,l])),{title:g,key:v,parent:r,pos:h,children:null,data:d,isStart:[].concat((0,a.Z)(r?r.isStart:[]),[0===m]),isEnd:[].concat((0,a.Z)(r?r.isEnd:[]),[m===t.length-1])});return u.push(b),!0===n||s.has(v)?b.children=e(d[l]||[],b):b.children=[],b}))}(e),u}function v(e,n,t){var o,i=("object"===(0,r.Z)(t)?t:{externalGetKey:t})||{},l=i.childrenPropName,c=i.externalGetKey,s=m(i.fieldNames),u=s.key,d=s.children,g=l||d;c?"string"==typeof c?o=function(e){return e[c]}:"function"==typeof c&&(o=function(e){return c(e)}):o=function(e,n){return p(e[u],n)},function t(r,i,l,c){var s=r?r[g]:e,u=r?f(l.pos,i):"0",d=r?[].concat((0,a.Z)(c),[r]):[];if(r){var p=o(r,u),m={node:r,index:i,pos:u,key:p,parentPos:l.node?l.pos:null,level:l.level+1,nodes:d};n(m)}s&&s.forEach((function(e,n){t(e,n,{node:r,pos:u,level:l?l.level+1:-1},d)}))}(null)}function x(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.initWrapper,r=n.processEntity,a=n.onProcessFinished,o=n.externalGetKey,i=n.childrenPropName,l=n.fieldNames,c=arguments.length>2?arguments[2]:void 0,s=o||c,u={},d={},f={posEntities:u,keyEntities:d};return t&&(f=t(f)||f),v(e,(function(e){var n=e.node,t=e.index,a=e.pos,o=e.key,i=e.parentPos,l=e.level,c={node:n,nodes:e.nodes,index:t,key:o,pos:a,level:l},s=p(o,a);u[a]=c,d[s]=c,c.parent=u[i],c.parent&&(c.parent.children=c.parent.children||[],c.parent.children.push(c)),r&&r(c,f)}),{externalGetKey:s,childrenPropName:i,fieldNames:l}),a&&a(f),f}function y(e,n){var t=n.expandedKeys,r=n.selectedKeys,a=n.loadedKeys,o=n.loadingKeys,i=n.checkedKeys,l=n.halfCheckedKeys,c=n.dragOverNodeKey,s=n.dropPosition,d=n.keyEntities,f=(0,u.Z)(d,e);return{eventKey:e,expanded:-1!==t.indexOf(e),selected:-1!==r.indexOf(e),loaded:-1!==a.indexOf(e),loading:-1!==o.indexOf(e),checked:-1!==i.indexOf(e),halfChecked:-1!==l.indexOf(e),pos:String(f?f.pos:""),dragOver:c===e&&0===s,dragOverGapTop:c===e&&-1===s,dragOverGapBottom:c===e&&1===s}}function b(e){var n=e.data,t=e.expanded,r=e.selected,a=e.checked,i=e.loaded,l=e.loading,c=e.halfChecked,u=e.dragOver,d=e.dragOverGapTop,f=e.dragOverGapBottom,p=e.pos,m=e.active,g=e.eventKey,h=(0,o.Z)((0,o.Z)({},n),{},{expanded:t,selected:r,checked:a,loaded:i,loading:l,halfChecked:c,dragOver:u,dragOverGapTop:d,dragOverGapBottom:f,pos:p,active:m,key:g});return"props"in h||Object.defineProperty(h,"props",{get:function(){return(0,s.ZP)(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),e}}),h}}}]);
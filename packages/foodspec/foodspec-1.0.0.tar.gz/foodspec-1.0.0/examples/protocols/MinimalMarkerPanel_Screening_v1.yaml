name: MinimalMarkerPanel_Screening_v1
description: RQ5 screening for compact QC panels with high discrimination.
when_to_use: "Find smallest ratio panel retaining high classification accuracy for QA."
expected_columns:
  oil_col: oil_type
  matrix_col: matrix
  heating_col: heating_stage
report_templates:
  intro: "This protocol searches for a minimal marker panel (RQ5) for fast QA."
  note: "Uses L1-logreg selection and RF CV accuracy to keep performance high with few ratios."
seed: 0
steps:
  - type: preprocess
    params:
      baseline_lambda: 100000
      baseline_p: 0.01
      smooth_window: 9
      smooth_polyorder: 3
      normalization: reference
      reference_wavenumber: 2720.0
      peaks:
        - {name: I_1742, wavenumber: 1742}
        - {name: I_1652, wavenumber: 1652}
        - {name: I_1434, wavenumber: 1434}
        - {name: I_1296, wavenumber: 1296}
        - {name: I_1259, wavenumber: 1259}
        - {name: I_2720, wavenumber: 2720}
  - type: rq_analysis
    params:
      oil_col: oil_type
      matrix_col: matrix
      heating_col: heating_stage
      random_state: 0
      n_splits: 5
      normalization_modes: [reference, vector]
      minimal_panel_target_accuracy: 0.95
      adjust_p_values: true
      enable_clustering: false
      ratios:
        - {name: 1742/2720, numerator: I_1742, denominator: I_2720}
        - {name: 1652/2720, numerator: I_1652, denominator: I_2720}
        - {name: 1434/2720, numerator: I_1434, denominator: I_2720}
        - {name: 1259/2720, numerator: I_1259, denominator: I_2720}
        - {name: 1296/2720, numerator: I_1296, denominator: I_2720}
  - type: output
    params:
      output_dir: protocol_runs

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/favicon.ico" />
    <!-- Preload is necessary because we show these images when we disconnect from the server,
    but at that point we cannot load these images from the server -->
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/gradient-yHQUC_QB.png" as="image" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/noise-60BoTA8O.png" as="image" />
    <!-- Preload the fonts -->
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/Lora-VariableFont_wght-B2ootaw-.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/PTSans-Regular-CxL0S8W7.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/PTSans-Bold-D9fedIX3.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/FiraMono-Regular-BTCkDNvf.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/FiraMono-Medium-DU3aDxX5.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/FiraMono-Bold-CLVRCuM9.ttf" as="font" crossorigin="anonymous" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta name="description" content="a marimo app" />
    <link rel="apple-touch-icon" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/apple-touch-icon.png" />
    <link rel="manifest" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/manifest.json" />

    <script data-marimo="true">
      function __resizeIframe(obj) {
        const scrollbarHeight = 20; // Max between windows, mac, and linux

        function setHeight() {
          // Guard against race condition where iframe isn't ready
          if (!obj.contentWindow?.document?.documentElement) {
            return;
          }
          const element = obj.contentWindow.document.documentElement;
          // If there is no vertical scrollbar, we don't need to resize the iframe
          if (element.scrollHeight === element.clientHeight) {
            return;
          }

          // Create a new height that includes the scrollbar height if it's visible
          const hasHorizontalScrollbar = element.scrollWidth > element.clientWidth;
          const newHeight = element.scrollHeight + (hasHorizontalScrollbar ? scrollbarHeight : 0);

          // Only update the height if it's different from the current height
          if (obj.style.height !== `${newHeight}px`) {
            obj.style.height = `${newHeight}px`;
          }
        }

        // Resize the iframe to the height of the content and bottom scrollbar height
        setHeight();

        // Resize the iframe when the content changes
        const resizeObserver = new ResizeObserver((_entries) => {
          setHeight();
        });
        // Only observe if iframe content is ready
        if (obj.contentWindow?.document?.body) {
          resizeObserver.observe(obj.contentWindow.document.body);
        }
      }
    </script>
    <marimo-filename hidden>case_study.py</marimo-filename>
    <!-- TODO(Trevor): Legacy, required by VS Code plugin. Remove when plugin is updated (see marimo/server/_templates/template.py) -->
    <marimo-version data-version="{{ version }}" hidden></marimo-version>
    <marimo-user-config data-config="{{ user_config }}" hidden></marimo-user-config>
    <marimo-server-token data-token="{{ server_token }}" hidden></marimo-server-token>
    <!-- /TODO -->
    <title>case study</title>
    <script type="module" crossorigin crossorigin="anonymous" src="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/index-3OIHLLq_.js"></script>
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/preload-helper-g1IWzEZ-.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/chunk-LvLJmgfZ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/react-XTZdWHwa.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/compiler-runtime-QczY1yfQ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useEventListener-4mpeqPxW.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/react-dom-BZDtXk6t.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/jsx-runtime-DUsrKwmN.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/Combination-D2HqSOvH.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/clsx-FpJB9huX.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/cn-Cs2e4A8T.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/menu-items-B57SjdWM.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/hotkeys-Dh4gy4JD.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/button-D8mnDDLX.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-Dj-O1Spr.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/createLucideIcon-BJ2I6csQ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/check-CWbw3kKW.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/select-CgZgQ5hV.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/multi-map-D3NvLiI9.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/chevron-right-B_qBg_RU.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dropdown-menu-Ciqx4yT-.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/tooltip-DqNvr2Rw.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_Uint8Array-BGESiCQL.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_getTag-BWqNuuwU.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_baseIsEqual-C8v2yRqO.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/jotai-D74Ef_p1.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/invariant-Amh6wt4N.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/isArrayLikeObject-BkJc8lDE.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/merge-5YNOh9ZD.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/zod-BBqism5D.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/utils-x9KlwLm7.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/requests-THIDPq-F.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/once-BxRirs3K.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/toDate-Y5T6FHPx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/isSymbol-BGkTcW3U.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/toString-DlRqgfqz.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_baseSlice-BoaxdS7L.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_hasUnicode-CNlKPr15.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useLifecycle-8fgb5Nue.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/capitalize-L9-XHPtm.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ai-model-dropdown-CO52rzQt.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/badge-Cm0WUI-_.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/use-toast-DKTyV2AR.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/constants-BmIIVBf_.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/Deferred-9HYzcD3r.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/config-CbG7e0K6.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/uuid-B8w6pjWV.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/DeferredRequestRegistry-DfLQSvoS.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/connection-B11rCPnY.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useNonce-D8CLFIrY.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/capabilities-Bdlrhekp.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/createReducer-VgoBNe3M.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-C3a_7WFa.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-0z0sEYV-.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-BzfTz_Dx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-DmruaXMM.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-DU0YrNRK.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-_bGPtAsk.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-DsSBESho.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-B2TjmP7E.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-BzDb7E9f.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/stex-C4ZxI0N3.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/cjs-Ba5CQnxe.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_arrayReduce-DdxhySYh.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/type-kFt-n-jZ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_baseProperty-D0ckTA0L.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/toNumber-GB_lFVaq.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/now-CAWn5i9V.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/debounce-Bgq-wc7M.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/toInteger-Cl1doThW.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/main-CC_mbgxK.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/cells-DoKM12vd.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/kbd-EdFdwHEs.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/renderShortcut-CLenKJO6.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useEvent-l9BzRqpK.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useDeleteCell-BDBSmjLV.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/lazy-Cbg8zRvU.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/defaultLocale-8c1ixjJ_.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/precisionRound-CQhbsDNz.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/defaultLocale-BECdiY5x.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/vega-loader.browser-DZ31-605.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/tooltip-CSAGVmjx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ErrorBoundary-6EjkHrSV.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/alert-dialog-D9SwG8oA.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dialog-BPIq0Dmw.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useDebounce-C9S6xmGh.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/numbers-BigybruE.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/SSRProvider-DlZbKHsu.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/context-CO64Gasq.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useNumberFormatter-B5HAJDUq.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/usePress-DHxqjtDm.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/input-CVoLDDk-.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ImperativeModal-ameyIrhc.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/cell-link-BiAu_8pk.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/alert-D5BMn3Et.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/links-Iv0WhyKW.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/state-i7G4J1VS.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/MarimoErrorOutput-Bh7Bgl2Z.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/copy-BS3uwoaq.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/copy-DhmkXAPp.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/copy-icon-Lyk2_Z8G.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/spinner-DpaQpaiI.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-D1pae9A2.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/focus-CyxSol0W.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/popover-DZBXSGEz.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useRunCells-DT1En-Te.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/mode-DKDAYLK9.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/purify.es-hXMlfS4W.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/RenderHTML-Dlz0Ew2i.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/table-CesNYRF-.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/tabs-BjAbB8w_.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/add-missing-import-DV1FOw9w.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useAsyncData-_-DLduEH.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useIframeCapabilities-r0LQMxAQ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/LazyAnyLanguageCodeMirror-C7KtNlRp.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/error-banner-C9tkg1MX.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/formats-C3exma5i.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useTheme-DpA-8Qyy.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/en-US-Lc4gASCJ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/isValid-Cd_L_2Pm.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/maps-D4abje2p.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/shim-D-ElLTBO.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/download-CCvBQ7qL.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/extends-C2lJEiP_.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/emotion-is-prop-valid.esm-c4A1huxA.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useDateFormatter-BMdQ9MI_.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/katex-BmfUoCWW.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/marked.esm-idL59iHw.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/chunk-T7OEMACY-CdGEwedE.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/range-Bbli-TEL.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/table-kHJ0xpFt.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/Output-DxdWGPFi.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/name-cell-input-C6ZYU6mN.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useHotkey-B0ylhc2m.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-CqHWOZu2.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-BcLYYUSi.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-BVXr6b5T.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-BrEX5EQl.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-CalRK9ms.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-Cc4T7UUX.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-D3MC5WiF.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-DgaCIZAa.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-rqHtY98i.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-tj-jaP-y.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-w7c0BKrD.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-CCZcRJI9.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-CrDb6akR.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/apl-BQt6lLuE.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/asciiarmor-BjX7bs0j.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/asn1-xn1MtyoW.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/brainfuck-BjO-UY1i.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/clike-DW9tQWfF.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/clojure-BSW96HRx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/cmake-C7UlMfz3.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/cobol-CyWIev3Y.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/coffeescript-DTvziYTK.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/commonlisp-yMdkdGMi.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/crystal-BGnoSp3z.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/css-D7fWzevp.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/cypher-Cr1dl0Qf.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/d-C2bS5bA6.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/diff-B2mHQyn6.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dtd-Cy-lUE7p.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dylan-mm60grwk.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ecl-Cqi05Wy1.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/eiffel-FkvfLQq7.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/elm-Da5txHw0.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/erlang-CdnCEH5x.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/simple-mode-B185hCuE.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/factor-CamlR8EJ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/forth-UcMX0m31.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/fortran-DZ_vNVsP.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/gas-CM88o6Zj.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/gherkin-BhrpTeN9.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/groovy-BFju68Wx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/haskell-CrWHY4et.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/haxe-1eKW-tbO.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/idl-Do4AwvU2.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/javascript-CTXZKRYd.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/julia-BRynwHI4.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/livescript-ZmIBNA-I.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/lua-mUfZ-MRC.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/mathematica-Dil5dTHO.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/mbox-Dnkn9wSr.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/mirc-auEWieOB.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/mllike-xVJsauJ8.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/modelica-B8kajVDm.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/mscgen-Bsnta1jn.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/mumps-CMw16b5q.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/nsis-DwPdi8sw.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ntriples-O5lQxirn.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/octave-CMfAar-E.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/oz-CLRI9Qww.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/pascal-D2M_3HBx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/perl-B8lV7aKt.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/pig-Bima2bfE.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/powershell-v_t41ydu.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/properties-ChrStSby.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/protobuf-Bin6kmlf.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/pug-UWVdYLYW.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/puppet-DYrtWvYn.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/python-BuKrulde.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/q-CrXUTiVN.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/r-Bk2Tiso2.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/rpm-CmmZphz3.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ruby-ElyOTVeQ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/sas-jE3ZlG0K.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/scheme-CZF1tRbv.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/shell-LqT3ZqMa.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/sieve-y15yT7Pp.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/smalltalk-pk5PvsMs.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/sparql-DTZ_gfPQ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/stylus-CrGj0eNT.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/swift-tt3PlBbI.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/tcl-1P4b0GMJ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/textile-BHDIuMYh.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/toml-C8qoqk_i.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/troff-DMiF5Zmz.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ttcn-cfg-qLZtNU-E.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ttcn-BAUp3RZn.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/turtle-BizIwmKv.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/vb-Bn_uCxNL.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/vbscript-BTKW8Atx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/velocity-CcB05fpi.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/verilog-BWdtOJH8.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/vhdl-CzFOaOHx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/webidl-DDEKCqSy.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/xquery-BcF6ZhQP.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/yacas-BARQAiXa.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/z80-DO_Ep0iT.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/esm-DnNh7vdQ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/objectWithoutPropertiesLoose-DDabolgJ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/esm-Crqxhl3F.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/trash-Df8Wb7xS.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ConsoleOutput-D8ETq-cc.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/icons-BgmgMjOV.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/blob-LiDbeYko.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/add-cell-with-ai-85tnyxYo.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/chart-no-axes-column-BrQ3B3xc.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/square-function-D5EEjILG.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/spec-DpllSlJD.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useInstallPackage-BaAhpZlP.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/column-preview-DGBk0umL.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useAddCell-DYfGo4T8.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/toggle-PGHtwx2G.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/api-CoLss8_O.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/globals-oV9pRUSB.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/share-DjbnD3WE.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/memoize-DN0TMY36.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/get-CyLJYAfP.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_baseSet-CKSmZC_I.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/utilities.esm-DvrcU9Ky.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/floating-outline-DmCT2Mvg.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/eye-off-BUwXWtH0.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/plus-CiGrWbgb.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/readonly-python-code-CkaJ4Tks.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/file-video-camera-BGBfFNDn.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/file-text-O5IflCIn.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/file-CqXxt3_J.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/types-BMriRmf-.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/label-4Nancvon.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/textarea-BnZHy5Jt.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/circle-x-Cc9X6U_B.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/refresh-ccw-aU2rUkrI.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/trash-2-Du5ITnDv.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/form-600t_Civ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/field-Dov6YyOV.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/switch-Ct8mUApv.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useBoolean-Dmwks1uh.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useDeepCompareMemoize-C8RdAYFq.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/types-D0WVpW93.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/prop-types-WJwGTMoZ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/es-DAmFxw3U.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/VisuallyHidden-RqykLBKh.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_baseFlatten-rM2FaX4x.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/hasIn-CE-pxQP-.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_basePickBy-LbasZ8ix.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/pick-FbHfDtcJ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/send-LAFRRDPT.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/code-xml-DdSOsi73.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/download-Dmmu2U4a.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/globe-vMZtva7z.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/refresh-cw-BOc7UXm9.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/settings-DznrHqbd.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/square-DhlBDqyx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/triangle-alert-Bf1kg4xT.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-DL3W3q-2.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/bundle.esm-C-9IAWQU.js">
    <link rel="stylesheet" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/cells-wU8qigWB.css">
    <link rel="stylesheet" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/Output-DUep6sC9.css">
    <link rel="stylesheet" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ConsoleOutput-BFFTcC5Y.css">
    <link rel="stylesheet" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/index-CJU5NUvF.css">

<script data-marimo="true">
    window.__MARIMO_STATIC__ = {};
    window.__MARIMO_STATIC__.files = {};
</script>
</head>
  <body>
    <div id="root"></div>
    <!-- This is a portal for the data editor to render in -->
    <div id="portal" data-testid="glide-portal" style="position: fixed; left: 0; top: 0; z-index: 9999"></div>
    <script data-marimo="true">
      window.__MARIMO_MOUNT_CONFIG__ = {
            "filename": "case_study.py",
            "mode": "read",
            "version": "0.18.4",
            "serverToken": "static",
            "config": {"ai": {"models": {"custom_models": [], "displayed_models": []}}, "completion": {"activate_on_typing": true, "copilot": false}, "diagnostics": {"sql_linter": true}, "display": {"cell_output": "below", "code_editor_font_size": 14, "dataframes": "rich", "default_table_max_columns": 50, "default_table_page_size": 10, "default_width": "medium", "reference_highlighting": false, "theme": "light"}, "formatting": {"line_length": 79}, "keymap": {"overrides": {}, "preset": "default"}, "language_servers": {"pylsp": {"enable_flake8": false, "enable_mypy": true, "enable_pydocstyle": false, "enable_pyflakes": false, "enable_pylint": false, "enable_ruff": true, "enabled": false}}, "mcp": {"mcpServers": {}, "presets": []}, "package_management": {"manager": "pip"}, "runtime": {"auto_instantiate": false, "auto_reload": "off", "default_sql_output": "auto", "on_cell_change": "autorun", "output_max_bytes": 8000000, "reactive_tests": true, "std_stream_max_bytes": 1000000, "watcher_on_save": "lazy"}, "save": {"autosave": "after_delay", "autosave_delay": 1000, "format_on_save": false}, "server": {"browser": "default", "follow_symlink": false}, "snippets": {"custom_paths": [], "include_default_snippets": true}},
            "configOverrides": {},
            "appConfig": {"sql_output": "auto", "width": "medium"},
            "view": {"showAppCode": true},
            "notebook": {"cells": [{"code": "import marimo as mo", "code_hash": "1d0db38904205bec4d6f6f6a1f6cec3e", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "Hbol", "name": "_"}, {"code": "mo.md(r\"\"\"\n# Case Study: Structured Crisis Tweet Analysis\n\nThis notebook demonstrates how to use `sieves` to build a structured information extraction pipeline. We'll use a **toy example** involving crisis-related tweets to show how `sieves` can help sift through unstructured text to identify relevant events and extract key entities.\n\"\"\")", "code_hash": "cf6e7ed6701c00b09cdf6c9378de3649", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "MJUe", "name": "_"}, {"code": "mo.md(r\"\"\"\nThe goal is to build a multi-stage filter (a sieve, if you will) that:\n1. **Classifies** if a tweet is relevant.\n2. **Extracts** the crisis type and location **only if** it's relevant.\n\nThis conditional orchestration allows for efficient processing and reduced noise.\n\"\"\")", "code_hash": "d01f5615c05a88e935e3ace40c4983d3", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "vblA", "name": "_"}, {"code": "mo.md(r\"\"\"\n## Downloading the Data\n\n\nWe'll first download a [dataset](https://crisisnlp.qcri.org/data/lrec2016/labeled_cf/CrisisNLP_labeled_data_crowdflower_v2.zip) from https://crisisnlp.qcri.org/.\n\"\"\")", "code_hash": "39d17bafe1adee72f39ec5bcc85758e4", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "bkHC", "name": "_"}, {"code": "import urllib.request\nimport zipfile\nfrom pathlib import Path\nimport shutil\n\nurl = \"https://crisisnlp.qcri.org/data/lrec2016/labeled_cf/CrisisNLP_labeled_data_crowdflower_v2.zip\"\nzip_path = Path(\"CrisisNLP_dataset.zip\")\ndata_dir = Path(\"CrisisNLP\")\n\nif not zip_path.exists():\n    urllib.request.urlretrieve(url, str(zip_path))\n\nwith zipfile.ZipFile(str(zip_path), 'r') as z:\n    z.extractall(\".\")\n\nextracted = Path(\"CrisisNLP_labeled_data_crowdflower\")\ndata_dir.mkdir(exist_ok=True)\nfor item in extracted.iterdir():\n    target = data_dir / item.name\n    if not target.exists():\n        item.rename(target)\nshutil.rmtree(extracted)", "code_hash": "574c03b87682dde48ad53cc8d6c88193", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "lEQa", "name": "_"}, {"code": "mo.md(r\"\"\"\nNext we'll load the data into memory and preprocess it.\n\"\"\")", "code_hash": "dd71fc4d79e7bd9ee65ed3fde01b6099", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "PKri", "name": "_"}, {"code": "import pandas as pd\nimport os\n\ndata: pd.DataFrame = pd.DataFrame()\n\nfor file in os.listdir(\"CrisisNLP\"):\n    if os.path.isdir(os.path.join(\"CrisisNLP\", file)):\n        for file_ in os.listdir(os.path.join(\"CrisisNLP\", file)):\n\n            if file_.endswith(\".tsv\"):\n                data_ = pd.read_csv(os.path.join(\"CrisisNLP\", file, file_), sep=\"\\t\")\n                if len(data_) == 0:\n                    continue\n\n                data_[\"dataset\"] = file.split(\"_\")[1]\n                crisis_type = file.split(\"_\")[2]\n                if crisis_type == 'eq':\n                    crisis_type = 'Earthquake'\n                elif crisis_type in ('Odile', 'Pam', 'Typhoon'):\n                    crisis_type = 'Hurrican'\n                elif crisis_type in ('ebola', 'cf', 'East'):\n                    crisis_type = 'Diseases'\n                elif crisis_type == 'floods':\n                    crisis_type = 'Floods'\n                data_[\"crisis_type\"] = crisis_type\n                data = pd.concat([data, data_])", "code_hash": "8f615c01fd27d57e469305f8e1206239", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "Xref", "name": "_"}, {"code": "mo.md(r\"\"\"\n### Data Exploration\n\nWe'll load the CrisisNLP dataset, which contains tweets labeled by humans across different disaster types. This \"gold\" data allows us to evaluate our automated pipeline later.\n\"\"\")", "code_hash": "1b501c427c0af3a6b967b5e693c080db", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "SFPL", "name": "_"}, {"code": "mo.ui.table(data.head(100), label=\"CrisisNLP Dataset Preview\")", "code_hash": "dacedcedc64ab127b591b3b6c90f71c3", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "BYtC", "name": "_"}, {"code": "# Quick summary of the dataset\nsummary = {\n    \"Total Tweets\": len(data),\n    \"Crisis Types\": data.crisis_type.unique().tolist(),\n    \"Labels\": data.label.unique().tolist()\n}\nsummary", "code_hash": "6e0de67906f8ee8d484c41021226229d", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "RGSE", "name": "_"}, {"code": "mo.md(r\"\"\"\nNow we'll convert the data into `sieves` documents, which will allow us to process them. We'll also sample down the data to cut down the time we need for processing the data.\n\"\"\")", "code_hash": "e3f437e0b53007cd63133ee282bb4280", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "Kclp", "name": "_"}, {"code": "from sieves import Doc\nfrom sieves.tasks.predictive.classification import ResultSingleLabel\nimport random\n\n# We down-sample our dataset to avoid long processing times.\ndata_sampled = data.sample(n=100)\n\ndocs = [\n    Doc(\n        uri=f\"tweet_{row['tweet_id']}\",\n        text=row['tweet_text'],\n        meta={\n            'tweet_id': row['tweet_id'],\n            'dataset': row['dataset'],\n        },\n        # We store ground truth in .gold per task ID, so we can evaluate our pipeline performance later.\n        gold={\n            \"crisis_label_classifier\":  row['label'],\n            \"crisis_type_classifier\": row['crisis_type']\n        }\n    )\n    for idx, row in data_sampled.iterrows()\n]\n\nprint(f\"Created {len(docs)} docs.\")\nprint(f\"\\nSample doc:\")\nprint(f\"Tweet: {docs[0].text[:100]}...\")\nprint(f\"Metadata: {docs[0].meta}\")\nprint(f\"Ground truth: {docs[0].gold}\")", "code_hash": "8e1fb64117368bb9bfd46c4c9a9b87f6", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "emfo", "name": "_"}, {"code": "mo.md(r\"\"\"\n## Setting up the Pipeline\n\nA `sieves` pipeline is composed of tasks. We'll use:\n1. **ClassificationTask**: To filter for relevance and identify crisis types.\n2. **InformationExtractionTask**: To extract structured entities (Locations) using Pydantic models.\n\n### Conditional Orchestration\nWe only want to run the expensive extraction tasks on tweets that are actually related to a crisis. `sieves` allows us to define a `condition` function that acts as a gatekeeper.\n\"\"\")", "code_hash": "404fafde2742443673dca889e9ba344a", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "Hstk", "name": "_"}, {"code": "import dspy\n\n# We use a lightweight model for this demonstration\nmodel = dspy.LM(\n    \"openrouter/google/gemini-2.5-flash-lite-preview-09-2025\",\n    api_base=\"https://openrouter.ai/api/v1\",\n    api_key=os.environ['OPENROUTER_API_KEY'],\n)\n\n# Batching improves throughput by processing multiple docs in a single prompt\nbatch_size = 10", "code_hash": "23e2bb4c8f4e889d097b38853635ab23", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "nWHF", "name": "_"}, {"code": "mo.md(r\"\"\"\nLet's create a task predicting tweet labels, one of which indicates whether the tweet is being relevant to any crisis:\n\"\"\")", "code_hash": "53bce68662bad7ee5c291f6c94c8e18e", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "iLit", "name": "_"}, {"code": "from sieves import tasks\n\ncrisis_label_classifier = tasks.Classification(\n    task_id=\"crisis_label_classifier\",\n    labels=data_sampled.label.unique(),\n    mode='single',\n    model=model,\n    batch_size=batch_size,\n)", "code_hash": "70876c743126f15f523ef81c3626c8fd", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "ZHCJ", "name": "_"}, {"code": "mo.md(r\"\"\"\n### Defining the \"Gatekeeper\"\nThe `related_to_crisis` function checks the output of the first classifier. If the tweet isn't relevant or the confidence is too low, subsequent tasks in the pipeline will be skipped for that document.\n\"\"\")", "code_hash": "7f3478b68eea19bd7bc2b9150957ed5b", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "ROlb", "name": "_"}, {"code": "def related_to_crisis(doc: Doc) -\u003E bool:\n    \"\"\"Checks if the tweet is relevant enough to proceed with further extraction.\"\"\"\n    result = doc.results.get(\"crisis_label_classifier\")\n    if not result:\n        return False\n    return result.label != 'not_related_or_irrelevant' and result.score \u003E= .6\n\n\ncrisis_type_classifier = tasks.Classification(\n    task_id=\"crisis_type_classifier\",\n    labels=data_sampled.crisis_type.unique(),\n    mode='single',\n    model=model,\n    condition=related_to_crisis,\n    batch_size=batch_size,\n)", "code_hash": "8b949f99f7c2fb97c386d08932fe58f4", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "qnkX", "name": "_"}, {"code": "mo.md(r\"\"\"\n### Schema-Driven Information Extraction\nBy using Pydantic models, we ensure that the LLM output is parsed into a structured object. This makes the data immediately useful for downstream applications.\n\"\"\")", "code_hash": "ebe95d428514c19b345d9039bd3cd825", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "TqIu", "name": "_"}, {"code": "import pydantic\nfrom typing import Literal\n\n\nclass Country(pydantic.BaseModel, frozen=True):\n    name: str | None = pydantic.Field(\n        description=\"The name of the country mentioned in the tweet, if any.\"\n    )", "code_hash": "0ade70ff77a2628550a94f90f75892b8", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "Vxnm", "name": "_"}, {"code": "mo.md(r\"\"\"\nHaving the entity types defined, we can proceed to define our tasks. We'll reuse the conditional check from before that allows us to skip irrelevant tweets.\n\"\"\")", "code_hash": "ba373185f5f9c1693dcb46e49ec10323", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "DnEU", "name": "_"}, {"code": "location_extractor = tasks.InformationExtraction(\n    task_id=\"location_extractor\",\n    entity_type=Country,\n    model=model,\n    mode='single',\n    batch_size=batch_size,\n    condition=related_to_crisis\n)", "code_hash": "715dcf3b7c83fd1f99cc9bec9ee61ed8", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "ulZA", "name": "_"}, {"code": "mo.md(r\"\"\"\nFinally we can combine four tasks into a pipeline:\n\"\"\")", "code_hash": "2d490e0d7d75e5b0cd3983a52497fbb0", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "ecfG", "name": "_"}, {"code": "pipeline = (\n    crisis_label_classifier +\n    crisis_type_classifier +\n    location_extractor\n)", "code_hash": "5aa542869c421252de53842c5bf361d9", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "Pvdt", "name": "_"}, {"code": "mo.md(r\"\"\"\n## Evaluating Results\n\n### Running the Pipeline\n\nEverything is in place, so we run our pipeline and collect results:\n\"\"\")", "code_hash": "a49ae09a39f97e33280a43ef576ee732", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "ZBYS", "name": "_"}, {"code": "results = list(pipeline(docs))", "code_hash": "b306c7fc2a517de82f7821d70ea9db64", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "aLJB", "name": "_"}, {"code": "from typing import Any\n\n# Flatten results for display in a table\ndisplay_results: list[dict[str, Any]] = []\nfor doc in results:\n    display_results.append({\n        \"Tweet\": doc.text[:100] + \"...\",\n        \"Label\": doc.results.get('crisis_label_classifier').label if doc.results.get('crisis_label_classifier') else \"N/A\",\n        \"Type\": doc.results.get('crisis_type_classifier').label if doc.results.get('crisis_type_classifier') else \"Skipped\",\n        \"Location\": doc.results.get('location_extractor').entity.name if doc.results.get('location_extractor') and doc.results.get('location_extractor').entity else \"None/Skipped\"\n    })", "code_hash": "a6fca82f7a5c04531b66f1196dd83993", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "nHfw", "name": "_"}, {"code": "mo.ui.table(display_results)", "code_hash": "d62747789cb5d18a82c091c06643ba45", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "xXTn", "name": "_"}, {"code": "mo.md(r\"\"\"\n### Evaluating Pipeline Reliability\n\nIn a real-world scenario, we need to know if we can trust our automated extraction. By comparing our pipeline's \"Predicted\" results against the \"Gold\" human labels, we can calculate metrics like Accuracy and F1 Score.\n\nWe do this by running the inbuilt evaluation functionality. Note that we don't have ground truth for the location extraction, so we'll ignore this task in our evaluation.\n\"\"\")", "code_hash": "7db96866701be7f66ba772c608799a29", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "AjVT", "name": "_"}, {"code": "from pprint import pprint\n\neval_report = pipeline.evaluate(results)\nfor task_id in eval_report.reports:\n    pprint(eval_report[task_id].summary())", "code_hash": "5ec25e7ca92ff13d14327ad1df10ec37", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "pHFh", "name": "_"}, {"code": "mo.md(r\"\"\"\nThat seems quite fine for `crisis_type`, and not so great for `crisis_label` - the mediocre performance for labels is probably because there are quite a few of them (15) and the model has difficulties telling them apart.\n\nLet's inspect the errors - hopefully we can learn from to improve our pipeline (or maybe even find mistakes in the gold data!):\n\"\"\")", "code_hash": "50a257d1ab65751c96808de2b76453ff", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "NCOB", "name": "_"}, {"code": "from sklearn.metrics import f1_score, accuracy_score, recall_score\n\nerrors: list[dict[str, str | float]] = []\n\nfor tid in (\"crisis_label_classifier\", \"crisis_type_classifier\"):\n    for failed_pred in eval_report[tid].failures:\n        pred = failed_pred.results[tid]\n        errors.append({\n            \"Task\": tid,\n            \"Text\": failed_pred.text,\n            \"Gold\": failed_pred.gold[tid],\n            \"Predicted\": pred.label if pred else pred,\n        })\n\nmo.ui.table(errors)", "code_hash": "ef800739959fbc50614773e127b44e76", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "aqbW", "name": "_"}, {"code": "", "code_hash": null, "config": {"column": null, "disabled": false, "hide_code": true}, "id": "TRpd", "name": "_"}], "metadata": {"marimo_version": "0.18.4"}, "version": "1"},
            "session": {"cells": [{"code_hash": "1d0db38904205bec4d6f6f6a1f6cec3e", "console": [], "id": "Hbol", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "cf6e7ed6701c00b09cdf6c9378de3649", "console": [], "id": "MJUe", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch1 id=\"case-study-structured-crisis-tweet-analysis\"\u003ECase Study: Structured Crisis Tweet Analysis\u003C/h1\u003E\n\u003Cspan class=\"paragraph\"\u003EThis notebook demonstrates how to use \u003Ccode\u003Esieves\u003C/code\u003E to build a structured information extraction pipeline. We'll use a \u003Cstrong\u003Etoy example\u003C/strong\u003E involving crisis-related tweets to show how \u003Ccode\u003Esieves\u003C/code\u003E can help sift through unstructured text to identify relevant events and extract key entities.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "d01f5615c05a88e935e3ace40c4983d3", "console": [], "id": "vblA", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003EThe goal is to build a multi-stage filter (a sieve, if you will) that:\u003C/span\u003E\n\u003Col\u003E\n\u003Cli\u003E\u003Cstrong\u003EClassifies\u003C/strong\u003E if a tweet is relevant.\u003C/li\u003E\n\u003Cli\u003E\u003Cstrong\u003EExtracts\u003C/strong\u003E the crisis type and location \u003Cstrong\u003Eonly if\u003C/strong\u003E it's relevant.\u003C/li\u003E\n\u003C/ol\u003E\n\u003Cspan class=\"paragraph\"\u003EThis conditional orchestration allows for efficient processing and reduced noise.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "39d17bafe1adee72f39ec5bcc85758e4", "console": [], "id": "bkHC", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch2 id=\"downloading-the-data\"\u003EDownloading the Data\u003C/h2\u003E\n\u003Cspan class=\"paragraph\"\u003EWe'll first download a \u003Ca href=\"https://crisisnlp.qcri.org/data/lrec2016/labeled_cf/CrisisNLP_labeled_data_crowdflower_v2.zip\" rel=\"noopener noreferrer\" target=\"_blank\"\u003Edataset\u003C/a\u003E from \u003Ca href=\"https://crisisnlp.qcri.org/\" rel=\"noopener noreferrer\" target=\"_blank\"\u003Ehttps://crisisnlp.qcri.org/\u003C/a\u003E.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "574c03b87682dde48ad53cc8d6c88193", "console": [], "id": "lEQa", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "dd71fc4d79e7bd9ee65ed3fde01b6099", "console": [], "id": "PKri", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003ENext we'll load the data into memory and preprocess it.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "8f615c01fd27d57e469305f8e1206239", "console": [], "id": "Xref", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "1b501c427c0af3a6b967b5e693c080db", "console": [], "id": "SFPL", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch3 id=\"data-exploration\"\u003EData Exploration\u003C/h3\u003E\n\u003Cspan class=\"paragraph\"\u003EWe'll load the CrisisNLP dataset, which contains tweets labeled by humans across different disaster types. This \"gold\" data allows us to evaluate our automated pipeline later.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "dacedcedc64ab127b591b3b6c90f71c3", "console": [], "id": "BYtC", "outputs": [{"data": {"text/html": "\u003Cmarimo-ui-element object-id='BYtC-0' random-id='bea04448-50c7-fb3e-d94f-3484f2bd902e'\u003E\u003Cmarimo-table data-initial-value='[]' data-label='\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;CrisisNLP Dataset Preview\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;' data-data='\u0026quot;[{\u0026#92;\u0026quot;\u0026#92;\u0026quot;:0,\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:0,\u0026#92;\u0026quot;tweet_id\u0026#92;\u0026quot;:\u0026#92;\u0026quot;\u0026#x27;592326564110585856\u0026#x27;\u0026#92;\u0026quot;,\u0026#92;\u0026quot;tweet_text\u0026#92;\u0026quot;:\u0026#92;\u0026quot;RT @divyaconnects: Reached #Kathmandu finally! Lots of Indians stranded at the airport #NepalQuake @BBCHindi http://t.co/fRpbU9aCKZ\u0026#92;\u0026quot;,\u0026#92;\u0026quot;label\u0026#92;\u0026quot;:\u0026#92;\u0026quot;other_useful_information\u0026#92;\u0026quot;,\u0026#92;\u0026quot;dataset\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Nepal\u0026#92;\u0026quot;,\u0026#92;\u0026quot;crisis_type\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Earthquake\u0026#92;\u0026quot;},{\u0026#92;\u0026quot;\u0026#92;\u0026quot;:1,\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:1,\u0026#92;\u0026quot;tweet_id\u0026#92;\u0026quot;:\u0026#92;\u0026quot;\u0026#x27;592616512642420737\u0026#x27;\u0026#92;\u0026quot;,\u0026#92;\u0026quot;tweet_text\u0026#92;\u0026quot;:\u0026#92;\u0026quot;fears for Foreigners missing in Nepal earthquake as death toll soars:\u0026#92;\u0026quot;,\u0026#92;\u0026quot;label\u0026#92;\u0026quot;:\u0026#92;\u0026quot;missing_trapped_or_found_people\u0026#92;\u0026quot;,\u0026#92;\u0026quot;dataset\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Nepal\u0026#92;\u0026quot;,\u0026#92;\u0026quot;crisis_type\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Earthquake\u0026#92;\u0026quot;},{\u0026#92;\u0026quot;\u0026#92;\u0026quot;:2,\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:2,\u0026#92;\u0026quot;tweet_id\u0026#92;\u0026quot;:\u0026#92;\u0026quot;\u0026#x27;592686635520827393\u0026#x27;\u0026#92;\u0026quot;,\u0026#92;\u0026quot;tweet_text\u0026#92;\u0026quot;:\u0026#92;\u0026quot;RT @ParisBurned: 3,700 people dead is absolutely devastating for a country that is the size of Oklahoma on the map. #Nepal\u0026#92;\u0026quot;,\u0026#92;\u0026quot;label\u0026#92;\u0026quot;:\u0026#92;\u0026quot;injured_or_dead_people\u0026#92;\u0026quot;,\u0026#92;\u0026quot;dataset\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Nepal\u0026#92;\u0026quot;,\u0026#92;\u0026quot;crisis_type\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Earthquake\u0026#92;\u0026quot;},{\u0026#92;\u0026quot;\u0026#92;\u0026quot;:3,\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:3,\u0026#92;\u0026quot;tweet_id\u0026#92;\u0026quot;:\u0026#92;\u0026quot;\u0026#x27;593301431366635520\u0026#x27;\u0026#92;\u0026quot;,\u0026#92;\u0026quot;tweet_text\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Earthquake in Nepal - Please help Kapil #crowdfunding fundrazr Support and Retweet http://t.co/mFEyQ85js9 via MechanismOfWar\u0026#92;\u0026quot;,\u0026#92;\u0026quot;label\u0026#92;\u0026quot;:\u0026#92;\u0026quot;donation_needs_or_offers_or_volunteering_services\u0026#92;\u0026quot;,\u0026#92;\u0026quot;dataset\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Nepal\u0026#92;\u0026quot;,\u0026#92;\u0026quot;crisis_type\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Earthquake\u0026#92;\u0026quot;},{\u0026#92;\u0026quot;\u0026#92;\u0026quot;:4,\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:4,\u0026#92;\u0026quot;tweet_id\u0026#92;\u0026quot;:\u0026#92;\u0026quot;\u0026#x27;592590231519555584\u0026#x27;\u0026#92;\u0026quot;,\u0026#92;\u0026quot;tweet_text\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Nepal\u0026#92;\u0026#92;u2019s Slowing Economy Set for Freefall Without World\u0026#92;\u0026#92;u2019s Help http://t.co/KSzIMVHGQf via @business\u0026#92;\u0026quot;,\u0026#92;\u0026quot;label\u0026#92;\u0026quot;:\u0026#92;\u0026quot;other_useful_information\u0026#92;\u0026quot;,\u0026#92;\u0026quot;dataset\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Nepal\u0026#92;\u0026quot;,\u0026#92;\u0026quot;crisis_type\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Earthquake\u0026#92;\u0026quot;},{\u0026#92;\u0026quot;\u0026#92;\u0026quot;:5,\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:5,\u0026#92;\u0026quot;tweet_id\u0026#92;\u0026quot;:\u0026#92;\u0026quot;\u0026#x27;592637329786830848\u0026#x27;\u0026#92;\u0026quot;,\u0026#92;\u0026quot;tweet_text\u0026#92;\u0026quot;:\u0026#92;\u0026quot;RT @cuteinsan: In this horrible situation in nepal our God  @Gurmeetramrahim  can help pita ji they really need your simpathy #MSGHelpEarth\u0026#92;\u0026#92;u2026\u0026#92;\u0026quot;,\u0026#92;\u0026quot;label\u0026#92;\u0026quot;:\u0026#92;\u0026quot;sympathy_and_emotional_support\u0026#92;\u0026quot;,\u0026#92;\u0026quot;dataset\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Nepal\u0026#92;\u0026quot;,\u0026#92;\u0026quot;crisis_type\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Earthquake\u0026#92;\u0026quot;},{\u0026#92;\u0026quot;\u0026#92;\u0026quot;:6,\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:6,\u0026#92;\u0026quot;tweet_id\u0026#92;\u0026quot;:\u0026#92;\u0026quot;\u0026#x27;592955183753203715\u0026#x27;\u0026#92;\u0026quot;,\u0026#92;\u0026quot;tweet_text\u0026#92;\u0026quot;:\u0026#92;\u0026quot;VIDEO REPORT Kathmandu overwhelmed by rubble after earthquake http://t.co/cYrAbG1OxZ Over 3000 dead, 6,500 plus injured #NepalEarthquake\u0026#92;\u0026quot;,\u0026#92;\u0026quot;label\u0026#92;\u0026quot;:\u0026#92;\u0026quot;injured_or_dead_people\u0026#92;\u0026quot;,\u0026#92;\u0026quot;dataset\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Nepal\u0026#92;\u0026quot;,\u0026#92;\u0026quot;crisis_type\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Earthquake\u0026#92;\u0026quot;},{\u0026#92;\u0026quot;\u0026#92;\u0026quot;:7,\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:7,\u0026#92;\u0026quot;tweet_id\u0026#92;\u0026quot;:\u0026#92;\u0026quot;\u0026#x27;593831023286288386\u0026#x27;\u0026#92;\u0026quot;,\u0026#92;\u0026quot;tweet_text\u0026#92;\u0026quot;:\u0026#92;\u0026quot;RT @Discovery: The people of Nepal need your help. Find out how you can support relief efforts \u0026amp;gt;\u0026amp;gt;  http://t.co/I4dObdcjYf http://t.co/evGc7\u0026#92;\u0026#92;u2026\u0026#92;\u0026quot;,\u0026#92;\u0026quot;label\u0026#92;\u0026quot;:\u0026#92;\u0026quot;donation_needs_or_offers_or_volunteering_services\u0026#92;\u0026quot;,\u0026#92;\u0026quot;dataset\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Nepal\u0026#92;\u0026quot;,\u0026#92;\u0026quot;crisis_type\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Earthquake\u0026#92;\u0026quot;},{\u0026#92;\u0026quot;\u0026#92;\u0026quot;:8,\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:8,\u0026#92;\u0026quot;tweet_id\u0026#92;\u0026quot;:\u0026#92;\u0026quot;\u0026#x27;592877872538324993\u0026#x27;\u0026#92;\u0026quot;,\u0026#92;\u0026quot;tweet_text\u0026#92;\u0026quot;:\u0026#92;\u0026quot;RT @RevolutionMonk: #VultureEvangelists Most disgusting creature on earth. MSM wont show this side of \u0026#x27;em #SoulVultures #NepalEarthquake ht\u0026#92;\u0026#92;u2026\u0026#92;\u0026quot;,\u0026#92;\u0026quot;label\u0026#92;\u0026quot;:\u0026#92;\u0026quot;not_related_or_irrelevant\u0026#92;\u0026quot;,\u0026#92;\u0026quot;dataset\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Nepal\u0026#92;\u0026quot;,\u0026#92;\u0026quot;crisis_type\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Earthquake\u0026#92;\u0026quot;},{\u0026#92;\u0026quot;\u0026#92;\u0026quot;:9,\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:9,\u0026#92;\u0026quot;tweet_id\u0026#92;\u0026quot;:\u0026#92;\u0026quot;\u0026#x27;592645748459708416\u0026#x27;\u0026#92;\u0026quot;,\u0026#92;\u0026quot;tweet_text\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Nepal earthquake.  Deathtoll rises to 3,729 #NepalEarthquake  #prayfornepal earthquake\u0026#92;\u0026quot;,\u0026#92;\u0026quot;label\u0026#92;\u0026quot;:\u0026#92;\u0026quot;injured_or_dead_people\u0026#92;\u0026quot;,\u0026#92;\u0026quot;dataset\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Nepal\u0026#92;\u0026quot;,\u0026#92;\u0026quot;crisis_type\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Earthquake\u0026#92;\u0026quot;}]\u0026quot;' data-total-rows='100' data-total-columns='5' data-max-columns='50' data-banner-text='\u0026quot;\u0026quot;' data-pagination='true' data-page-size='10' data-field-types='[[\u0026quot;tweet_id\u0026quot;,[\u0026quot;string\u0026quot;,\u0026quot;object\u0026quot;]],[\u0026quot;tweet_text\u0026quot;,[\u0026quot;string\u0026quot;,\u0026quot;object\u0026quot;]],[\u0026quot;label\u0026quot;,[\u0026quot;string\u0026quot;,\u0026quot;object\u0026quot;]],[\u0026quot;dataset\u0026quot;,[\u0026quot;string\u0026quot;,\u0026quot;object\u0026quot;]],[\u0026quot;crisis_type\u0026quot;,[\u0026quot;string\u0026quot;,\u0026quot;object\u0026quot;]]]' data-selection='\u0026quot;multi\u0026quot;' data-show-filters='true' data-show-download='true' data-show-column-summaries='true' data-show-data-types='true' data-show-page-size-selector='true' data-show-column-explorer='true' data-show-chart-builder='true' data-row-headers='[[\u0026quot;\u0026quot;,[\u0026quot;integer\u0026quot;,\u0026quot;int64\u0026quot;]]]' data-has-stable-row-id='true' data-lazy='false' data-preload='false'\u003E\u003C/marimo-table\u003E\u003C/marimo-ui-element\u003E"}, "type": "data"}]}, {"code_hash": "6e0de67906f8ee8d484c41021226229d", "console": [], "id": "RGSE", "outputs": [{"data": {"application/json": "{\"Total Tweets\": 22099, \"Crisis Types\": [\"Earthquake\", \"Hurrican\", \"Diseases\", \"Floods\"], \"Labels\": [\"other_useful_information\", \"missing_trapped_or_found_people\", \"injured_or_dead_people\", \"donation_needs_or_offers_or_volunteering_services\", \"sympathy_and_emotional_support\", \"not_related_or_irrelevant\", \"caution_and_advice\", \"displaced_people_and_evacuations\", \"infrastructure_and_utilities_damage\", \"prevention\", \"disease_transmission\", \"deaths_reports\", \"disease_signs_or_symptoms\", \"affected_people\", \"treatment\"]}"}, "type": "data"}]}, {"code_hash": "e3f437e0b53007cd63133ee282bb4280", "console": [], "id": "Kclp", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003ENow we'll convert the data into \u003Ccode\u003Esieves\u003C/code\u003E documents, which will allow us to process them. We'll also sample down the data to cut down the time we need for processing the data.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "8e1fb64117368bb9bfd46c4c9a9b87f6", "console": [{"mimetype": "text/plain", "name": "stdout", "text": "Created 100 docs.\n\nSample doc:\nTweet: RT @ndtv: After Nepal earthquake, a pile of bodies and a lost world http://t.co/JMaU2SYycP http://t....\nMetadata: {'tweet_id': \"'592700771273187328'\", 'dataset': 'Nepal'}\nGround truth: {'crisis_label_classifier': 'injured_or_dead_people', 'crisis_type_classifier': 'Earthquake'}\n", "type": "stream"}], "id": "emfo", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "404fafde2742443673dca889e9ba344a", "console": [], "id": "Hstk", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch2 id=\"setting-up-the-pipeline\"\u003ESetting up the Pipeline\u003C/h2\u003E\n\u003Cspan class=\"paragraph\"\u003EA \u003Ccode\u003Esieves\u003C/code\u003E pipeline is composed of tasks. We'll use:\u003C/span\u003E\n\u003Col\u003E\n\u003Cli\u003E\u003Cstrong\u003EClassificationTask\u003C/strong\u003E: To filter for relevance and identify crisis types.\u003C/li\u003E\n\u003Cli\u003E\u003Cstrong\u003EInformationExtractionTask\u003C/strong\u003E: To extract structured entities (Locations) using Pydantic models.\u003C/li\u003E\n\u003C/ol\u003E\n\u003Ch3 id=\"conditional-orchestration\"\u003EConditional Orchestration\u003C/h3\u003E\n\u003Cspan class=\"paragraph\"\u003EWe only want to run the expensive extraction tasks on tweets that are actually related to a crisis. \u003Ccode\u003Esieves\u003C/code\u003E allows us to define a \u003Ccode\u003Econdition\u003C/code\u003E function that acts as a gatekeeper.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "23e2bb4c8f4e889d097b38853635ab23", "console": [], "id": "nWHF", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "53bce68662bad7ee5c291f6c94c8e18e", "console": [], "id": "iLit", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003ELet's create a task predicting tweet labels, one of which indicates whether the tweet is being relevant to any crisis:\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "70876c743126f15f523ef81c3626c8fd", "console": [], "id": "ZHCJ", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "7f3478b68eea19bd7bc2b9150957ed5b", "console": [], "id": "ROlb", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch3 id=\"defining-the-gatekeeper\"\u003EDefining the \"Gatekeeper\"\u003C/h3\u003E\n\u003Cspan class=\"paragraph\"\u003EThe \u003Ccode\u003Erelated_to_crisis\u003C/code\u003E function checks the output of the first classifier. If the tweet isn't relevant or the confidence is too low, subsequent tasks in the pipeline will be skipped for that document.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "8b949f99f7c2fb97c386d08932fe58f4", "console": [], "id": "qnkX", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "ebe95d428514c19b345d9039bd3cd825", "console": [], "id": "TqIu", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch3 id=\"schema-driven-information-extraction\"\u003ESchema-Driven Information Extraction\u003C/h3\u003E\n\u003Cspan class=\"paragraph\"\u003EBy using Pydantic models, we ensure that the LLM output is parsed into a structured object. This makes the data immediately useful for downstream applications.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "0ade70ff77a2628550a94f90f75892b8", "console": [], "id": "Vxnm", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "ba373185f5f9c1693dcb46e49ec10323", "console": [], "id": "DnEU", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003EHaving the entity types defined, we can proceed to define our tasks. We'll reuse the conditional check from before that allows us to skip irrelevant tweets.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "715dcf3b7c83fd1f99cc9bec9ee61ed8", "console": [], "id": "ulZA", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "2d490e0d7d75e5b0cd3983a52497fbb0", "console": [], "id": "ecfG", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003EFinally we can combine four tasks into a pipeline:\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "5aa542869c421252de53842c5bf361d9", "console": [], "id": "Pvdt", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "a49ae09a39f97e33280a43ef576ee732", "console": [], "id": "ZBYS", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch2 id=\"evaluating-results\"\u003EEvaluating Results\u003C/h2\u003E\n\u003Ch3 id=\"running-the-pipeline\"\u003ERunning the Pipeline\u003C/h3\u003E\n\u003Cspan class=\"paragraph\"\u003EEverything is in place, so we run our pipeline and collect results:\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "b306c7fc2a517de82f7821d70ea9db64", "console": [{"mimetype": "text/plain", "name": "stderr", "text": "\rRunning pipeline:   0%|                                                                                              | 0/100 [00:00\u003C?, ?it/s]\rRunning pipeline:   1%|\u258a                                                                                     | 1/100 [00:18\u003C29:45, 18.04s/it]\rRunning pipeline:   1%|\u258a                                                                                     | 1/100 [00:18\u003C29:45, 18.04s/it]\rRunning pipeline:   2%|\u2588\u258b                                                                                    | 2/100 [00:18\u003C29:27, 18.04s/it]\rRunning pipeline:   3%|\u2588\u2588\u258c                                                                                   | 3/100 [00:18\u003C29:09, 18.04s/it]\rRunning pipeline:   4%|\u2588\u2588\u2588\u258d                                                                                  | 4/100 [00:18\u003C28:51, 18.04s/it]\rRunning pipeline:   5%|\u2588\u2588\u2588\u2588\u258e                                                                                 | 5/100 [00:18\u003C28:33, 18.04s/it]\rRunning pipeline:   6%|\u2588\u2588\u2588\u2588\u2588\u258f                                                                                | 6/100 [00:18\u003C28:15, 18.04s/it]\rRunning pipeline:   7%|\u2588\u2588\u2588\u2588\u2588\u2588                                                                                | 7/100 [00:18\u003C27:57, 18.04s/it]\rRunning pipeline:   8%|\u2588\u2588\u2588\u2588\u2588\u2588\u2589                                                                               | 8/100 [00:18\u003C27:39, 18.04s/it]\rRunning pipeline:   9%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b                                                                              | 9/100 [00:18\u003C27:21, 18.04s/it]\rRunning pipeline:  10%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c                                                                            | 10/100 [00:18\u003C27:03, 18.04s/it]\rRunning pipeline:  11%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e                                                                           | 11/100 [00:18\u003C26:45, 18.04s/it]\rRunning pipeline:  12%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f                                                                          | 12/100 [00:18\u003C01:40,  1.14s/it]\rRunning pipeline:  12%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f                                                                          | 12/100 [00:18\u003C01:40,  1.14s/it]\rRunning pipeline:  13%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588                                                                          | 13/100 [00:18\u003C01:39,  1.14s/it]\rRunning pipeline:  14%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589                                                                         | 14/100 [00:18\u003C01:38,  1.14s/it]\rRunning pipeline:  15%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a                                                                        | 15/100 [00:18\u003C01:37,  1.14s/it]\rRunning pipeline:  16%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c                                                                       | 16/100 [00:18\u003C01:35,  1.14s/it]\rRunning pipeline:  17%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d                                                                      | 17/100 [00:18\u003C01:34,  1.14s/it]\rRunning pipeline:  18%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e                                                                     | 18/100 [00:18\u003C01:33,  1.14s/it]\rRunning pipeline:  19%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f                                                                    | 19/100 [00:18\u003C01:32,  1.14s/it]\rRunning pipeline:  20%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588                                                                    | 20/100 [00:18\u003C01:31,  1.14s/it]\rRunning pipeline:  21%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a                                                                   | 21/100 [00:18\u003C01:30,  1.14s/it]\rRunning pipeline:  22%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b                                                                  | 22/100 [00:18\u003C01:29,  1.14s/it]\rRunning pipeline:  23%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c                                                                 | 23/100 [00:18\u003C01:27,  1.14s/it]\rRunning pipeline:  24%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d                                                                | 24/100 [00:18\u003C01:26,  1.14s/it]\rRunning pipeline:  25%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e                                                               | 25/100 [00:18\u003C01:25,  1.14s/it]\rRunning pipeline:  26%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588                                                               | 26/100 [00:19\u003C00:34,  2.17it/s]\rRunning pipeline:  26%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588                                                               | 26/100 [00:19\u003C00:34,  2.17it/s]\rRunning pipeline:  27%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589                                                              | 27/100 [00:19\u003C00:33,  2.17it/s]\rRunning pipeline:  28%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a                                                             | 28/100 [00:19\u003C00:33,  2.17it/s]\rRunning pipeline:  29%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b                                                            | 29/100 [00:19\u003C00:32,  2.17it/s]\rRunning pipeline:  30%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c                                                           | 30/100 [00:19\u003C00:32,  2.17it/s]\rRunning pipeline:  31%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e                                                          | 31/100 [00:19\u003C00:31,  2.17it/s]\rRunning pipeline:  32%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f                                                         | 32/100 [00:19\u003C00:31,  2.17it/s]\rRunning pipeline:  33%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588                                                         | 33/100 [00:19\u003C00:30,  2.17it/s]\rRunning pipeline:  34%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589                                                        | 34/100 [00:19\u003C00:30,  2.17it/s]\rRunning pipeline:  35%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b                                                       | 35/100 [00:19\u003C00:29,  2.17it/s]\rRunning pipeline:  36%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c                                                      | 36/100 [00:19\u003C00:29,  2.17it/s]\rRunning pipeline:  37%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d                                                     | 37/100 [00:20\u003C00:19,  3.31it/s]\rRunning pipeline:  37%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d                                                     | 37/100 [00:20\u003C00:19,  3.31it/s]\rRunning pipeline:  38%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e                                                    | 38/100 [00:20\u003C00:18,  3.31it/s]\rRunning pipeline:  39%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f                                                   | 39/100 [00:20\u003C00:18,  3.31it/s]\rRunning pipeline:  40%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588                                                   | 40/100 [00:20\u003C00:18,  3.31it/s]\rRunning pipeline:  41%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a                                                  | 41/100 [00:20\u003C00:17,  3.31it/s]\rRunning pipeline:  42%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b                                                 | 42/100 [00:20\u003C00:17,  3.31it/s]\rRunning pipeline:  43%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c                                                | 43/100 [00:20\u003C00:17,  3.31it/s]\rRunning pipeline:  44%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d                                               | 44/100 [00:20\u003C00:16,  3.31it/s]\rRunning pipeline:  45%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e                                              | 45/100 [00:20\u003C00:16,  3.31it/s]\rRunning pipeline:  46%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588                                              | 46/100 [00:20\u003C00:16,  3.31it/s]\rRunning pipeline:  47%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589                                             | 47/100 [00:20\u003C00:16,  3.31it/s]\rRunning pipeline:  48%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a                                            | 48/100 [00:20\u003C00:15,  3.31it/s]\rRunning pipeline:  49%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b                                           | 49/100 [00:20\u003C00:15,  3.31it/s]\rRunning pipeline:  50%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c                                          | 50/100 [00:21\u003C00:10,  4.90it/s]\rRunning pipeline:  50%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c                                          | 50/100 [00:21\u003C00:10,  4.90it/s]\rRunning pipeline:  51%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e                                         | 51/100 [00:21\u003C00:10,  4.90it/s]\rRunning pipeline:  52%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f                                        | 52/100 [00:21\u003C00:09,  4.90it/s]\rRunning pipeline:  53%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588                                        | 53/100 [00:21\u003C00:09,  4.90it/s]\rRunning pipeline:  54%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589                                       | 54/100 [00:21\u003C00:09,  4.90it/s]\rRunning pipeline:  55%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a                                      | 55/100 [00:21\u003C00:09,  4.90it/s]\rRunning pipeline:  56%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c                                     | 56/100 [00:21\u003C00:08,  4.90it/s]\rRunning pipeline:  57%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d                                    | 57/100 [00:21\u003C00:08,  4.90it/s]\rRunning pipeline:  58%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e                                   | 58/100 [00:21\u003C00:08,  4.90it/s]\rRunning pipeline:  59%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f                                  | 59/100 [00:21\u003C00:08,  4.90it/s]\rRunning pipeline:  60%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588                                  | 60/100 [00:21\u003C00:08,  4.90it/s]\rRunning pipeline:  61%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a                                 | 61/100 [00:22\u003C00:06,  6.11it/s]\rRunning pipeline:  61%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a                                 | 61/100 [00:22\u003C00:06,  6.11it/s]\rRunning pipeline:  62%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b                                | 62/100 [00:22\u003C00:06,  6.11it/s]\rRunning pipeline:  63%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c                               | 63/100 [00:22\u003C00:06,  6.11it/s]\rRunning pipeline:  64%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d                              | 64/100 [00:22\u003C00:05,  6.11it/s]\rRunning pipeline:  65%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e                             | 65/100 [00:22\u003C00:05,  6.11it/s]\rRunning pipeline:  66%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588                             | 66/100 [00:22\u003C00:05,  6.11it/s]\rRunning pipeline:  67%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589                            | 67/100 [00:22\u003C00:05,  6.11it/s]\rRunning pipeline:  68%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a                           | 68/100 [00:22\u003C00:05,  6.11it/s]\rRunning pipeline:  69%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b                          | 69/100 [00:22\u003C00:05,  6.11it/s]\rRunning pipeline:  70%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d                         | 70/100 [00:22\u003C00:04,  6.11it/s]\rRunning pipeline:  71%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e                        | 71/100 [00:23\u003C00:04,  7.24it/s]\rRunning pipeline:  71%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e                        | 71/100 [00:23\u003C00:04,  7.24it/s]\rRunning pipeline:  72%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f                       | 72/100 [00:23\u003C00:03,  7.24it/s]\rRunning pipeline:  73%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588                       | 73/100 [00:23\u003C00:03,  7.24it/s]\rRunning pipeline:  74%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589                      | 74/100 [00:23\u003C00:03,  7.24it/s]\rRunning pipeline:  75%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a                     | 75/100 [00:23\u003C00:03,  7.24it/s]\rRunning pipeline:  76%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c                    | 76/100 [00:23\u003C00:03,  7.24it/s]\rRunning pipeline:  77%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d                   | 77/100 [00:23\u003C00:03,  7.24it/s]\rRunning pipeline:  78%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e                  | 78/100 [00:23\u003C00:03,  7.24it/s]\rRunning pipeline:  79%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f                 | 79/100 [00:23\u003C00:02,  7.24it/s]\rRunning pipeline:  80%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588                 | 80/100 [00:23\u003C00:02,  7.24it/s]\rRunning pipeline:  81%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a                | 81/100 [00:23\u003C00:02,  8.23it/s]\rRunning pipeline:  81%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a                | 81/100 [00:23\u003C00:02,  8.23it/s]\rRunning pipeline:  82%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b               | 82/100 [00:23\u003C00:02,  8.23it/s]\rRunning pipeline:  83%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c              | 83/100 [00:23\u003C00:02,  8.23it/s]\rRunning pipeline:  84%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d             | 84/100 [00:23\u003C00:01,  8.23it/s]\rRunning pipeline:  85%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e            | 85/100 [00:23\u003C00:01,  8.23it/s]\rRunning pipeline:  86%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588            | 86/100 [00:23\u003C00:01,  8.23it/s]\rRunning pipeline:  87%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589           | 87/100 [00:23\u003C00:01,  8.23it/s]\rRunning pipeline:  88%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a          | 88/100 [00:23\u003C00:01,  8.23it/s]\rRunning pipeline:  89%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b         | 89/100 [00:23\u003C00:01,  8.23it/s]\rRunning pipeline:  90%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c        | 90/100 [00:23\u003C00:01,  8.23it/s]\rRunning pipeline:  91%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e       | 91/100 [00:23\u003C00:01,  8.23it/s]\rRunning pipeline:  92%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f      | 92/100 [00:24\u003C00:00,  9.64it/s]\rRunning pipeline:  92%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f      | 92/100 [00:24\u003C00:00,  9.64it/s]\rRunning pipeline:  93%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588      | 93/100 [00:24\u003C00:00,  9.64it/s]\rRunning pipeline:  94%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589     | 94/100 [00:24\u003C00:00,  9.64it/s]\rRunning pipeline:  95%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a    | 95/100 [00:24\u003C00:00,  9.64it/s]\rRunning pipeline:  96%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c   | 96/100 [00:24\u003C00:00,  9.64it/s]\rRunning pipeline:  97%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d  | 97/100 [00:24\u003C00:00,  9.64it/s]\rRunning pipeline:  98%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e | 98/100 [00:24\u003C00:00,  9.64it/s]\rRunning pipeline:  99%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f| 99/100 [00:24\u003C00:00,  9.64it/s]\rRunning pipeline: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 100/100 [00:24\u003C00:00,  9.64it/s]\rRunning pipeline: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 100/100 [00:24\u003C00:00,  4.07it/s]\n", "type": "stream"}], "id": "aLJB", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "a6fca82f7a5c04531b66f1196dd83993", "console": [], "id": "nHfw", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "d62747789cb5d18a82c091c06643ba45", "console": [], "id": "xXTn", "outputs": [{"data": {"text/html": "\u003Cmarimo-ui-element object-id='xXTn-0' random-id='39142bcc-f48f-0e34-3c45-0525ed4f9595'\u003E\u003Cmarimo-table data-initial-value='[]' data-label='null' data-data='\u0026quot;[{\u0026#92;\u0026quot;Tweet\u0026#92;\u0026quot;:\u0026#92;\u0026quot;RT @ndtv: After Nepal earthquake, a pile of bodies and a lost world http://t.co/JMaU2SYycP http://t....\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Label\u0026#92;\u0026quot;:\u0026#92;\u0026quot;deaths_reports\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Type\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Earthquake\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Location\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Nepal\u0026#92;\u0026quot;},{\u0026#92;\u0026quot;Tweet\u0026#92;\u0026quot;:\u0026#92;\u0026quot;RT @Arvanb01: Fisherman have lost their livelihoods after the Chilean earthquake #ChileEarthquake @S...\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Label\u0026#92;\u0026quot;:\u0026#92;\u0026quot;affected_people\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Type\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Earthquake\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Location\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Chile\u0026#92;\u0026quot;},{\u0026#92;\u0026quot;Tweet\u0026#92;\u0026quot;:\u0026#92;\u0026quot;BEST LOVE STORY http://t.co/uNV1OWmjWf #YungCrushMoNa #RubyPH #GehZoned 1D World PSHR Shooting Day F...\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Label\u0026#92;\u0026quot;:\u0026#92;\u0026quot;not_related_or_irrelevant\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Type\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Skipped\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Location\u0026#92;\u0026quot;:\u0026#92;\u0026quot;None/Skipped\u0026#92;\u0026quot;},{\u0026#92;\u0026quot;Tweet\u0026#92;\u0026quot;:\u0026#92;\u0026quot;(#Team_Wolf1) Elevan a cinco los muertos por terremoto en Chile: El ministro de Interior comun... ht...\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Label\u0026#92;\u0026quot;:\u0026#92;\u0026quot;deaths_reports\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Type\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Earthquake\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Location\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Chile\u0026#92;\u0026quot;},{\u0026#92;\u0026quot;Tweet\u0026#92;\u0026quot;:\u0026#92;\u0026quot;MERS patient has no symptoms, released from Indiana hospital - Chicago Sun-Times http://t.co/v9lqG7j...\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Label\u0026#92;\u0026quot;:\u0026#92;\u0026quot;disease_transmission\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Type\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Diseases\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Location\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Indiana\u0026#92;\u0026quot;},{\u0026#92;\u0026quot;Tweet\u0026#92;\u0026quot;:\u0026#92;\u0026quot;RT @ABSCBNChannel2: The power of prayers work wonders for us! Go away #Hagupit!! Keep praying Philip...\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Label\u0026#92;\u0026quot;:\u0026#92;\u0026quot;sympathy_and_emotional_support\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Type\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Hurrican\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Location\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Philippines\u0026#92;\u0026quot;},{\u0026#92;\u0026quot;Tweet\u0026#92;\u0026quot;:\u0026#92;\u0026quot;@zerohedge Yes. tsunami warning is in effect for Chile. Earthquake Mag 7.8mw...\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Label\u0026#92;\u0026quot;:\u0026#92;\u0026quot;caution_and_advice\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Type\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Earthquake\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Location\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Chile\u0026#92;\u0026quot;},{\u0026#92;\u0026quot;Tweet\u0026#92;\u0026quot;:\u0026#92;\u0026quot;RT @shandy_sl: Amigos evacuen con sus mascotas,a los animales callejeros gu\u00edenlos hasta zonas segura...\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Label\u0026#92;\u0026quot;:\u0026#92;\u0026quot;displaced_people_and_evacuations\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Type\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Hurrican\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Location\u0026#92;\u0026quot;:\u0026#92;\u0026quot;None/Skipped\u0026#92;\u0026quot;},{\u0026#92;\u0026quot;Tweet\u0026#92;\u0026quot;:\u0026#92;\u0026quot;RT @Arturorodescri: Recemos por los muertos y damnificados del #TerremotoenChile . Espa\u00f1a est\u00e1 con #...\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Label\u0026#92;\u0026quot;:\u0026#92;\u0026quot;sympathy_and_emotional_support\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Type\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Earthquake\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Location\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Chile\u0026#92;\u0026quot;},{\u0026#92;\u0026quot;Tweet\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Second case of MERS found in the US. Visit the Centers for Disease Control and Prevention website fo...\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Label\u0026#92;\u0026quot;:\u0026#92;\u0026quot;disease_transmission\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Type\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Diseases\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Location\u0026#92;\u0026quot;:\u0026#92;\u0026quot;United States\u0026#92;\u0026quot;}]\u0026quot;' data-total-rows='100' data-total-columns='4' data-max-columns='50' data-banner-text='\u0026quot;\u0026quot;' data-pagination='true' data-page-size='10' data-selection='\u0026quot;multi\u0026quot;' data-show-filters='false' data-show-download='true' data-show-column-summaries='true' data-show-data-types='true' data-show-page-size-selector='true' data-show-column-explorer='true' data-show-chart-builder='true' data-row-headers='[]' data-has-stable-row-id='false' data-lazy='false' data-preload='false'\u003E\u003C/marimo-table\u003E\u003C/marimo-ui-element\u003E"}, "type": "data"}]}, {"code_hash": "7db96866701be7f66ba772c608799a29", "console": [], "id": "AjVT", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch3 id=\"evaluating-pipeline-reliability\"\u003EEvaluating Pipeline Reliability\u003C/h3\u003E\n\u003Cspan class=\"paragraph\"\u003EIn a real-world scenario, we need to know if we can trust our automated extraction. By comparing our pipeline's \"Predicted\" results against the \"Gold\" human labels, we can calculate metrics like Accuracy and F1 Score.\u003C/span\u003E\n\u003Cspan class=\"paragraph\"\u003EWe do this by running the inbuilt evaluation functionality. Note that we don't have ground truth for the location extraction, so we'll ignore this task in our evaluation.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "5ec25e7ca92ff13d14327ad1df10ec37", "console": [{"mimetype": "text/plain", "name": "stdout", "text": "'Task: crisis_label_classifier | Metrics: F1 (Macro): 0.4874 | Failures: 48'\n'Task: crisis_type_classifier | Metrics: F1 (Macro): 0.9563 | Failures: 16'\n'Task: location_extractor | Metrics: Accuracy: 0.1900 | Failures: 89'\n", "type": "stream"}], "id": "pHFh", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "50a257d1ab65751c96808de2b76453ff", "console": [], "id": "NCOB", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003EThat seems quite fine for \u003Ccode\u003Ecrisis_type\u003C/code\u003E, and not so great for \u003Ccode\u003Ecrisis_label\u003C/code\u003E - the mediocre performance for labels is probably because there are quite a few of them (15) and the model has difficulties telling them apart.\u003C/span\u003E\n\u003Cspan class=\"paragraph\"\u003ELet's inspect the errors - hopefully we can learn from to improve our pipeline (or maybe even find mistakes in the gold data!):\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "ef800739959fbc50614773e127b44e76", "console": [], "id": "aqbW", "outputs": [{"data": {"text/html": "\u003Cmarimo-ui-element object-id='aqbW-0' random-id='ea09c3dc-40ea-3b8c-f37d-4f4f688c07b4'\u003E\u003Cmarimo-table data-initial-value='[]' data-label='null' data-data='\u0026quot;[{\u0026#92;\u0026quot;Task\u0026#92;\u0026quot;:\u0026#92;\u0026quot;crisis_label_classifier\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Text\u0026#92;\u0026quot;:\u0026#92;\u0026quot;RT @ndtv: After Nepal earthquake, a pile of bodies and a lost world http://t.co/JMaU2SYycP http://t.co/T40SpgH7B7\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Gold\u0026#92;\u0026quot;:\u0026#92;\u0026quot;injured_or_dead_people\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Predicted\u0026#92;\u0026quot;:\u0026#92;\u0026quot;deaths_reports\u0026#92;\u0026quot;},{\u0026#92;\u0026quot;Task\u0026#92;\u0026quot;:\u0026#92;\u0026quot;crisis_label_classifier\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Text\u0026#92;\u0026quot;:\u0026#92;\u0026quot;RT @Arvanb01: Fisherman have lost their livelihoods after the Chilean earthquake #ChileEarthquake @ShastaCNN http://t.co/tMqKJ9MybU\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Gold\u0026#92;\u0026quot;:\u0026#92;\u0026quot;injured_or_dead_people\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Predicted\u0026#92;\u0026quot;:\u0026#92;\u0026quot;affected_people\u0026#92;\u0026quot;},{\u0026#92;\u0026quot;Task\u0026#92;\u0026quot;:\u0026#92;\u0026quot;crisis_label_classifier\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Text\u0026#92;\u0026quot;:\u0026#92;\u0026quot;(#Team_Wolf1) Elevan a cinco los muertos por terremoto en Chile: El ministro de Interior comun... http://t.co/OQLwccsh67 ( #Team_Wolf1 )\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Gold\u0026#92;\u0026quot;:\u0026#92;\u0026quot;injured_or_dead_people\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Predicted\u0026#92;\u0026quot;:\u0026#92;\u0026quot;deaths_reports\u0026#92;\u0026quot;},{\u0026#92;\u0026quot;Task\u0026#92;\u0026quot;:\u0026#92;\u0026quot;crisis_label_classifier\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Text\u0026#92;\u0026quot;:\u0026#92;\u0026quot;MERS patient has no symptoms, released from Indiana hospital - Chicago Sun-Times http://t.co/v9lqG7jj9B\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Gold\u0026#92;\u0026quot;:\u0026#92;\u0026quot;affected_people\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Predicted\u0026#92;\u0026quot;:\u0026#92;\u0026quot;disease_transmission\u0026#92;\u0026quot;},{\u0026#92;\u0026quot;Task\u0026#92;\u0026quot;:\u0026#92;\u0026quot;crisis_label_classifier\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Text\u0026#92;\u0026quot;:\u0026#92;\u0026quot;RT @shandy_sl: Amigos evacuen con sus mascotas,a los animales callejeros gu\u00edenlos hasta zonas seguras ellos tambn merecen refugio #FuerzaCh\u2026\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Gold\u0026#92;\u0026quot;:\u0026#92;\u0026quot;donation_needs_or_offers_or_volunteering_services\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Predicted\u0026#92;\u0026quot;:\u0026#92;\u0026quot;displaced_people_and_evacuations\u0026#92;\u0026quot;},{\u0026#92;\u0026quot;Task\u0026#92;\u0026quot;:\u0026#92;\u0026quot;crisis_label_classifier\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Text\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Second case of MERS found in the US. Visit the Centers for Disease Control and Prevention website for more... http://t.co/jdKdVrgWPf\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Gold\u0026#92;\u0026quot;:\u0026#92;\u0026quot;affected_people\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Predicted\u0026#92;\u0026quot;:\u0026#92;\u0026quot;disease_transmission\u0026#92;\u0026quot;},{\u0026#92;\u0026quot;Task\u0026#92;\u0026quot;:\u0026#92;\u0026quot;crisis_label_classifier\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Text\u0026#92;\u0026quot;:\u0026#92;\u0026quot;RT @rabiusm: Still moaning about your present condition? Well, some people are trapped in rubbles in Nepal. Almighty be with them.\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Gold\u0026#92;\u0026quot;:\u0026#92;\u0026quot;missing_trapped_or_found_people\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Predicted\u0026#92;\u0026quot;:\u0026#92;\u0026quot;sympathy_and_emotional_support\u0026#92;\u0026quot;},{\u0026#92;\u0026quot;Task\u0026#92;\u0026quot;:\u0026#92;\u0026quot;crisis_label_classifier\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Text\u0026#92;\u0026quot;:\u0026#92;\u0026quot;RT @nytimes: Scores Killed in Flooding in Nepal and India http://t.co/Ld58BYyvnM\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Gold\u0026#92;\u0026quot;:\u0026#92;\u0026quot;injured_or_dead_people\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Predicted\u0026#92;\u0026quot;:\u0026#92;\u0026quot;deaths_reports\u0026#92;\u0026quot;},{\u0026#92;\u0026quot;Task\u0026#92;\u0026quot;:\u0026#92;\u0026quot;crisis_label_classifier\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Text\u0026#92;\u0026quot;:\u0026#92;\u0026quot;PTI Minority MPA Exposed the Politics of ANP \u0026amp;amp; PPP on Dead bodies: PTI Minority MPA Exposed the... http://t.co/bjg64h1xDg #pakistan #ppp\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Gold\u0026#92;\u0026quot;:\u0026#92;\u0026quot;injured_or_dead_people\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Predicted\u0026#92;\u0026quot;:\u0026#92;\u0026quot;not_related_or_irrelevant\u0026#92;\u0026quot;},{\u0026#92;\u0026quot;Task\u0026#92;\u0026quot;:\u0026#92;\u0026quot;crisis_label_classifier\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Text\u0026#92;\u0026quot;:\u0026#92;\u0026quot;RT @BBCtrending: Another \u0026#92;\u0026#92;\u0026#92;\u0026quot;Nepal earthquake\u0026#92;\u0026#92;\u0026#92;\u0026quot; video uploaded online also included footage from a building collapse in Egypt http://t.co/hznFp\u2026\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Gold\u0026#92;\u0026quot;:\u0026#92;\u0026quot;infrastructure_and_utilities_damage\u0026#92;\u0026quot;,\u0026#92;\u0026quot;Predicted\u0026#92;\u0026quot;:\u0026#92;\u0026quot;not_related_or_irrelevant\u0026#92;\u0026quot;}]\u0026quot;' data-total-rows='64' data-total-columns='4' data-max-columns='50' data-banner-text='\u0026quot;\u0026quot;' data-pagination='true' data-page-size='10' data-selection='\u0026quot;multi\u0026quot;' data-show-filters='false' data-show-download='true' data-show-column-summaries='true' data-show-data-types='true' data-show-page-size-selector='true' data-show-column-explorer='true' data-show-chart-builder='true' data-row-headers='[]' data-has-stable-row-id='false' data-lazy='false' data-preload='false'\u003E\u003C/marimo-table\u003E\u003C/marimo-ui-element\u003E"}, "type": "data"}]}, {"code_hash": null, "console": [], "id": "TRpd", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}], "metadata": {"marimo_version": "0.18.4"}, "version": "1"},
            "runtimeConfig": null,
        };
    </script>

<marimo-code hidden="">
    import%20marimo%0A%0A__generated_with%20%3D%20%220.18.4%22%0Aapp%20%3D%20marimo.App(width%3D%22medium%22)%0A%0A%0A%40app.cell%0Adef%20_()%3A%0A%20%20%20%20import%20marimo%20as%20mo%0A%20%20%20%20return%20(mo%2C)%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%23%20Case%20Study%3A%20Structured%20Crisis%20Tweet%20Analysis%0A%0A%20%20%20%20This%20notebook%20demonstrates%20how%20to%20use%20%60sieves%60%20to%20build%20a%20structured%20information%20extraction%20pipeline.%20We'll%20use%20a%20**toy%20example**%20involving%20crisis-related%20tweets%20to%20show%20how%20%60sieves%60%20can%20help%20sift%20through%20unstructured%20text%20to%20identify%20relevant%20events%20and%20extract%20key%20entities.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20The%20goal%20is%20to%20build%20a%20multi-stage%20filter%20(a%20sieve%2C%20if%20you%20will)%20that%3A%0A%20%20%20%201.%20**Classifies**%20if%20a%20tweet%20is%20relevant.%0A%20%20%20%202.%20**Extracts**%20the%20crisis%20type%20and%20location%20**only%20if**%20it's%20relevant.%0A%0A%20%20%20%20This%20conditional%20orchestration%20allows%20for%20efficient%20processing%20and%20reduced%20noise.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%23%23%20Downloading%20the%20Data%0A%0A%0A%20%20%20%20We'll%20first%20download%20a%20%5Bdataset%5D(https%3A%2F%2Fcrisisnlp.qcri.org%2Fdata%2Flrec2016%2Flabeled_cf%2FCrisisNLP_labeled_data_crowdflower_v2.zip)%20from%20https%3A%2F%2Fcrisisnlp.qcri.org%2F.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_()%3A%0A%20%20%20%20import%20urllib.request%0A%20%20%20%20import%20zipfile%0A%20%20%20%20from%20pathlib%20import%20Path%0A%20%20%20%20import%20shutil%0A%0A%20%20%20%20url%20%3D%20%22https%3A%2F%2Fcrisisnlp.qcri.org%2Fdata%2Flrec2016%2Flabeled_cf%2FCrisisNLP_labeled_data_crowdflower_v2.zip%22%0A%20%20%20%20zip_path%20%3D%20Path(%22CrisisNLP_dataset.zip%22)%0A%20%20%20%20data_dir%20%3D%20Path(%22CrisisNLP%22)%0A%0A%20%20%20%20if%20not%20zip_path.exists()%3A%0A%20%20%20%20%20%20%20%20urllib.request.urlretrieve(url%2C%20str(zip_path))%0A%0A%20%20%20%20with%20zipfile.ZipFile(str(zip_path)%2C%20'r')%20as%20z%3A%0A%20%20%20%20%20%20%20%20z.extractall(%22.%22)%0A%0A%20%20%20%20extracted%20%3D%20Path(%22CrisisNLP_labeled_data_crowdflower%22)%0A%20%20%20%20data_dir.mkdir(exist_ok%3DTrue)%0A%20%20%20%20for%20item%20in%20extracted.iterdir()%3A%0A%20%20%20%20%20%20%20%20target%20%3D%20data_dir%20%2F%20item.name%0A%20%20%20%20%20%20%20%20if%20not%20target.exists()%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20item.rename(target)%0A%20%20%20%20shutil.rmtree(extracted)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20Next%20we'll%20load%20the%20data%20into%20memory%20and%20preprocess%20it.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_()%3A%0A%20%20%20%20import%20pandas%20as%20pd%0A%20%20%20%20import%20os%0A%0A%20%20%20%20data%3A%20pd.DataFrame%20%3D%20pd.DataFrame()%0A%0A%20%20%20%20for%20file%20in%20os.listdir(%22CrisisNLP%22)%3A%0A%20%20%20%20%20%20%20%20if%20os.path.isdir(os.path.join(%22CrisisNLP%22%2C%20file))%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20file_%20in%20os.listdir(os.path.join(%22CrisisNLP%22%2C%20file))%3A%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20file_.endswith(%22.tsv%22)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20data_%20%3D%20pd.read_csv(os.path.join(%22CrisisNLP%22%2C%20file%2C%20file_)%2C%20sep%3D%22%5Ct%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20len(data_)%20%3D%3D%200%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20continue%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20data_%5B%22dataset%22%5D%20%3D%20file.split(%22_%22)%5B1%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20crisis_type%20%3D%20file.split(%22_%22)%5B2%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20crisis_type%20%3D%3D%20'eq'%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20crisis_type%20%3D%20'Earthquake'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20elif%20crisis_type%20in%20('Odile'%2C%20'Pam'%2C%20'Typhoon')%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20crisis_type%20%3D%20'Hurrican'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20elif%20crisis_type%20in%20('ebola'%2C%20'cf'%2C%20'East')%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20crisis_type%20%3D%20'Diseases'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20elif%20crisis_type%20%3D%3D%20'floods'%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20crisis_type%20%3D%20'Floods'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20data_%5B%22crisis_type%22%5D%20%3D%20crisis_type%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20data%20%3D%20pd.concat(%5Bdata%2C%20data_%5D)%0A%20%20%20%20return%20data%2C%20os%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%23%23%23%20Data%20Exploration%0A%0A%20%20%20%20We'll%20load%20the%20CrisisNLP%20dataset%2C%20which%20contains%20tweets%20labeled%20by%20humans%20across%20different%20disaster%20types.%20This%20%22gold%22%20data%20allows%20us%20to%20evaluate%20our%20automated%20pipeline%20later.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(data%3A%20%22pd.DataFrame%22%2C%20mo)%3A%0A%20%20%20%20mo.ui.table(data.head(100)%2C%20label%3D%22CrisisNLP%20Dataset%20Preview%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(data%3A%20%22pd.DataFrame%22)%3A%0A%20%20%20%20%23%20Quick%20summary%20of%20the%20dataset%0A%20%20%20%20summary%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%22Total%20Tweets%22%3A%20len(data)%2C%0A%20%20%20%20%20%20%20%20%22Crisis%20Types%22%3A%20data.crisis_type.unique().tolist()%2C%0A%20%20%20%20%20%20%20%20%22Labels%22%3A%20data.label.unique().tolist()%0A%20%20%20%20%7D%0A%20%20%20%20summary%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20Now%20we'll%20convert%20the%20data%20into%20%60sieves%60%20documents%2C%20which%20will%20allow%20us%20to%20process%20them.%20We'll%20also%20sample%20down%20the%20data%20to%20cut%20down%20the%20time%20we%20need%20for%20processing%20the%20data.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(data%3A%20%22pd.DataFrame%22)%3A%0A%20%20%20%20from%20sieves%20import%20Doc%0A%20%20%20%20from%20sieves.tasks.predictive.classification%20import%20ResultSingleLabel%0A%20%20%20%20import%20random%0A%0A%20%20%20%20%23%20We%20down-sample%20our%20dataset%20to%20avoid%20long%20processing%20times.%0A%20%20%20%20data_sampled%20%3D%20data.sample(n%3D100)%0A%0A%20%20%20%20docs%20%3D%20%5B%0A%20%20%20%20%20%20%20%20Doc(%0A%20%20%20%20%20%20%20%20%20%20%20%20uri%3Df%22tweet_%7Brow%5B'tweet_id'%5D%7D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3Drow%5B'tweet_text'%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20meta%3D%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20'tweet_id'%3A%20row%5B'tweet_id'%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20'dataset'%3A%20row%5B'dataset'%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20We%20store%20ground%20truth%20in%20.gold%20per%20task%20ID%2C%20so%20we%20can%20evaluate%20our%20pipeline%20performance%20later.%0A%20%20%20%20%20%20%20%20%20%20%20%20gold%3D%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22crisis_label_classifier%22%3A%20%20row%5B'label'%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22crisis_type_classifier%22%3A%20row%5B'crisis_type'%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20for%20idx%2C%20row%20in%20data_sampled.iterrows()%0A%20%20%20%20%5D%0A%0A%20%20%20%20print(f%22Created%20%7Blen(docs)%7D%20docs.%22)%0A%20%20%20%20print(f%22%5CnSample%20doc%3A%22)%0A%20%20%20%20print(f%22Tweet%3A%20%7Bdocs%5B0%5D.text%5B%3A100%5D%7D...%22)%0A%20%20%20%20print(f%22Metadata%3A%20%7Bdocs%5B0%5D.meta%7D%22)%0A%20%20%20%20print(f%22Ground%20truth%3A%20%7Bdocs%5B0%5D.gold%7D%22)%0A%20%20%20%20return%20Doc%2C%20data_sampled%2C%20docs%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%23%23%20Setting%20up%20the%20Pipeline%0A%0A%20%20%20%20A%20%60sieves%60%20pipeline%20is%20composed%20of%20tasks.%20We'll%20use%3A%0A%20%20%20%201.%20**ClassificationTask**%3A%20To%20filter%20for%20relevance%20and%20identify%20crisis%20types.%0A%20%20%20%202.%20**InformationExtractionTask**%3A%20To%20extract%20structured%20entities%20(Locations)%20using%20Pydantic%20models.%0A%0A%20%20%20%20%23%23%23%20Conditional%20Orchestration%0A%20%20%20%20We%20only%20want%20to%20run%20the%20expensive%20extraction%20tasks%20on%20tweets%20that%20are%20actually%20related%20to%20a%20crisis.%20%60sieves%60%20allows%20us%20to%20define%20a%20%60condition%60%20function%20that%20acts%20as%20a%20gatekeeper.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(os)%3A%0A%20%20%20%20import%20dspy%0A%0A%20%20%20%20%23%20We%20use%20a%20lightweight%20model%20for%20this%20demonstration%0A%20%20%20%20model%20%3D%20dspy.LM(%0A%20%20%20%20%20%20%20%20%22openrouter%2Fgoogle%2Fgemini-2.5-flash-lite-preview-09-2025%22%2C%0A%20%20%20%20%20%20%20%20api_base%3D%22https%3A%2F%2Fopenrouter.ai%2Fapi%2Fv1%22%2C%0A%20%20%20%20%20%20%20%20api_key%3Dos.environ%5B'OPENROUTER_API_KEY'%5D%2C%0A%20%20%20%20)%0A%0A%20%20%20%20%23%20Batching%20improves%20throughput%20by%20processing%20multiple%20docs%20in%20a%20single%20prompt%0A%20%20%20%20batch_size%20%3D%2010%0A%20%20%20%20return%20batch_size%2C%20model%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20Let's%20create%20a%20task%20predicting%20tweet%20labels%2C%20one%20of%20which%20indicates%20whether%20the%20tweet%20is%20being%20relevant%20to%20any%20crisis%3A%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(batch_size%2C%20data_sampled%2C%20model)%3A%0A%20%20%20%20from%20sieves%20import%20tasks%0A%0A%20%20%20%20crisis_label_classifier%20%3D%20tasks.Classification(%0A%20%20%20%20%20%20%20%20task_id%3D%22crisis_label_classifier%22%2C%0A%20%20%20%20%20%20%20%20labels%3Ddata_sampled.label.unique()%2C%0A%20%20%20%20%20%20%20%20mode%3D'single'%2C%0A%20%20%20%20%20%20%20%20model%3Dmodel%2C%0A%20%20%20%20%20%20%20%20batch_size%3Dbatch_size%2C%0A%20%20%20%20)%0A%20%20%20%20return%20crisis_label_classifier%2C%20tasks%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%23%23%23%20Defining%20the%20%22Gatekeeper%22%0A%20%20%20%20The%20%60related_to_crisis%60%20function%20checks%20the%20output%20of%20the%20first%20classifier.%20If%20the%20tweet%20isn't%20relevant%20or%20the%20confidence%20is%20too%20low%2C%20subsequent%20tasks%20in%20the%20pipeline%20will%20be%20skipped%20for%20that%20document.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(Doc%2C%20batch_size%2C%20data_sampled%2C%20model%2C%20tasks)%3A%0A%20%20%20%20def%20related_to_crisis(doc%3A%20Doc)%20-%3E%20bool%3A%0A%20%20%20%20%20%20%20%20%22%22%22Checks%20if%20the%20tweet%20is%20relevant%20enough%20to%20proceed%20with%20further%20extraction.%22%22%22%0A%20%20%20%20%20%20%20%20result%20%3D%20doc.results.get(%22crisis_label_classifier%22)%0A%20%20%20%20%20%20%20%20if%20not%20result%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20False%0A%20%20%20%20%20%20%20%20return%20result.label%20!%3D%20'not_related_or_irrelevant'%20and%20result.score%20%3E%3D%20.6%0A%0A%0A%20%20%20%20crisis_type_classifier%20%3D%20tasks.Classification(%0A%20%20%20%20%20%20%20%20task_id%3D%22crisis_type_classifier%22%2C%0A%20%20%20%20%20%20%20%20labels%3Ddata_sampled.crisis_type.unique()%2C%0A%20%20%20%20%20%20%20%20mode%3D'single'%2C%0A%20%20%20%20%20%20%20%20model%3Dmodel%2C%0A%20%20%20%20%20%20%20%20condition%3Drelated_to_crisis%2C%0A%20%20%20%20%20%20%20%20batch_size%3Dbatch_size%2C%0A%20%20%20%20)%0A%20%20%20%20return%20crisis_type_classifier%2C%20related_to_crisis%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%23%23%23%20Schema-Driven%20Information%20Extraction%0A%20%20%20%20By%20using%20Pydantic%20models%2C%20we%20ensure%20that%20the%20LLM%20output%20is%20parsed%20into%20a%20structured%20object.%20This%20makes%20the%20data%20immediately%20useful%20for%20downstream%20applications.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_()%3A%0A%20%20%20%20import%20pydantic%0A%20%20%20%20from%20typing%20import%20Literal%0A%0A%0A%20%20%20%20class%20Country(pydantic.BaseModel%2C%20frozen%3DTrue)%3A%0A%20%20%20%20%20%20%20%20name%3A%20str%20%7C%20None%20%3D%20pydantic.Field(%0A%20%20%20%20%20%20%20%20%20%20%20%20description%3D%22The%20name%20of%20the%20country%20mentioned%20in%20the%20tweet%2C%20if%20any.%22%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20return%20(Country%2C)%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20Having%20the%20entity%20types%20defined%2C%20we%20can%20proceed%20to%20define%20our%20tasks.%20We'll%20reuse%20the%20conditional%20check%20from%20before%20that%20allows%20us%20to%20skip%20irrelevant%20tweets.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(Country%2C%20batch_size%2C%20model%2C%20related_to_crisis%2C%20tasks)%3A%0A%20%20%20%20location_extractor%20%3D%20tasks.InformationExtraction(%0A%20%20%20%20%20%20%20%20task_id%3D%22location_extractor%22%2C%0A%20%20%20%20%20%20%20%20entity_type%3DCountry%2C%0A%20%20%20%20%20%20%20%20model%3Dmodel%2C%0A%20%20%20%20%20%20%20%20mode%3D'single'%2C%0A%20%20%20%20%20%20%20%20batch_size%3Dbatch_size%2C%0A%20%20%20%20%20%20%20%20condition%3Drelated_to_crisis%0A%20%20%20%20)%0A%20%20%20%20return%20(location_extractor%2C)%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20Finally%20we%20can%20combine%20four%20tasks%20into%20a%20pipeline%3A%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(crisis_label_classifier%2C%20crisis_type_classifier%2C%20location_extractor)%3A%0A%20%20%20%20pipeline%20%3D%20(%0A%20%20%20%20%20%20%20%20crisis_label_classifier%20%2B%0A%20%20%20%20%20%20%20%20crisis_type_classifier%20%2B%0A%20%20%20%20%20%20%20%20location_extractor%0A%20%20%20%20)%0A%20%20%20%20return%20(pipeline%2C)%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%23%23%20Evaluating%20Results%0A%0A%20%20%20%20%23%23%23%20Running%20the%20Pipeline%0A%0A%20%20%20%20Everything%20is%20in%20place%2C%20so%20we%20run%20our%20pipeline%20and%20collect%20results%3A%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(docs%2C%20pipeline)%3A%0A%20%20%20%20results%20%3D%20list(pipeline(docs))%0A%20%20%20%20return%20(results%2C)%0A%0A%0A%40app.cell%0Adef%20_(results)%3A%0A%20%20%20%20from%20typing%20import%20Any%0A%0A%20%20%20%20%23%20Flatten%20results%20for%20display%20in%20a%20table%0A%20%20%20%20display_results%3A%20list%5Bdict%5Bstr%2C%20Any%5D%5D%20%3D%20%5B%5D%0A%20%20%20%20for%20doc%20in%20results%3A%0A%20%20%20%20%20%20%20%20display_results.append(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Tweet%22%3A%20doc.text%5B%3A100%5D%20%2B%20%22...%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Label%22%3A%20doc.results.get('crisis_label_classifier').label%20if%20doc.results.get('crisis_label_classifier')%20else%20%22N%2FA%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Type%22%3A%20doc.results.get('crisis_type_classifier').label%20if%20doc.results.get('crisis_type_classifier')%20else%20%22Skipped%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Location%22%3A%20doc.results.get('location_extractor').entity.name%20if%20doc.results.get('location_extractor')%20and%20doc.results.get('location_extractor').entity%20else%20%22None%2FSkipped%22%0A%20%20%20%20%20%20%20%20%7D)%0A%20%20%20%20return%20(display_results%2C)%0A%0A%0A%40app.cell%0Adef%20_(display_results%3A%20%22list%5Bdict%5Bstr%2C%20Any%5D%5D%22%2C%20mo)%3A%0A%20%20%20%20mo.ui.table(display_results)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%23%23%23%20Evaluating%20Pipeline%20Reliability%0A%0A%20%20%20%20In%20a%20real-world%20scenario%2C%20we%20need%20to%20know%20if%20we%20can%20trust%20our%20automated%20extraction.%20By%20comparing%20our%20pipeline's%20%22Predicted%22%20results%20against%20the%20%22Gold%22%20human%20labels%2C%20we%20can%20calculate%20metrics%20like%20Accuracy%20and%20F1%20Score.%0A%0A%20%20%20%20We%20do%20this%20by%20running%20the%20inbuilt%20evaluation%20functionality.%20Note%20that%20we%20don't%20have%20ground%20truth%20for%20the%20location%20extraction%2C%20so%20we'll%20ignore%20this%20task%20in%20our%20evaluation.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(pipeline%2C%20results)%3A%0A%20%20%20%20from%20pprint%20import%20pprint%0A%0A%20%20%20%20eval_report%20%3D%20pipeline.evaluate(results)%0A%20%20%20%20for%20task_id%20in%20eval_report.reports%3A%0A%20%20%20%20%20%20%20%20pprint(eval_report%5Btask_id%5D.summary())%0A%20%20%20%20return%20(eval_report%2C)%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20That%20seems%20quite%20fine%20for%20%60crisis_type%60%2C%20and%20not%20so%20great%20for%20%60crisis_label%60%20-%20the%20mediocre%20performance%20for%20labels%20is%20probably%20because%20there%20are%20quite%20a%20few%20of%20them%20(15)%20and%20the%20model%20has%20difficulties%20telling%20them%20apart.%0A%0A%20%20%20%20Let's%20inspect%20the%20errors%20-%20hopefully%20we%20can%20learn%20from%20to%20improve%20our%20pipeline%20(or%20maybe%20even%20find%20mistakes%20in%20the%20gold%20data!)%3A%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(eval_report%2C%20mo)%3A%0A%20%20%20%20from%20sklearn.metrics%20import%20f1_score%2C%20accuracy_score%2C%20recall_score%0A%0A%20%20%20%20errors%3A%20list%5Bdict%5Bstr%2C%20str%20%7C%20float%5D%5D%20%3D%20%5B%5D%0A%0A%20%20%20%20for%20tid%20in%20(%22crisis_label_classifier%22%2C%20%22crisis_type_classifier%22)%3A%0A%20%20%20%20%20%20%20%20for%20failed_pred%20in%20eval_report%5Btid%5D.failures%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20pred%20%3D%20failed_pred.results%5Btid%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20errors.append(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Task%22%3A%20tid%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Text%22%3A%20failed_pred.text%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Gold%22%3A%20failed_pred.gold%5Btid%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Predicted%22%3A%20pred.label%20if%20pred%20else%20pred%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%0A%0A%20%20%20%20mo.ui.table(errors)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_()%3A%0A%20%20%20%20return%0A%0A%0Aif%20__name__%20%3D%3D%20%22__main__%22%3A%0A%20%20%20%20app.run()%0A
</marimo-code>

<marimo-code-hash hidden="">8623c0d7b5daabe957c8d33e41d9d963</marimo-code-hash>
</body>
</html>

stages:
  - check
  - test

include:
  - component: gitlab.pararamx.ru/pub/cicd/gitleaks@master
    inputs:
      optional: false
  - component: gitlab.pararamx.ru/pub/cicd/words@master
    inputs:
      path: ttutils tests
  - component: gitlab.pararamx.ru/pub/cicd/uv_base@master
  - component: gitlab.pararamx.ru/pub/cicd/uv_check@master
    inputs:
      python: python3.11
      isort-args: "--check ttutils tests"
      mypy-optional: false
      mypy-args: 'ttutils'
      mypy-uvx-args: '--with-requirements pyproject.toml --with types-python-dateutil,types-toml,types-PyYAML'
  - component: gitlab.pararamx.ru/pub/cicd/uv_test@master
    inputs:
      python: python3.11
      with_db: false

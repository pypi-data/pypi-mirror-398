"""Tests for MCP server."""

import pytest
from {{ package_name }}.server import {{ project_name | pascal_case }}Server


class TestServer:
    """Test MCP server."""

    def test_server_initialization(self, sample_config):
        """Test server initialization."""
        server = {{ project_name | pascal_case }}Server(sample_config)

        assert server is not None
        assert server.settings.server_name == "{{ project_slug }}"

    def test_server_settings(self, sample_config):
        """Test server settings."""
        server = {{ project_name | pascal_case }}Server(sample_config)

        assert server.settings.log_level.value == "DEBUG"

    @pytest.mark.asyncio
    async def test_server_handlers_registered(self, sample_config):
        """Test that handlers are registered."""
        server = {{ project_name | pascal_case }}Server(sample_config)

        # Verify server is initialized with handlers
        assert server.server is not None
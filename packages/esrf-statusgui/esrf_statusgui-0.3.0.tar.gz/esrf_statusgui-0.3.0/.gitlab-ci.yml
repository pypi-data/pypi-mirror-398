include:
  - project: dau/ci/pyci
    file: .gitlab-ci-template.yml

variables:
  WARNING1: "ignore::DeprecationWarning:ansiwrap.core"
  WARNING2: "ignore::DeprecationWarning:jupyter_client.session"
  WARNING3: "ignore::DeprecationWarning:traitlets.traitlets"
  WARNING4: "ignore::DeprecationWarning:papermill.parameterize"
  WARNING5: "ignore::DeprecationWarning:papermill.engines"
  WARNINGS: "-W ${WARNING1} -W ${WARNING2} -W ${WARNING3} -W ${WARNING4} -W ${WARNING5}"

isort:
  extends: .isort

test-3.8:
  extends: .test-3.8
  variables:
    PYTEST_WARNINGS: "-W error ${WARNINGS}"

test-3.9:
  extends: .test-3.9
  variables:
    PYTEST_WARNINGS: "-W error ${WARNINGS}"

test-3.9-win:
  extends: .test-3.9-win
  variables:
    PYTEST_WARNINGS: "-W error ${WARNINGS}"

test-3.10:
  extends: .test-3.10
  variables:
    PYTEST_WARNINGS: "-W error ${WARNINGS}"

test-3.11:
  extends: .test-3.11
  variables:
    PYTEST_WARNINGS: "-W error ${WARNINGS}"

test-3.12:
  extends: .test-3.12
  variables:
    PYTEST_WARNINGS: "-W error ${WARNINGS}"

test-3.13:
  extends: .test-3.13
  variables:
    PYTEST_WARNINGS: "-W error ${WARNINGS}"

build_sdist:
  extends: .build_sdist

test_sdist-3.8:
  extends: .test_sdist-3.8
  variables:
    PYTEST_WARNINGS: "-W error ${WARNINGS}"

test_sdist-3.9:
  extends: .test_sdist-3.9
  variables:
    PYTEST_WARNINGS: "-W error ${WARNINGS}"

test_sdist-3.10:
  extends: .test_sdist-3.10
  variables:
    PYTEST_WARNINGS: "-W error ${WARNINGS}"

test_sdist-3.10-win:
  extends: .test_sdist-3.10-win
  variables:
    PYTEST_WARNINGS: "-W error ${WARNINGS}"

test_sdist-3.11:
  extends: .test_sdist-3.11
  variables:
    PYTEST_WARNINGS: "-W error ${WARNINGS}"

test_sdist-3.12:
  extends: .test_sdist-3.12
  variables:
    PYTEST_WARNINGS: "-W error ${WARNINGS}"

test_sdist-3.13:
  extends: .test_sdist-3.13
  variables:
    PYTEST_WARNINGS: "-W error ${WARNINGS}"

build_doc:
  extends: .build_doc

pypi:
  extends: .pypi

testpypi:
  extends: .testpypi

pages:
  extends: .pages

assets:
  extends: .assets

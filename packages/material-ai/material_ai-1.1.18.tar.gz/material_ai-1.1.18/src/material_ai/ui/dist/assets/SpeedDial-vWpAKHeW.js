import{t as e}from"./Fab-CZ0LVEjO.js";import{t}from"./Zoom-DW_aTJ-6.js";import{Er as n,Fr as r,Gn as i,Hn as a,In as o,Ir as s,Mr as c,Qn as l,Sr as u,Tr as d,_r as f,ar as p,fr as m,lr as h,or as g,sr as _,wr as v,zn as y}from"./index-Bji-uPX5.js";var b=s(r());function x(e){return d(`MuiSpeedDial`,e)}var S=v(`MuiSpeedDial`,[`root`,`fab`,`directionUp`,`directionDown`,`directionLeft`,`directionRight`,`actions`,`actionsClosed`]),C=c(),w=e=>{let{classes:t,open:n,direction:r}=e;return f({root:[`root`,`direction${_(r)}`],fab:[`fab`],actions:[`actions`,!n&&`actionsClosed`]},x,t)};function T(e){if(e===`up`||e===`down`)return`vertical`;if(e===`right`||e===`left`)return`horizontal`}var E=32,D=16,O=h(`div`,{name:`MuiSpeedDial`,slot:`Root`,overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,t[`direction${_(n.direction)}`]]}})(g(({theme:e})=>({zIndex:(e.vars||e).zIndex.speedDial,display:`flex`,alignItems:`center`,pointerEvents:`none`,variants:[{props:{direction:`up`},style:{flexDirection:`column-reverse`,[`& .${S.actions}`]:{flexDirection:`column-reverse`,marginBottom:-E,paddingBottom:D+E}}},{props:{direction:`down`},style:{flexDirection:`column`,[`& .${S.actions}`]:{flexDirection:`column`,marginTop:-E,paddingTop:D+E}}},{props:{direction:`left`},style:{flexDirection:`row-reverse`,[`& .${S.actions}`]:{flexDirection:`row-reverse`,marginRight:-E,paddingRight:D+E}}},{props:{direction:`right`},style:{flexDirection:`row`,[`& .${S.actions}`]:{flexDirection:`row`,marginLeft:-E,paddingLeft:D+E}}}]}))),ee=h(e,{name:`MuiSpeedDial`,slot:`Fab`})({pointerEvents:`auto`}),te=h(`div`,{name:`MuiSpeedDial`,slot:`Actions`,overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.actions,!n.open&&t.actionsClosed]}})({display:`flex`,pointerEvents:`auto`,variants:[{props:({ownerState:e})=>!e.open,style:{transition:`top 0s linear 0.2s`,pointerEvents:`none`}}]}),k=b.forwardRef(function(e,r){let s=p({props:e,name:`MuiSpeedDial`}),c=m(),d={enter:c.transitions.duration.enteringScreen,exit:c.transitions.duration.leavingScreen},{ariaLabel:f,FabProps:{ref:h,...g}={},children:_,className:v,direction:x=`up`,hidden:S=!1,icon:E,onBlur:D,onClose:k,onFocus:A,onKeyDown:j,onMouseEnter:M,onMouseLeave:N,onOpen:P,open:F,openIcon:ne,slots:re={},slotProps:ie={},TransitionComponent:ae,TransitionProps:I,transitionDuration:L=d,...R}=s,[z,B]=i({controlled:F,default:!1,name:`SpeedDial`,state:`open`}),V={...s,open:z,direction:x},H=w(V),U=y(),W=b.useRef(0),G=b.useRef(),K=b.useRef([]);K.current=[K.current[0]];let q=a(h,b.useCallback(e=>{K.current[0]=e},[])),J=(e,t,n)=>r=>{K.current[e+1]=r,t&&t(r),n&&n(r)},oe=e=>{j&&j(e);let t=e.key.replace(`Arrow`,``).toLowerCase(),{current:n=t}=G;if(e.key===`Escape`){B(!1),K.current[0].focus(),k&&k(e,`escapeKeyDown`);return}if(T(t)===T(n)&&T(t)!==void 0){e.preventDefault();let r=t===n?1:-1,i=u(W.current+r,0,K.current.length-1);K.current[i].focus(),W.current=i,G.current=n}};b.useEffect(()=>{z||(W.current=0,G.current=void 0)},[z]);let Y=e=>{e.type===`mouseleave`&&N&&N(e),e.type===`blur`&&D&&D(e),U.clear(),e.type===`blur`?U.start(0,()=>{B(!1),k&&k(e,`blur`)}):(B(!1),k&&k(e,`mouseLeave`))},se=e=>{g.onClick&&g.onClick(e),U.clear(),z?(B(!1),k&&k(e,`toggle`)):(B(!0),P&&P(e,`toggle`))},X=e=>{e.type===`mouseenter`&&M&&M(e),e.type===`focus`&&A&&A(e),U.clear(),z||U.start(0,()=>{B(!0),P&&P(e,{focus:`focus`,mouseenter:`mouseEnter`}[e.type])})},Z=f.replace(/^[^a-z]+|[^\w:.-]+/gi,``),Q=b.Children.toArray(_).filter(e=>b.isValidElement(e)),ce=Q.map((e,t)=>{let{FabProps:{ref:n}={},slotProps:r={},tooltipPlacement:i}=e.props,{fab:{ref:a,...o}={},...s}=r,c=i||(T(x)===`vertical`?`left`:`top`);return b.cloneElement(e,{slotProps:{fab:{...o,ref:J(t,n,a)},...s},delay:30*(z?t:Q.length-t),open:z,tooltipPlacement:c,id:`${Z}-action-${t}`})}),$={slots:{transition:ae,...re},slotProps:{transition:I,...ie}},[le,ue]=o(`root`,{elementType:O,externalForwardedProps:{...$,...R},ownerState:V,ref:r,className:n(H.root,v),additionalProps:{role:`presentation`},getSlotProps:e=>({...e,onKeyDown:t=>{e.onKeyDown?.(t),oe(t)},onBlur:t=>{e.onBlur?.(t),Y(t)},onFocus:t=>{e.onFocus?.(t),X(t)},onMouseEnter:t=>{e.onMouseEnter?.(t),X(t)},onMouseLeave:t=>{e.onMouseLeave?.(t),Y(t)}})}),[de,fe]=o(`transition`,{elementType:t,externalForwardedProps:$,ownerState:V});return(0,C.jsxs)(le,{...ue,children:[(0,C.jsx)(de,{in:!S,timeout:L,unmountOnExit:!0,...fe,children:(0,C.jsx)(ee,{color:`primary`,"aria-label":f,"aria-haspopup":`true`,"aria-expanded":z,"aria-controls":`${Z}-actions`,...g,onClick:se,className:n(H.fab,g.className),ref:q,ownerState:V,children:b.isValidElement(E)&&l(E,[`SpeedDialIcon`])?b.cloneElement(E,{open:z}):E})}),(0,C.jsx)(te,{id:`${Z}-actions`,role:`menu`,"aria-orientation":T(x),className:n(H.actions,!z&&H.actionsClosed),ownerState:V,children:ce})]})});export{k as default,x as getSpeedDialUtilityClass,S as speedDialClasses};
name = "distributex-api"
main = "functions/api/[[path]].ts"
compatibility_date = "2024-01-01"
nodejs_compat = true

[env.production]
name = "distributex-api-production"
routes = [
  { pattern = "api.distributex.cloud/*", zone_name = "distributex.cloud" }
]

[env.production.vars]
ENVIRONMENT = "production"

[[env.production.kv_namespaces]]
binding = "SESSIONS"
id = "2393dbaa488a4c429e8247dc34b59ef6"

[[env.production.kv_namespaces]]
binding = "RATE_LIMIT"
id = "2982e734601b4bbf91836cae34d1af5a"

[observability]
enabled = true
head_sampling_rate = 1

"""Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT."""

from __future__ import annotations
from cribl_control_plane.types import BaseModel
import pydantic
from typing import List, Optional
from typing_extensions import Annotated, NotRequired, TypedDict


class FunctionConfSchemaSamplingRuleTypedDict(TypedDict):
    filter_: NotRequired[str]
    r"""JavaScript filter expression matching events to be sampled. Use true to match all."""
    rate: NotRequired[int]
    r"""Sampling rate; picks one out of N matching events"""


class FunctionConfSchemaSamplingRule(BaseModel):
    filter_: Annotated[Optional[str], pydantic.Field(alias="filter")] = "true"
    r"""JavaScript filter expression matching events to be sampled. Use true to match all."""

    rate: Optional[int] = 1
    r"""Sampling rate; picks one out of N matching events"""


class FunctionConfSchemaSamplingTypedDict(TypedDict):
    rules: NotRequired[List[FunctionConfSchemaSamplingRuleTypedDict]]
    r"""Events matching these rules will be sampled at the given rate"""


class FunctionConfSchemaSampling(BaseModel):
    rules: Optional[List[FunctionConfSchemaSamplingRule]] = None
    r"""Events matching these rules will be sampled at the given rate"""

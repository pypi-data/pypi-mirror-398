Metadata-Version: 2.4
Name: uno-mcp
Version: 0.1.0
Summary: Uno MCP Server - All-in-One MCP Gateway with Skills
Project-URL: Homepage, https://github.com/xray918/uno-mcp
Project-URL: Repository, https://github.com/xray918/uno-mcp
Project-URL: Documentation, https://github.com/xray918/uno-mcp#readme
Project-URL: Issues, https://github.com/xray918/uno-mcp/issues
Author-email: xray918 <xray918@example.com>
License: MIT
Keywords: agent,ai,gateway,llm,mcp,openai,skills
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Topic :: Scientific/Engineering :: Artificial Intelligence
Classifier: Topic :: Software Development :: Libraries :: Python Modules
Requires-Python: >=3.11
Requires-Dist: aiofiles>=23.2.0
Requires-Dist: httpx>=0.27.0
Requires-Dist: hypercorn>=0.16.0
Requires-Dist: mcp>=1.0.0
Requires-Dist: numpy>=1.26.0
Requires-Dist: openai>=1.10.0
Requires-Dist: pydantic-settings>=2.1.0
Requires-Dist: pydantic>=2.5.0
Requires-Dist: python-dotenv>=1.0.0
Requires-Dist: pyyaml>=6.0.0
Requires-Dist: quart-cors>=0.8.0
Requires-Dist: quart>=0.19.0
Provides-Extra: dev
Requires-Dist: black>=24.0.0; extra == 'dev'
Requires-Dist: isort>=5.13.0; extra == 'dev'
Requires-Dist: mypy>=1.8.0; extra == 'dev'
Requires-Dist: pytest-asyncio>=0.23.0; extra == 'dev'
Requires-Dist: pytest-cov>=4.1.0; extra == 'dev'
Requires-Dist: pytest>=7.4.0; extra == 'dev'
Description-Content-Type: text/markdown

# Uno MCP Server

[![PyPI version](https://badge.fury.io/py/uno-mcp.svg)](https://pypi.org/project/uno-mcp/)
[![Python 3.11+](https://img.shields.io/badge/python-3.11+-blue.svg)](https://www.python.org/downloads/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

**All-in-One MCP Gateway with Skills** - é›†æˆçš„ MCP ç½‘å…³æœåŠ¡ï¼Œé€šè¿‡ Skills æœºåˆ¶ä¼˜åŒ– LLM ä¸Šä¸‹æ–‡ç©ºé—´ä½¿ç”¨ã€‚

## ğŸ¯ æ ¸å¿ƒç†å¿µ

Uno æ˜¯ä¸€ä¸ªã€ŒMCP å…ƒç½‘å…³ã€ï¼Œå€Ÿé‰´ Claude Skills æ€æƒ³ï¼Œé€šè¿‡åˆ†å±‚ç´¢å¼•æœºåˆ¶å®ç°æŒ‰éœ€åŠ è½½å·¥å…·å®šä¹‰ï¼Œè§£å†³å¤§é‡ MCP server å ç”¨è¿‡å¤š LLM ä¸Šä¸‹æ–‡ç©ºé—´çš„é—®é¢˜ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    LLM ä¸Šä¸‹æ–‡ç©ºé—´                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  å¸¸é©»ï¼šUno çš„ 4 ä¸ªæ ¸å¿ƒå·¥å…·å®šä¹‰ï¼ˆ~200 tokensï¼‰                 â”‚ â”‚
â”‚  â”‚  - get_servers: æè¿°ä¸­åŒ…å«æ‰€æœ‰ server åå­—å’Œç®€ä»‹            â”‚ â”‚
â”‚  â”‚  - get_skill: æ ¹æ®é—®é¢˜åŒ¹é… skill                           â”‚ â”‚
â”‚  â”‚  - call: è°ƒç”¨è¿œç¨‹å·¥å…·                                      â”‚ â”‚
â”‚  â”‚  - execute: æ‰§è¡Œè„šæœ¬ï¼ˆæ²™ç›’ï¼‰                                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                              â†“ æŒ‰éœ€åŠ è½½                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  å…·ä½“ tools çš„è¯¦ç»†å®šä¹‰ï¼ˆè°ƒç”¨ get_servers/get_skill åè·å¾—ï¼‰  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## âœ¨ æ ¸å¿ƒç‰¹æ€§

- **ğŸ”§ æ ¸å¿ƒå·¥å…·**
  - `get_servers`: å·¥å…·æè¿°ä¸­**å†…åµŒæ‰€æœ‰ server ç´¢å¼•**ï¼ŒLLM ä¸€çœ¼å°±çŸ¥é“æœ‰å“ªäº›å¯ç”¨
  - `get_skill`: æ™ºèƒ½åŒ¹é… Skillï¼ˆè·¨ server çš„å·¥å…·ç»„åˆï¼‰
  - `call`: è°ƒç”¨ä»»æ„è¿œç¨‹ MCP å·¥å…·
  - `execute`: å®‰å…¨æ²™ç›’æ‰§è¡Œè„šæœ¬

- **ğŸ¯ Skills ç³»ç»Ÿ**
  - é¢„å®šä¹‰å¸¸ç”¨ Skillï¼ˆæ—…æ¸¸è®¢ç¥¨ã€ç½‘ç»œç ”ç©¶ã€æ—¶é—´å·¥å…·ç­‰ï¼‰
  - æ”¯æŒè‡ªå®šä¹‰ Skillï¼ˆYAML é…ç½®ï¼‰
  - æ™ºèƒ½è¯­ä¹‰åŒ¹é…ï¼ˆå…³é”®è¯ + LLMï¼‰

- **ğŸ” å®‰å…¨è®¤è¯**
  - OAuth 2.0 è®¤è¯ï¼ˆå¤ç”¨ MCPMarketï¼‰
  - ç”¨æˆ·éš”ç¦»
  - æ²™ç›’è„šæœ¬æ‰§è¡Œ

- **ğŸ–¥ï¸ å¼€å‘è€… GUI**
  - ç›´è§‚æŸ¥çœ‹æ‰€æœ‰ Server å’Œ Tools
  - Skill åŒ¹é…æµ‹è¯•
  - è°ƒç”¨æ—¥å¿—å’Œç»Ÿè®¡

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹å¼ä¸€ï¼šé€šè¿‡ PyPI å®‰è£…ï¼ˆæ¨èï¼‰

```bash
# ä½¿ç”¨ uvx ç›´æ¥è¿è¡Œï¼ˆæ— éœ€å®‰è£…ï¼‰
uvx uno-mcp

# æˆ–ä½¿ç”¨ pip å®‰è£…
pip install uno-mcp
uno
```

### æ–¹å¼äºŒï¼šä»æºç å®‰è£…

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/xray918/uno-mcp.git
cd uno-mcp

# å®‰è£…ä¾èµ–
uv sync

# è¿è¡Œ
uv run uno
```

### ç¯å¢ƒå˜é‡é…ç½®

Uno å¼€ç®±å³ç”¨ï¼Œæ‰€æœ‰é…ç½®éƒ½æœ‰åˆç†çš„é»˜è®¤å€¼ã€‚å¯é€‰é…ç½®ï¼š

```bash
# OpenAI API Keyï¼ˆç”¨äºæ™ºèƒ½ Skill åŒ¹é…ï¼Œå¯é€‰ï¼‰
export OPENAI_API_KEY=sk-your-api-key

# è¿è¡ŒæœåŠ¡å™¨
uvx uno-mcp
```

è¯¦ç»†é…ç½®è¯´æ˜è¯·å‚è€ƒ [.env.example](.env.example) æ–‡ä»¶ã€‚

### å¼€å‘æ¨¡å¼

```bash
# å¼€å‘æ¨¡å¼è¿è¡Œ
DEBUG=True uvx uno-mcp

# æˆ–ä»æºç è¿è¡Œ
DEBUG=True uv run uno
```

### è®¿é—®

- **GUI æ§åˆ¶å°**: <http://localhost:8089/gui>
- **MCP ç«¯ç‚¹**: <http://localhost:8089/mcp>
- **API æ–‡æ¡£**: <http://localhost:8089/.well-known/mcp.json>

## ğŸ“¡ MCP åè®®ä½¿ç”¨

### 1. å‘ç°æœåŠ¡

```bash
curl http://localhost:8089/.well-known/mcp.json
```

### 2. åˆ—å‡ºå·¥å…·

```bash
curl -X POST http://localhost:8089/mcp \
  -H "Content-Type: application/json" \
  -d '{"jsonrpc":"2.0","method":"tools/list","id":1}'
```

### 3. è·å– Server è¯¦æƒ…

```bash
curl -X POST http://localhost:8089/mcp \
  -H "Content-Type: application/json" \
  -d '{
    "jsonrpc":"2.0",
    "method":"tools/call",
    "params":{
      "name":"get_servers",
      "arguments":{"server_names":["time","fetch"]}
    },
    "id":2
  }'
```

### 4. åŒ¹é… Skill

```bash
curl -X POST http://localhost:8089/mcp \
  -H "Content-Type: application/json" \
  -d '{
    "jsonrpc":"2.0",
    "method":"tools/call",
    "params":{
      "name":"get_skill",
      "arguments":{"question":"å¸®æˆ‘æŸ¥ä¸€ä¸‹åŒ—äº¬åˆ°ä¸Šæµ·çš„æœºç¥¨"}
    },
    "id":3
  }'
```

### 5. è°ƒç”¨è¿œç¨‹å·¥å…·

```bash
curl -X POST http://localhost:8089/mcp \
  -H "Content-Type: application/json" \
  -d '{
    "jsonrpc":"2.0",
    "method":"tools/call",
    "params":{
      "name":"call",
      "arguments":{
        "tool_name":"time.get_current_time",
        "arguments":{"timezone":"Asia/Shanghai"}
      }
    },
    "id":4
  }'
```

## ğŸ¯ Skill é…ç½®

Skills å®šä¹‰åœ¨ `src/skills/presets/` ç›®å½•ä¸‹ï¼Œä½¿ç”¨ YAML æ ¼å¼ï¼š

```yaml
# travel.yaml
name: travel_booking
description: æ—…æ¸¸è®¢ç¥¨æŠ€èƒ½
tags:
  - æ—…æ¸¸
  - è®¢ç¥¨
  - é…’åº—
keywords:
  - è®¢é…’åº—
  - è®¢æœºç¥¨

instructions: |
  ä½¿ç”¨è¯´æ˜...

tools:
  - hotel.search_hotels
  - flight.search_flights
  - map.get_route
```

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
uno/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.py              # å…¥å£
â”‚   â”œâ”€â”€ server.py            # MCP Server
â”‚   â”œâ”€â”€ config.py            # é…ç½®
â”‚   â”œâ”€â”€ tools/               # æ ¸å¿ƒå·¥å…·
â”‚   â”‚   â”œâ”€â”€ get_servers.py   # è·å– servers
â”‚   â”‚   â”œâ”€â”€ get_skill.py     # åŒ¹é… skill
â”‚   â”‚   â”œâ”€â”€ call.py          # è°ƒç”¨å·¥å…·
â”‚   â”‚   â””â”€â”€ execute.py       # æ‰§è¡Œè„šæœ¬
â”‚   â”œâ”€â”€ skills/              # Skill ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ skill_manager.py
â”‚   â”‚   â”œâ”€â”€ matcher.py
â”‚   â”‚   â””â”€â”€ presets/         # é¢„å®šä¹‰ skills
â”‚   â”œâ”€â”€ registry/            # Server æ³¨å†Œ
â”‚   â””â”€â”€ auth/                # OAuth è®¤è¯
â”œâ”€â”€ gui/                     # å¼€å‘è€…ç•Œé¢
â”‚   â”œâ”€â”€ templates/
â”‚   â””â”€â”€ static/
â”œâ”€â”€ pyproject.toml
â””â”€â”€ README.md
```

## ğŸ”§ é…ç½®è¯´æ˜

### å¿…éœ€é…ç½®

æ— ã€‚Uno å¼€ç®±å³ç”¨ï¼Œæ‰€æœ‰åŠŸèƒ½éƒ½æœ‰åˆç†çš„é»˜è®¤å€¼æˆ–é™çº§æ–¹æ¡ˆã€‚

### å¯é€‰é…ç½®

| ç¯å¢ƒå˜é‡ | è¯´æ˜ | é»˜è®¤å€¼ |
|---------|------|--------|
| `HOST` | æœåŠ¡å™¨åœ°å€ | `0.0.0.0` |
| `PORT` | æœåŠ¡å™¨ç«¯å£ | `8089` |
| `DEBUG` | è°ƒè¯•æ¨¡å¼ | `False` |
| `OPENAI_API_KEY` | OpenAI Keyï¼ˆæ™ºèƒ½ Skill åŒ¹é…ï¼‰ | - |
| `OPENAI_BASE_URL` | OpenAI API åœ°å€ | - |
| `SKILL_MATCHER_MODEL` | åŒ¹é…æ¨¡å‹ | `gpt-4o-mini` |
| `SANDBOX_TIMEOUT` | è„šæœ¬æ‰§è¡Œè¶…æ—¶ï¼ˆç§’ï¼‰ | `30` |

### åŠŸèƒ½é™çº§è¯´æ˜

- **æœªé…ç½® `OPENAI_API_KEY`**ï¼šSkill åŒ¹é…å°†ä½¿ç”¨å…³é”®è¯æ¨¡å¼ï¼Œä»ç„¶å¯ç”¨

## ğŸ›£ï¸ è·¯çº¿å›¾

- [x] æ ¸å¿ƒå·¥å…·å®ç°ï¼ˆget_servers, get_skill, call, executeï¼‰
- [x] Skills ç³»ç»Ÿ
- [x] OAuth 2.0 è®¤è¯
- [x] å¼€å‘è€… GUI
- [ ] è°ƒç”¨ç»Ÿè®¡å’Œåˆ†æ
- [ ] Server åˆ†ç»„ï¼ˆGroupï¼‰
- [ ] ç¬¬ä¸‰æ–¹ Skill æäº¤
- [ ] WebSocket æ”¯æŒ

## ğŸ“„ License

MIT

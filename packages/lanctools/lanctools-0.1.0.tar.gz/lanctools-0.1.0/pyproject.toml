[project]
name = "lanctools"
version = "0.1.0"
license = { text = "MIT" }
description = "Add your description here"
readme = "README.md"
authors = [{ name = "Frank Ockerman", email = "frank.ockerman@gmail.com" }]
requires-python = ">=3.12"
dependencies = [
  "numba>=0.63.1",
  "numpy>=2.3.5",
  "pandas>=2.3.3",
  "pgenlib>=0.93.0",
  "typer>=0.20.0",
]

[tool.scikit-build]
minimum-version = "build-system.requires"
build-dir = "build/{wheel_tag}"

wheel.exclude = ["data", "result"]
sdist.exclude = ["data", "result"]

[tool.uv]
cache-keys = [
  { file = "pyproject.toml" },
  { file = "src/**/*.{h,c,hpp,cpp}" },
  { file = "CMakeLists.txt" },
]

[build-system]
requires = ["scikit-build-core>=0.10", "pybind11"]
build-backend = "scikit_build_core.build"

[dependency-groups]
dev = [
  "ipython>=9.6.0",
  "pytest>=9.0.2",
  "pytest-cov>=7.0.0",
  "sphinx>=7,<9",
  "myst-parser>=2.0.0",
  "sphinx-autodoc-typehints>=3.5.2",
  "sphinx-rtd-theme>=3.0.2",
]

[tool.setuptools.packages.find]
where = ["src"]

[project.scripts]
lanctools = "lanctools.cli:main_entry"


[tool.pytest.ini_options]
testpaths = ["tests"]
python_files = ["test_*.py"]
python_functions = ["test_*"]
addopts = [
  "--strict-markers",
  "--strict-config",
  "--cov=src",
  "--cov-report=term-missing",
]

[build-system]
requires = ["poetry-core>=2.0.0,<3.0.0"]
build-backend = "poetry.core.masonry.api"

[project]
name = "nonebot-plugin-group-relay"
version = "0.1.0"
description = "在多个 QQ 群之间中继/转发消息的 NoneBot2 插件"
readme = "README.md"
requires-python = ">=3.9, <4.0"
license = { file = "LICENSE" }

authors = [
  { name = "TonyLiang", email = "tghrtwld@example.com" },
]

dependencies = [
  "nonebot2[fastapi,httpx,websockets,aiohttp]>=2.4.4",
  "nonebot-adapter-onebot>=2.4.6",
]

keywords = [
  "nonebot",
  "nonebot2",
  "nonebot-plugin",
  "qqbot",
  "onebot",
  "group",
  "relay",
  "forward",
]

classifiers = [
  "Programming Language :: Python :: 3",
  "Programming Language :: Python :: 3 :: Only",
  "Programming Language :: Python :: 3.9",
  "License :: OSI Approved :: MIT License",
  "Framework :: AsyncIO",
  "Intended Audience :: Developers",
  "Topic :: Communications :: Chat",
]

[project.urls]
Homepage = "https://github.com/TonyLiangP2010405/nonebot-plugin-group-relay"
Repository = "https://github.com/TonyLiangP2010405/nonebot-plugin-group-relay"
Issues = "https://github.com/TonyLiangP2010405/nonebot-plugin-group-relay/issues"

[project.entry-points."nonebot.plugin"]
nonebot_plugin_group_relay = "nonebot_plugin_group_relay"

[tool.poetry]
packages = [
  { include = "nonebot_plugin_group_relay" }
]

[project.optional-dependencies]
dev = [
  "pyright[nodejs]",
  "ruff",
]

[tool.ruff]
line-length = 88
target-version = "py39"

[tool.ruff.format]
line-ending = "lf"

[tool.ruff.lint]
# 规则选择
select = [
  "F",     # Pyflakes
  "W",     # pycodestyle warnings
  "E",     # pycodestyle errors
  "I",     # isort
  "C90",   # mccabe
  "N",     # pep8-naming
  "PL",    # pylint
  "UP",    # pyupgrade
  "YTT",   # flake8-2020
  "ANN",   # flake8-annotations
  "ASYNC", # flake8-async
  "BLE",   # flake8-blind-except
  "FBT",   # flake8-boolean-trap
  "B",     # flake8-bugbear
  "A",     # flake8-builtins
  "COM",   # flake8-commas
  "C4",    # flake8-comprehensions
  "DTZ",   # flake8-datetimez
  "T10",   # flake8-debugger
  "ICN",   # flake8-import-conventions
  "PIE",   # flake8-pie
  "T20",   # flake8-print
  "PYI",   # flake8-pyi
  "Q",     # flake8-quotes
  "RSE",   # flake8-raise
  "RET",   # flake8-return
  "SIM",   # flake8-simplify
  "SLOT",  # flake8-slots
  "TID",   # flake8-tidy-imports
  "TC",    # flake8-type-checking
  "ARG",   # flake8-unused-arguments
  "PTH",   # flake8-use-pathlib
  # "ERA",   # eradicate
  "FAST",  # FastAPI
  "PERF",  # Perflint
  "PGH",   # pygrep-hooks
  "FURB",  # refurb
  "TRY",   # tryceratops
  "RUF",   # Ruff-specific rules
]

ignore = [
  "E402",    # module-import-not-at-top-of-file
  "B008",    # function-call-in-default-argument
  "UP037",   # quoted-annotation
  "ANN202",  # missing-return-type-private-function
  "ANN401",  # any-type
  "COM812",  # missing-trailing-comma
  "PLC0415", # import-outside-top-level
]

allowed-confusables = [
  "，", "。", "“", "”", "：", "；", "？", "！",
  "【", "】", "《", "》", "…", "—", "（", "）", "、",
]

[tool.ruff.lint.pyupgrade]
keep-runtime-typing = true

[tool.pyright]
pythonVersion = "3.9"
pythonPlatform = "All"
typeCheckingMode = "standard"
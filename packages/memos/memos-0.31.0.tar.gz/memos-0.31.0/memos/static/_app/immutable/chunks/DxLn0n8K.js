var V=Object.defineProperty;var N=t=>{throw TypeError(t)};var W=(t,e,r)=>e in t?V(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var U=(t,e,r)=>W(t,typeof e!="symbol"?e+"":e,r),Y=(t,e,r)=>e.has(t)||N("Cannot "+r);var n=(t,e,r)=>(Y(t,e,"read from private field"),r?r.call(t):e.get(t)),p=(t,e,r)=>e.has(t)?N("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),K=(t,e,r,s)=>(Y(t,e,"write to private field"),s?s.call(t,r):e.set(t,r),r);import{C as $,D as X,F as A,G as H,I as j,J as C,o as k,K as ee,L as te,M as re,N as se,n as F,O as ne,P as ie,Q as G,R as ae,g as D,T as fe,U as E,V as ue,W as oe,X as ce,Y as le,Z as de,i as he,_ as pe,$ as _e,d as ve,a0 as be,a1 as ge,a2 as me,a3 as P,S as Z,a4 as q,a5 as Se,a6 as Pe}from"./DY2_4wOY.js";var l,h,o,_,w,y,R;class Re{constructor(e,r=!0){U(this,"anchor");p(this,l,new Map);p(this,h,new Map);p(this,o,new Map);p(this,_,new Set);p(this,w,!0);p(this,y,()=>{var e=$;if(n(this,l).has(e)){var r=n(this,l).get(e),s=n(this,h).get(r);if(s)X(s),n(this,_).delete(r);else{var i=n(this,o).get(r);i&&(n(this,h).set(r,i.effect),n(this,o).delete(r),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),s=i.effect)}for(const[a,c]of n(this,l)){if(n(this,l).delete(a),a===e)break;const f=n(this,o).get(c);f&&(A(f.effect),n(this,o).delete(c))}for(const[a,c]of n(this,h)){if(a===r||n(this,_).has(a))continue;const f=()=>{if(Array.from(n(this,l).values()).includes(a)){var v=document.createDocumentFragment();te(c,v),v.append(j()),n(this,o).set(a,{effect:c,fragment:v})}else A(c);n(this,_).delete(a),n(this,h).delete(a)};n(this,w)||!s?(n(this,_).add(a),H(c,f,!1)):f()}}});p(this,R,e=>{n(this,l).delete(e);const r=Array.from(n(this,l).values());for(const[s,i]of n(this,o))r.includes(s)||(A(i.effect),n(this,o).delete(s))});this.anchor=e,K(this,w,r)}ensure(e,r){var s=$,i=re();if(r&&!n(this,h).has(e)&&!n(this,o).has(e))if(i){var a=document.createDocumentFragment(),c=j();a.append(c),n(this,o).set(e,{effect:C(()=>r(c)),fragment:a})}else n(this,h).set(e,C(()=>r(this.anchor)));if(n(this,l).set(s,e),i){for(const[f,d]of n(this,h))f===e?s.skipped_effects.delete(d):s.skipped_effects.add(d);for(const[f,d]of n(this,o))f===e?s.skipped_effects.delete(d.effect):s.skipped_effects.add(d.effect);s.oncommit(n(this,y)),s.ondiscard(n(this,R))}else k&&(this.anchor=ee),n(this,y).call(this)}}l=new WeakMap,h=new WeakMap,o=new WeakMap,_=new WeakMap,w=new WeakMap,y=new WeakMap,R=new WeakMap;let I=!1,M=Symbol();function xe(t,e,r){const s=r[e]??(r[e]={store:null,source:ne(void 0),unsubscribe:F});if(s.store!==t&&!(M in r))if(s.unsubscribe(),s.store=t??null,t==null)s.source.v=void 0,s.unsubscribe=F;else{var i=!0;s.unsubscribe=ie(t,a=>{i?s.source.v=a:G(s.source,a)}),i=!1}return t&&M in r?ae(t):D(s.source)}function Ae(){const t={};function e(){se(()=>{for(var r in t)t[r].unsubscribe();fe(t,M,{enumerable:!1,value:!0})})}return[t,e]}function we(t){var e=I;try{return I=!1,[t(),I]}finally{I=e}}const ye={get(t,e){if(!t.exclude.includes(e))return t.props[e]},set(t,e){return!1},getOwnPropertyDescriptor(t,e){if(!t.exclude.includes(e)&&e in t.props)return{enumerable:!0,configurable:!0,value:t.props[e]}},has(t,e){return t.exclude.includes(e)?!1:e in t.props},ownKeys(t){return Reflect.ownKeys(t.props).filter(e=>!t.exclude.includes(e))}};function Ee(t,e,r){return new Proxy({props:t,exclude:e},ye)}const Oe={get(t,e){let r=t.props.length;for(;r--;){let s=t.props[r];if(P(s)&&(s=s()),typeof s=="object"&&s!==null&&e in s)return s[e]}},set(t,e,r){let s=t.props.length;for(;s--;){let i=t.props[s];P(i)&&(i=i());const a=E(i,e);if(a&&a.set)return a.set(r),!0}return!1},getOwnPropertyDescriptor(t,e){let r=t.props.length;for(;r--;){let s=t.props[r];if(P(s)&&(s=s()),typeof s=="object"&&s!==null&&e in s){const i=E(s,e);return i&&!i.configurable&&(i.configurable=!0),i}}},has(t,e){if(e===Z||e===q)return!1;for(let r of t.props)if(P(r)&&(r=r()),r!=null&&e in r)return!0;return!1},ownKeys(t){const e=[];for(let r of t.props)if(P(r)&&(r=r()),!!r){for(const s in r)e.includes(s)||e.push(s);for(const s of Object.getOwnPropertySymbols(r))e.includes(s)||e.push(s)}return e}};function Me(...t){return new Proxy({props:t},Oe)}function Te(t,e,r,s){var L;var i=!be||(r&ge)!==0,a=(r&_e)!==0,c=(r&Se)!==0,f=s,d=!0,v=()=>(d&&(d=!1,f=c?ve(s):s),f),g;if(a){var z=Z in t||q in t;g=((L=E(t,e))==null?void 0:L.set)??(z&&e in t?u=>t[e]=u:void 0)}var m,T=!1;a?[m,T]=we(()=>t[e]):m=t[e],m===void 0&&s!==void 0&&(m=v(),g&&(i&&ue(),g(m)));var b;if(i?b=()=>{var u=t[e];return u===void 0?v():(d=!0,u)}:b=()=>{var u=t[e];return u!==void 0&&(f=void 0),u===void 0?f:u},i&&!(r&oe))return b;if(g){var J=t.$$legacy;return function(u,O){return arguments.length>0?((!i||!O||J||T)&&g(O?b():u),u):b()}}var x=!1,S=(r&me?he:pe)(()=>(x=!1,b()));a&&D(S);var Q=le;return function(u,O){if(arguments.length>0){const B=O?D(S):i&&a?ce(u):u;return G(S,B),x=!0,f!==void 0&&(f=B),u}return Pe&&x||Q.f&de?S.v:D(S)}}export{Re as B,Ae as a,xe as b,Te as p,Ee as r,Me as s};

import{m as E,o as h,q as y,E as A,v as k,H as l,w as b,x as d,y as u,z as B,A as R,d as g,B as p,S as w}from"./DY2_4wOY.js";import{B as S}from"./DxLn0n8K.js";function q(s,r,f=!1){h&&y();var t=new S(s),i=f?A:0;function a(n,c){if(h){const _=k(s)===l;if(n===_){var e=b();d(e),t.anchor=e,u(!1),t.ensure(n,c),u(!0);return}}t.ensure(n,c)}E(()=>{var n=!1;r((c,e=!0)=>{n=!0,a(e,c)}),n||a(!1,null)},i)}function v(s,r,f){h&&y();var t=new S(s);E(()=>{var i=r()??null;t.ensure(i,i&&(a=>f(a,i)))},A)}function T(s,r){return s===r||(s==null?void 0:s[w])===r}function F(s={},r,f,t){return B(()=>{var i,a;return R(()=>{i=a,a=[],g(()=>{s!==f(...a)&&(r(s,...a),i&&T(f(...i),s)&&r(null,...i))})}),()=>{p(()=>{a&&T(f(...a),s)&&r(null,...a)})}}),s}export{F as b,v as c,q as i};

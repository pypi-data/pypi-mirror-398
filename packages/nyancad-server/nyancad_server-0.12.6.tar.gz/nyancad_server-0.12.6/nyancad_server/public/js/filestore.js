import { $APP, shadow$provide } from "./common.js";
var LI=function(a){$APP.yi($APP.J(["Saving notebook to database"]));return $APP.Ui.s(II,$APP.W,""+$APP.X.g(JI)+$APP.X.g(":")+"notebook.py",new $APP.V(null,2,[$APP.zw,a,KI,(new Date).toISOString()],null))},MI=function(){$APP.yi($APP.J(["Reading notebook from database"]));return $APP.Af($APP.n(II),new $APP.T(null,2,5,$APP.U,[""+$APP.X.g(JI)+$APP.X.g(":")+"notebook.py",$APP.zw],null))},QI=function(){var a={saveFile:LI,readFile:MI};window.__MARIMO_MOUNT_CONFIG__.config.save=$APP.rl(new $APP.V(null,3,
[NI,"after_delay",OI,2E3,PI,!0],null));return window.__MARIMO_MOUNT_CONFIG__.fileStores=$APP.rl(new $APP.T(null,1,5,$APP.U,[a],null))},OI=new $APP.O(null,"autosave_delay","autosave_delay",-540817600),PI=new $APP.O(null,"format_on_save","format_on_save",-218481126),KI=new $APP.O(null,"lastModified","lastModified",-1993155246),NI=new $APP.O(null,"autosave","autosave",-879866416);var RI=new URLSearchParams(window.location.search),SI=$APP.X,TI=SI.g,UI=RI.get("schem"),JI=""+TI.call(SI,$APP.m(UI)?UI:"myschem")+"$notebook",VI=$APP.Qm("schematics"),II=$APP.dn(VI,JI,$APP.Kl($APP.Q));$APP.bn(VI,$APP.J([II]));$APP.ja("nyancad.mosaic.filestore.init",QI);QI();
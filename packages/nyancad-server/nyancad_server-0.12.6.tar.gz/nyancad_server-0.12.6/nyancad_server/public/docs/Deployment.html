<!DOCTYPE html>
<html lang="en-US">

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,maximum-scale=2">
    <link rel="stylesheet" type="text/css" media="screen" href="/docs/assets/css/style.css?v=">

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Deployment</title>
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="Deployment" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="/docs/Deployment.html" />
<meta property="og:url" content="/docs/Deployment.html" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Deployment" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","headline":"Deployment","url":"/docs/Deployment.html"}</script>
<!-- End Jekyll SEO tag -->

    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup Google Analytics -->



<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/docs/favicon.ico" -->

<!-- end custom head snippets -->

  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">

          <h1 id="project_title"></h1>
          <h2 id="project_tagline"></h2>

            <section id="menu">
              <a class="try_online_link" href="/">Try online</a>
              <a class="release_link" href="https://pypi.org/project/nyancad-server/">Download</a>
              <a class="documentation_link" href="/docs/Documentation.html">Documentation</a>
              <a class="forkme_link" href="https://github.com/NyanCAD/Mosaic">Source code</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <p>The components that make up Mosaic can be deployed in several different ways. See also [Architecture] for a more in-depth look at how the components work together.</p>

<h1 id="editor-only">Editor-only</h1>

<p>The Mosaic web app is a pure JS application that can store schematics inside the browser in IndexDB/PouchDB, and optionally synchronize with a CouchDB database server. The <a href="https://nyancad.github.io/Mosaic/app">online demo</a> on the home page is such an installation that talks to a Cloudant instance.</p>

<p>In this scenario it is possible to draw, share, and collaborate on schematics, but there is no simulator available. It is however possible to synchronize with a CouchDB database that can later be used in an environment with a simulator, such as the other options documented below. This allows you to start drawing with zero barrier to entry, and switch to a more elaborate installation later.</p>

<p>Installing the editor this way is as simple as putting the <a href="https://github.com/NyanCAD/Mosaic/tree/gh-pages/app">files</a> on a webserver.</p>

<h1 id="local-installation">Local installation</h1>

<p>This method is outlined in the [Getting started instructions]. It basically comes down to installing the following packages</p>

<ol>
  <li>CouchDB, for storing and synchronizing schematics</li>
  <li>Pyttoresque, the Python library that serves Mosaic on Jupyter.</li>
  <li>NgspiceSimServer, a streaming RPC API to NgSpice.</li>
</ol>

<p>The way this is done for the <a href="https://github.com/NyanCAD/mosaic-installer">desktop installer</a> is by using <a href="https://github.com/conda/constructor">Constructor</a> to create an installer from the relevant Conda packages. It is however also possible to install these components from source, PyPi, and distro packages.</p>

<p><strong>Unstable</strong> when using CouchDB from a distro package, there is currently no way to use it as the local database in the web app, so PouchDB will be used, with the option to synchronize to the system CouchDB. Configuration options will be provided for this in the future.</p>

<h1 id="binder-hub">Binder (Hub)</h1>

<p><a href="https://mybinder.org/">Binder</a> is a cloud service that turns a git repository into a Docker image for running notebooks. It is based on <a href="https://binderhub.readthedocs.io/en/latest/index.html">BinderHub</a> which you can deploy yourself.</p>

<p>The <a href="https://github.com/NyanCAD/Pyttoresque-templates">Pyttoresque-templates</a> repository not only contains example notebooks for running simulations, it is also a repository that can be opened in Binder for a full fledged Mosaic installation.</p>

<p>Since Binder does not persist the state of your Docker image, the repository is configured without a local CouchDB installation, relying instead on the same Cloudant instance as the online demo. Trying to open the simulator from the online demo will in fact open the simulator on Binder.</p>

<h1 id="custom-deployment">Custom deployment</h1>

<p>An organisation seeking to provide Mosaic to its employees, providing collaboration and sharing while carefully managing access to design files, PDKs and simulators, may want to run Mosaic in various possible hybrid cloud/on-premise/local configurations. Since the web app, database, and simulation server are completely decoupled, any combination is possible.</p>

<ul>
  <li>You could provide a completely managed <a href="https://jupyter.org/hub">JupyterHub</a> environment that includes the database and simulation server.</li>
  <li>You could run an on-premise simulation server with NDA-protected PDK files, a hosted Cloudant database, and local Pyttoresque installations.</li>
  <li>You could only run a CouchDB server to synchronize designs between employees who each run their own installations.</li>
  <li>And many more options to suit your needs.</li>
</ul>

      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>
  </body>
</html>

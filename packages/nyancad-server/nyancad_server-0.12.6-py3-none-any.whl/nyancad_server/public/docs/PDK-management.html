<!DOCTYPE html>
<html lang="en-US">

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,maximum-scale=2">
    <link rel="stylesheet" type="text/css" media="screen" href="/docs/assets/css/style.css?v=">

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>PDK Management</title>
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="PDK Management" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="/docs/PDK-management.html" />
<meta property="og:url" content="/docs/PDK-management.html" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="PDK Management" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","headline":"PDK Management","url":"/docs/PDK-management.html"}</script>
<!-- End Jekyll SEO tag -->

    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup Google Analytics -->



<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/docs/favicon.ico" -->

<!-- end custom head snippets -->

  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">

          <h1 id="project_title"></h1>
          <h2 id="project_tagline"></h2>

            <section id="menu">
              <a class="try_online_link" href="/">Try online</a>
              <a class="release_link" href="https://pypi.org/project/nyancad-server/">Download</a>
              <a class="documentation_link" href="/docs/Documentation.html">Documentation</a>
              <a class="forkme_link" href="https://github.com/NyanCAD/Mosaic">Source code</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <p>Installing a PDK in Mosaic consists of essentially two steps: getting the SPICE models, and adding them to the Mosaic database. The Sky130 PDK will be used as an example here, because at the time of writing it is the only open source manufacturable PDK out there.</p>

<p>If you’re using <a href="https://github.com/NyanCAD/Pyttoresque-templates">Pyttoresque templates</a> on binder, Sky130 should already be installed.</p>

<h1 id="getting-the-spice-files">Getting the SPICE files</h1>

<p>The easiest way to install the Sky130 PDK is through <a href="https://github.com/RTimothyEdwards/open_pdks/">open_pdks</a>, a collection of scripts and patches to make the upstream PDK files work nicely with some commonly used open source tools.</p>

<p>Since Mosaic is typically installed using conda, the easiest way to install it is by running the following command inside your Mosaic installation. (For example by opening a terminal from JupyterLab)</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> conda install -c litex-hub open_pdks.sky130a 
</code></pre></div></div>

<h1 id="adding-mosaic-models">Adding Mosaic models</h1>

<p>The laborious way to add PDK models is to do so manually in the library manager, by using the arrow on “Add schematic” to select “Add SPICE model”, and setting the spice templates accordingly.</p>

<p><img src="https://user-images.githubusercontent.com/168609/181792649-fd0a9914-6bfc-42f8-ba84-ddcaffcd321b.png" alt="image" /></p>

<p>The easier way is to automate the process as has been done in <a href="https://github.com/NyanCAD/Pyttoresque-templates/blob/main/load_sky130.py">load_sky130.py</a>. At the top it defines some parameters, such as database credentials and paths. Then it takes a list of SPICE files from the command line, and uses PySpice to extract the model names. Finally, it uses aiocouch to update the database.</p>

<p>After that, the models can be selected in the editor</p>

<p><img src="https://user-images.githubusercontent.com/168609/181793698-77814650-8def-4b53-9906-cdcf99c69137.png" alt="image" /></p>

      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>
  </body>
</html>

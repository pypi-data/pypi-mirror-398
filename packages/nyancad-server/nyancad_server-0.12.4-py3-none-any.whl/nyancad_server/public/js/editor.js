import { $APP, shadow$provide } from "./common.js";
var pC=function(a){var b=oC;$APP.Yb(b,a);return b},qC=function(a){return(0,$APP.pv)(a)},rC=function(a){a=a.destroy;return a==null?null:a.m?a.m():a.call(null)},sC=function(a,b,c,d,e){this.meta=a;this.f=b;this.Wd=c;this.seed=d;this.next=e;this.o=26083532;this.F=1},tC=function(a,b){return new sC(null,a,null,b,null)},uC=function(a){return function d(c){return new $APP.se(null,function(){return $APP.oe(c,$APP.m($APP.ud.g?$APP.ud.g(c):$APP.ud.call(null,c))?$APP.sf(d,$APP.J([$APP.B.g?$APP.B.g(c):$APP.B.call(null,
c)])):null)},null,null)}(a)},vC=function(a){return $APP.uf(function(b){return!$APP.ud(b)},$APP.D(uC(a)))},wC=function(){var a=$APP.bk;return a==null?[]:$APP.mk(function(){return[]},a,$APP.Ey,null,rC)},xC=function(a,b,c,d,e,f){this.forms=a;this.Bb=b;this.gb=c;this.zd=d;this.cd=e;this.sf=f;this.o=393216;this.F=0},yC=function(a,b,c){var d=new $APP.Ei(function(){return $APP.zf($APP.Cn,b,a)}),e=function(){switch($APP.G(b)){case 2:return function(f){var g=$APP.n(d);f=$APP.en(g.g?g.g(0):g.call(null,0),f);
return $APP.wn(f)?$APP.vn:$APP.en(g.g?g.g(1):g.call(null,1),f)};case 3:return function(f){var g=$APP.n(d);f=$APP.en(g.g?g.g(0):g.call(null,0),f);if($APP.wn(f))return $APP.vn;f=$APP.en(g.g?g.g(1):g.call(null,1),f);return $APP.wn(f)?$APP.vn:$APP.en(g.g?g.g(2):g.call(null,2),f)};default:return function(f){for(var g=$APP.n(d),h=0;;)if(h<$APP.G(g)){f=$APP.en(g.g?g.g(h):g.call(null,h),f);if($APP.wn(f))return $APP.vn;h+=1}else return f}}}();return new xC(a,b,c,d,e,$APP.Q)},zC=function(a){var b=new $APP.ya,
c=$APP.Yp;$APP.Yp=new $APP.oc(b);try{var d=$APP.Yp,e=$APP.Ha($APP.tr(d)),f=$APP.Yp;$APP.Yp=e?$APP.kr(d):d;try{d=$APP.vr;$APP.vr=!0;try{$APP.xr(a)}finally{$APP.vr=d}$APP.H.h(0,$APP.iq($APP.Yp))||$APP.r($APP.Yp,"\n");$APP.eq()}finally{$APP.Yp=f}$APP.fi(""+$APP.X.g(b))}finally{$APP.Yp=c}},AC=function(a){return a.g?a.g(0):a.call(null,0)},BC=function(a){var b=AC(a);a=$APP.bA.g($APP.pd(a));return a.g?a.g(b):a.call(null,b)},CC=function(a){if($APP.m(BC(a))){var b=AC(a);a=$APP.Gw.g($APP.pd(a));return a.g?
a.g(b):a.call(null,b)}throw"called children on a leaf node";},DC=function(a,b,c){a=$APP.Rw.g($APP.pd(a));return a.h?a.h(b,c):a.call(null,b,c)},EC=function(a){if($APP.m(BC(a))){var b=$APP.K(a,0,null),c=$APP.K(a,1,null),d=CC(a),e=$APP.B(d),f=$APP.C(e);e=$APP.E(e);return $APP.m(d)?$APP.od(new $APP.T(null,2,5,$APP.U,[f,new $APP.V(null,4,[$APP.qz,$APP.wf,$APP.nz,$APP.m(c)?$APP.le.h($APP.nz.g(c),b):new $APP.T(null,1,5,$APP.U,[b],null),$APP.Lz,c,$APP.iz,e],null)],null),$APP.pd(a)):null}return null},FC=function(a){var b=
$APP.K(a,0,null),c=$APP.K(a,1,null),d=$APP.Oe(c);c=$APP.M(d,$APP.qz);var e=$APP.M(d,$APP.Lz),f=$APP.M(d,$APP.nz),g=$APP.M(d,$APP.iz);d=$APP.M(d,$APP.Ex);return $APP.m(f)?(f=$APP.qd(f),$APP.od($APP.m(d)?new $APP.T(null,2,5,$APP.U,[DC(a,f,$APP.rf.h(c,$APP.oe(b,g))),$APP.m(e)?$APP.W.i(e,$APP.Ex,!0):e],null):new $APP.T(null,2,5,$APP.U,[f,e],null),$APP.pd(a))):null},GC=function(a){a=a==null?null:EC(a);if(a==null)a=null;else{var b=$APP.K(a,0,null),c=$APP.K(a,1,null);c=$APP.Oe(c);var d=$APP.M(c,$APP.qz),
e=$APP.M(c,$APP.iz);a=$APP.m($APP.m(c)?e:c)?$APP.od(new $APP.T(null,2,5,$APP.U,[$APP.fd(e),$APP.W.j(c,$APP.qz,$APP.S.s($APP.le,d,b,$APP.Jh(e)),$APP.J([$APP.iz,null]))],null),$APP.pd(a)):a}return a==null?null:AC(a)},IC=function(a){var b=HC;$APP.Ui.h(b,function(c){var d=new $APP.ie(null,a,null,1,null);d=DC(c,AC(c),$APP.oe(d,CC(c)));$APP.K(c,0,null);var e=$APP.K(c,1,null);c=$APP.od(new $APP.T(null,2,5,$APP.U,[d,$APP.W.i(e,$APP.Ex,!0)],null),$APP.pd(c));return EC(c)});return GC($APP.n(b))},JC=function(){var a=
HC;$APP.Ui.h(a,function(b){return $APP.m(GC(FC(b)))?FC(b):b});return GC($APP.n(a))},KC=function(){var a=HC;$APP.Ui.h(a,function(b){return $APP.m(GC(EC(b)))?EC(b):b});return GC($APP.n(a))},LC=function(a){a=$APP.S.h($APP.Qs,$APP.sf($APP.Np.h($APP.Pp,2),$APP.J([a])))+1;return $APP.m(isFinite(a))?a:1},MC=function(a){var b=$APP.Qs.j(1,$APP.G($APP.nv.g(a)),$APP.J([$APP.G($APP.eu.g(a))]));a=$APP.Qs.j(1,$APP.G($APP.mv.g(a)),$APP.J([$APP.G($APP.vy.g(a))]));return new $APP.T(null,2,5,$APP.U,[a,b],null)},NC=
function(a){var b=MC(a),c=$APP.K(b,0,null),d=$APP.K(b,1,null);b=$APP.mv.g(a);var e=$APP.vy.g(a),f=$APP.nv.g(a);a=$APP.eu.g(a);return new $APP.T(null,4,5,$APP.U,[$APP.cf(function(g,h){return new $APP.T(null,3,5,$APP.U,[g+1,0,h],null)},b),$APP.cf(function(g,h){return new $APP.T(null,3,5,$APP.U,[g+1,d+1,h],null)},e),$APP.cf(function(g,h){return new $APP.T(null,3,5,$APP.U,[0,g+1,h],null)},f),$APP.cf(function(g,h){return new $APP.T(null,3,5,$APP.U,[c+1,g+1,h],null)},a)],null)},OC=function(a){function b(c,
d,e){return $APP.m(e)?$APP.le.h(c,d):c}return b(b(b(b($APP.Fh([$APP.li.g($APP.yj(a.key))]),$APP.ox,a.ctrlKey),$APP.pw,a.altKey),$APP.Iz,a.shiftKey),$APP.Hy,a.metaKey)},PC=function(a,b){if($APP.m(function(){var c=b.repeat;return $APP.m(c)?c:$APP.H.h("INPUT",b.target.tagName)||$APP.H.h("TEXTAREA",b.target.tagName)}()))return null;$APP.yi($APP.J([OC(b)]));a=$APP.jd(a,OC(b),function(){return $APP.Ec});return a.m?a.m():a.call(null)},QC=function(a){return $APP.uj(qC(function(){var b=new $APP.ya,c=$APP.Aa,
d=$APP.Da;$APP.Aa=!0;$APP.Da=function(e){return b.append(e)};try{zC(a)}finally{$APP.Da=d,$APP.Aa=c}return""+$APP.X.g(b)}())," ","Â ")},RC=function(a,b){return $APP.uj($APP.uj(a,/(?<=[^{]|^)\{([^{}:]+)(?::(?:\.(\d+))?([ef])?)?\}(?=[^}]|$)/,function(c){$APP.K(c,0,null);var d=$APP.K(c,1,null),e=$APP.K(c,2,null);c=$APP.K(c,3,null);try{var f=$APP.lf.h($APP.Kh,$APP.wh(b)),g=$APP.lf.h($APP.rl,$APP.yh(b)),h=$APP.S.h(Function,$APP.rf.h(f,new $APP.T(null,1,5,$APP.U,["return ("+$APP.X.g(d)+")"],null))),l=$APP.Um($APP.S.h(h,
g)),p=parseFloat(l);switch(c){case "e":return p.toExponential(parseInt(e));case "f":return p.toFixed(parseInt(e));default:return $APP.wd(l)?QC(l):$APP.m(l)?l:"?"}}catch(q){if(q instanceof Error)return console.warn("Warning formatting",a,q),"?";throw q;}}),/\{\{|\}\}/,$APP.C)},SC=function(a){return $APP.m(a)?"models:"+$APP.X.g(a):null},TC=function(a){return $APP.gf($APP.gv,new $APP.T(null,3,5,$APP.U,[$APP.Sy,new $APP.T(null,2,5,$APP.U,[$APP.lz,a],null),new $APP.T(null,3,5,$APP.U,[$APP.kA,new $APP.V(null,
1,[$APP.Py,function(){return $APP.gf($APP.gv,null)}],null),"Ok"],null)],null))},UC=function(a){switch(a){case "resistor":return"R";case "inductor":return"L";case "capacitor":return"C";case "diode":return"D";case "vsource":return"V";case "isource":return"I";case "npn":return"Q";case "pnp":return"Q";case "pmos":return"M";case "nmos":return"M";case "wire":return"W";case "port":return"P";default:return"X"}},WC=function(a){var b=$APP.lf.h(function(c){return""+$APP.X.g(VC)+$APP.X.g(":")+$APP.X.g(UC(a))+
$APP.X.g(c)},$APP.E($APP.Th(0,Number.MAX_VALUE)));return $APP.C($APP.vf($APP.n(oC),b))},YC=function(a){var b=$APP.Ua($APP.Qi,$APP.Ih($APP.wh($APP.n(oC))),$APP.wh(a)),c=$APP.Ua(function(e,f){return $APP.Bv.s(e,f,$APP.fk,$APP.an)},a,$APP.wh(a)),d=$APP.Mm(1);$APP.pm(function(){var e=function(){function g(h){var l=h[1];if(l===1){l=pC(XC);var p=$APP.Ui.i(oC,$APP.yf,c);h[7]=l;return $APP.Jm(h,2,p)}return l===2?(l=h[2],p=$APP.Ui.i(oC,function(){return function(q,t){return $APP.S.i($APP.fk,q,t)}}(),b),h[8]=
l,$APP.Jm(h,3,p)):l===3?(l=h[2],p=$APP.Di(oC,XC,function(){return function(q,t,v,y){return IC(y)}}()),h[9]=l,$APP.Km(h,p)):null}return function(){function h(q){for(;;){a:{try{for(;;){var t=g(q);if(!$APP.P(t,$APP.Z)){var v=t;break a}}}catch(y){v=y;q[2]=v;if($APP.B(q[4]))q[1]=$APP.C(q[4]);else throw v;v=$APP.Z;break a}v=void 0}if(!$APP.P(v,$APP.Z))return v}}function l(){var q=[null,null,null,null,null,null,null,null,null,null];q[0]=p;q[1]=1;return q}var p=null;p=function(q){switch(arguments.length){case 0:return l.call(this);
case 1:return h.call(this,q)}throw Error("Invalid arity: "+arguments.length);};p.m=l;p.g=h;return p}()}(),f=function(){var g=e();g[6]=d;return g}();return $APP.Im(f)});return d},ZC=function(){var a=JC();return $APP.m(a)?YC(a):null},$C=function(){var a=KC();return $APP.m(a)?YC(a):null},dD=function(a,b){return new $APP.T(null,2,5,$APP.U,[aD,new $APP.V(null,3,[bD,a+25,cD,b+25,$APP.iz,5],null)],null)},iD=function(a,b,c){var d=$APP.K(a,0,null);a=$APP.K(a,1,null);return new $APP.T(null,5,5,$APP.U,[eD,2+
$APP.Qs.h(d,a),b,c,new $APP.T(null,2,5,$APP.U,[fD,new $APP.V(null,4,[$APP.Wu,50,$APP.Xu,50,gD,d*50,hD,a*50],null)],null)],null)},jD=function(a,b,c,d,e){return new $APP.T(null,6,5,$APP.U,[$APP.S,eD,a,d,e,function(){return function h(g){return new $APP.se(null,function(){for(;;){var l=$APP.B(g);if(l){if($APP.zd(l)){var p=$APP.gc(l),q=$APP.G(p),t=$APP.ve(q);a:{for(var v=0;;)if(v<q){var y=$APP.hd(p,v),z=$APP.K(y,0,null),A=$APP.K(y,1,null);$APP.K(y,2,null);y=t;z=$APP.od(new $APP.T(null,5,5,$APP.U,[c,z*
50,A*50,d,e],null),new $APP.V(null,1,[$APP.Kj,new $APP.T(null,2,5,$APP.U,[z,A],null)],null));y.add(z);v+=1}else{p=!0;break a}p=void 0}return p?$APP.Be($APP.De(t),h($APP.hc(l))):$APP.Be($APP.De(t),null)}t=$APP.C(l);p=$APP.K(t,0,null);q=$APP.K(t,1,null);$APP.K(t,2,null);return $APP.oe($APP.od(new $APP.T(null,5,5,$APP.U,[c,p*50,q*50,d,e],null),new $APP.V(null,1,[$APP.Kj,new $APP.T(null,2,5,$APP.U,[p,q],null)],null)),h($APP.D(l)))}return null}},null,null)}(b)}()],null)},mD=function(a){return new $APP.T(null,
2,5,$APP.U,[$APP.hA,function(){return function d(c){return new $APP.se(null,function(){for(;;){var e=$APP.B(c);if(e){var f=e;if($APP.zd(f)){var g=$APP.gc(f),h=$APP.G(g),l=$APP.ve(h);return function(){for(var q=0;;)if(q<h){var t=$APP.hd(g,q);$APP.Ce(l,$APP.od(new $APP.T(null,2,5,$APP.U,[kD,new $APP.V(null,1,[lD,$APP.lf.h(function(){return function(v){return v*50}}(q,t,g,h,l,f,e),vC(t))],null)],null),new $APP.V(null,1,[$APP.Kj,t],null)));q+=1}else return!0}()?$APP.Be($APP.De(l),d($APP.hc(f))):$APP.Be($APP.De(l),
null)}var p=$APP.C(f);return $APP.oe($APP.od(new $APP.T(null,2,5,$APP.U,[kD,new $APP.V(null,1,[lD,$APP.lf.h(function(){return function(q){return q*50}}(p,f,e),vC(p))],null)],null),new $APP.V(null,1,[$APP.Kj,p],null)),d($APP.D(f)))}return null}},null,null)}(a)}()],null)},oD=function(a,b,c,d){return new $APP.T(null,2,5,$APP.U,[nD,new $APP.V(null,2,[$APP.hz,"rotate("+$APP.X.g(d)+" "+$APP.X.g(a*50)+" "+$APP.X.g(b*50)+")",lD,$APP.lf.h(function(e){return e*50},new $APP.T(null,6,5,$APP.U,[a,b,a+c,b+c,a+
c,b-c],null))],null)],null)},vD=function(a,b){var c=function(){var e=$APP.fd($APP.n(pD));return $APP.m(e)?$APP.ub(e):$APP.Q}(),d=$APP.yf.i($APP.Q,$APP.zv.h($APP.tf(function(e){return $APP.Gd(e,$APP.Hj)}),$APP.lf.g(function(e){return new $APP.T(null,2,5,$APP.U,[$APP.li.g($APP.Hj.g(e)),e],null)})),$APP.yh($APP.n(oC)));a=RC(b,new $APP.V(null,3,[qD,c,rD,d,sD,a],null));return $APP.cf(function(e,f){return new $APP.T(null,3,5,$APP.U,[tD,new $APP.V(null,3,[$APP.Kj,f,$APP.Wu,"0",uD,e===0?"0":"1.2em"],null),
f],null)},$APP.Bj(a,/\n|\r\n/))},AD=function(a,b){var c=$APP.jd(a,wD,xD.g($APP.M(yD,$APP.mA.g(a))));return $APP.m(c)?new $APP.T(null,3,5,$APP.U,[zD,new $APP.V(null,1,[$APP.hz,$APP.Uu($APP.hz.g(a)).translate(b/-2*50,b/-2*50).inverse().translate(30,-12.5).toString()],null),vD(a,c)],null):null},BD=function(a,b){return new $APP.T(null,7,5,$APP.U,[eD,3,a,b,new $APP.T(null,2,5,$APP.U,[mD,new $APP.T(null,4,5,$APP.U,[new $APP.T(null,2,5,$APP.U,[new $APP.T(null,2,5,$APP.U,[.5,1.5],null),new $APP.T(null,2,
5,$APP.U,[1.1,1.5],null)],null),new $APP.T(null,2,5,$APP.U,[new $APP.T(null,2,5,$APP.U,[1.1,1.1],null),new $APP.T(null,2,5,$APP.U,[1.1,1.9],null)],null),new $APP.T(null,6,5,$APP.U,[new $APP.T(null,2,5,$APP.U,[1.5,.5],null),new $APP.T(null,2,5,$APP.U,[1.5,1.1],null),new $APP.T(null,2,5,$APP.U,[1.2,1.1],null),new $APP.T(null,2,5,$APP.U,[1.2,1.9],null),new $APP.T(null,2,5,$APP.U,[1.5,1.9],null),new $APP.T(null,2,5,$APP.U,[1.5,2.5],null)],null),new $APP.T(null,2,5,$APP.U,[new $APP.T(null,2,5,$APP.U,[1.5,
1.5],null),new $APP.T(null,2,5,$APP.U,[1.2,1.5],null)],null)],null)],null),new $APP.T(null,3,5,$APP.U,[AD,b,3],null),$APP.H.h($APP.mA.g(b),"nmos")?new $APP.T(null,5,5,$APP.U,[oD,1.3,1.5,.12,0],null):new $APP.T(null,5,5,$APP.U,[oD,1.4,1.5,.12,180],null)],null)},CD=function(a,b){return new $APP.T(null,7,5,$APP.U,[eD,3,a,b,new $APP.T(null,3,5,$APP.U,[AD,b,3],null),new $APP.T(null,2,5,$APP.U,[mD,new $APP.T(null,3,5,$APP.U,[new $APP.T(null,2,5,$APP.U,[new $APP.T(null,2,5,$APP.U,[.5,1.5],null),new $APP.T(null,
2,5,$APP.U,[1.15,1.5],null)],null),new $APP.T(null,2,5,$APP.U,[new $APP.T(null,2,5,$APP.U,[1.15,1.15],null),new $APP.T(null,2,5,$APP.U,[1.15,1.85],null)],null),new $APP.T(null,6,5,$APP.U,[new $APP.T(null,2,5,$APP.U,[1.5,.5],null),new $APP.T(null,2,5,$APP.U,[1.5,1.1],null),new $APP.T(null,2,5,$APP.U,[1.15,1.4],null),new $APP.T(null,2,5,$APP.U,[1.15,1.6],null),new $APP.T(null,2,5,$APP.U,[1.5,1.9],null),new $APP.T(null,2,5,$APP.U,[1.5,2.5],null)],null)],null)],null),$APP.H.h($APP.mA.g(b),"npn")?new $APP.T(null,
5,5,$APP.U,[oD,1.4,1.81,.12,-140],null):new $APP.T(null,5,5,$APP.U,[oD,1.25,1.68,.12,40],null)],null)},ED=function(a,b){var c=$APP.Dz.g(b);c=$APP.Af($APP.n(DD),new $APP.T(null,2,5,$APP.U,[SC(c),$APP.nx],null));c=$APP.m(c)?MC(c):new $APP.T(null,2,5,$APP.U,[1,1],null);return iD(c,a,b)},FD=function(a,b){var c=$APP.Dz.g(b);c=$APP.Af($APP.n(DD),new $APP.T(null,2,5,$APP.U,[SC(c),$APP.nx],null));var d=$APP.m(c)?MC(c):new $APP.T(null,2,5,$APP.U,[1,1],null),e=$APP.K(d,0,null);d=$APP.K(d,1,null);var f=$APP.m(c)?
$APP.S.h($APP.rf,NC(c)):$APP.wf;$APP.yi($APP.J([c,f]));return jD(2+$APP.Qs.h(e,d),f,dD,a,b)},GD=function(a){return"?"+$APP.X.g((new URLSearchParams({schem:a})).toString())},ID=function(a,b){var c=$APP.Dz.g(b),d=$APP.Af($APP.n(DD),new $APP.T(null,2,5,$APP.U,[SC(c),$APP.nx],null)),e=$APP.m(d)?MC(d):new $APP.T(null,2,5,$APP.U,[1,1],null);c=$APP.K(e,0,null);e=$APP.K(e,1,null);d=NC(d);var f=$APP.K(d,0,null),g=$APP.K(d,1,null),h=$APP.K(d,2,null),l=$APP.K(d,3,null);return new $APP.T(null,5,5,$APP.U,[eD,
2+$APP.Qs.h(c,e),a,b,new $APP.T(null,6,5,$APP.U,[$APP.hA,new $APP.T(null,2,5,$APP.U,[mD,function(){return function t(q){return new $APP.se(null,function(){for(;;){var v=$APP.B(q);if(v){if($APP.zd(v)){var y=$APP.gc(v),z=$APP.G(y),A=$APP.ve(z);a:{for(var F=0;;)if(F<z){var I=$APP.hd(y,F),N=$APP.K(I,0,null),R=$APP.K(I,1,null);$APP.K(I,2,null);A.add(new $APP.T(null,2,5,$APP.U,[new $APP.T(null,2,5,$APP.U,[N+.5,R+.5],null),new $APP.T(null,2,5,$APP.U,[N+.5,R+1],null)],null));F+=1}else{y=!0;break a}y=void 0}return y?
$APP.Be($APP.De(A),t($APP.hc(v))):$APP.Be($APP.De(A),null)}A=$APP.C(v);y=$APP.K(A,0,null);z=$APP.K(A,1,null);$APP.K(A,2,null);return $APP.oe(new $APP.T(null,2,5,$APP.U,[new $APP.T(null,2,5,$APP.U,[y+.5,z+.5],null),new $APP.T(null,2,5,$APP.U,[y+.5,z+1],null)],null),t($APP.D(v)))}return null}},null,null)}(f)}()],null),new $APP.T(null,2,5,$APP.U,[mD,function(){return function t(q){return new $APP.se(null,function(){for(;;){var v=$APP.B(q);if(v){if($APP.zd(v)){var y=$APP.gc(v),z=$APP.G(y),A=$APP.ve(z);
a:{for(var F=0;;)if(F<z){var I=$APP.hd(y,F),N=$APP.K(I,0,null),R=$APP.K(I,1,null);$APP.K(I,2,null);A.add(new $APP.T(null,2,5,$APP.U,[new $APP.T(null,2,5,$APP.U,[N+.5,R+0],null),new $APP.T(null,2,5,$APP.U,[N+.5,R+.5],null)],null));F+=1}else{y=!0;break a}y=void 0}return y?$APP.Be($APP.De(A),t($APP.hc(v))):$APP.Be($APP.De(A),null)}A=$APP.C(v);y=$APP.K(A,0,null);z=$APP.K(A,1,null);$APP.K(A,2,null);return $APP.oe(new $APP.T(null,2,5,$APP.U,[new $APP.T(null,2,5,$APP.U,[y+.5,z+0],null),new $APP.T(null,2,
5,$APP.U,[y+.5,z+.5],null)],null),t($APP.D(v)))}return null}},null,null)}(g)}()],null),new $APP.T(null,2,5,$APP.U,[mD,function(){return function t(q){return new $APP.se(null,function(){for(;;){var v=$APP.B(q);if(v){if($APP.zd(v)){var y=$APP.gc(v),z=$APP.G(y),A=$APP.ve(z);a:{for(var F=0;;)if(F<z){var I=$APP.hd(y,F),N=$APP.K(I,0,null),R=$APP.K(I,1,null);$APP.K(I,2,null);A.add(new $APP.T(null,2,5,$APP.U,[new $APP.T(null,2,5,$APP.U,[N+0,R+.5],null),new $APP.T(null,2,5,$APP.U,[N+.5,R+.5],null)],null));
F+=1}else{y=!0;break a}y=void 0}return y?$APP.Be($APP.De(A),t($APP.hc(v))):$APP.Be($APP.De(A),null)}A=$APP.C(v);y=$APP.K(A,0,null);z=$APP.K(A,1,null);$APP.K(A,2,null);return $APP.oe(new $APP.T(null,2,5,$APP.U,[new $APP.T(null,2,5,$APP.U,[y+0,z+.5],null),new $APP.T(null,2,5,$APP.U,[y+.5,z+.5],null)],null),t($APP.D(v)))}return null}},null,null)}(l)}()],null),new $APP.T(null,2,5,$APP.U,[mD,function(){return function t(q){return new $APP.se(null,function(){for(;;){var v=$APP.B(q);if(v){if($APP.zd(v)){var y=
$APP.gc(v),z=$APP.G(y),A=$APP.ve(z);a:{for(var F=0;;)if(F<z){var I=$APP.hd(y,F),N=$APP.K(I,0,null),R=$APP.K(I,1,null);$APP.K(I,2,null);A.add(new $APP.T(null,2,5,$APP.U,[new $APP.T(null,2,5,$APP.U,[N+1,R+.5],null),new $APP.T(null,2,5,$APP.U,[N+.5,R+.5],null)],null));F+=1}else{y=!0;break a}y=void 0}return y?$APP.Be($APP.De(A),t($APP.hc(v))):$APP.Be($APP.De(A),null)}A=$APP.C(v);y=$APP.K(A,0,null);z=$APP.K(A,1,null);$APP.K(A,2,null);return $APP.oe(new $APP.T(null,2,5,$APP.U,[new $APP.T(null,2,5,$APP.U,
[y+1,z+.5],null),new $APP.T(null,2,5,$APP.U,[y+.5,z+.5],null)],null),t($APP.D(v)))}return null}},null,null)}(h)}()],null),new $APP.T(null,2,5,$APP.U,[HD,new $APP.V(null,4,[$APP.Wu,50,$APP.Xu,50,gD,50*c,hD,50*e],null)],null)],null)],null)},JD=function(a,b,c,d){var e=$APP.K(b,0,null),f=$APP.K(b,1,null),g=$APP.K(b,2,null),h=$APP.K(b,3,null),l=$APP.K(b,4,null),p=$APP.K(b,5,null),q=LC(a)/2-.5;return $APP.lf.h(function(t){var v=$APP.K(t,0,null),y=$APP.K(t,1,null);$APP.K(t,2,null);t=v-q;y-=q;return new $APP.T(null,
2,5,$APP.U,[Math.round(c+(e*t+g*y+l)+q),Math.round(d+(f*t+h*y+p)+q)],null)},a)},KD=function(a,b){return $APP.E($APP.Nh(function(c){return $APP.Pe(c,a+b)},tC(function(c){return c+(b>0?1:-1)},a)))},LD=function(a){var b=$APP.Oe(a);$APP.M(b,$APP.Zm);var c=$APP.M(b,$APP.Wu),d=$APP.M(b,$APP.Xu);a=$APP.M(b,$APP.Kz);b=$APP.M(b,$APP.Jz);return new $APP.T(null,2,5,$APP.U,[new $APP.T(null,2,5,$APP.U,[new $APP.T(null,2,5,$APP.U,[c,d],null),new $APP.T(null,2,5,$APP.U,[c+a,d+b],null)],null),$APP.H.h(a,0)?$APP.lf.h(function(e){return new $APP.T(null,
2,5,$APP.U,[c,e],null)},KD(d,b)):$APP.H.h(b,0)?$APP.lf.h(function(e){return new $APP.T(null,2,5,$APP.U,[e,d],null)},KD(c,a)):$APP.wf],null)},OD=function(a){var b=$APP.Oe(a),c=$APP.M(b,$APP.Zm),d=$APP.M(b,$APP.Wu),e=$APP.M(b,$APP.Xu),f=$APP.M(b,$APP.mA),g=$APP.M(b,$APP.hz),h=$APP.M(yD,f),l=MD.g(h),p=ND.g(h),q=$APP.K(p,0,null),t=$APP.K(p,1,null);return new $APP.T(null,2,5,$APP.U,[JD(l,g,d,e),JD(function(){return function z(y){return new $APP.se(null,function(){for(var A=y;;){var F=$APP.B(A);if(F){var I=
F,N=$APP.C(I);if(F=$APP.B(function(R,Y,la,qa,La,Za,Ba,Ja,Ra,za,Ca,ib,vd,ce,de,qf){return function Id(Hg){return new $APP.se(null,function(Vf,Wf){return function(){for(;;){var Te=$APP.B(Hg);if(Te){if($APP.zd(Te)){var Ue=$APP.gc(Te),xe=$APP.G(Ue),Zc=$APP.ve(xe);a:{for(var ye=0;;)if(ye<xe){var ze=$APP.hd(Ue,ye);Zc.add(new $APP.T(null,3,5,$APP.U,[Wf+1,ze+1,"%"],null));ye+=1}else{Ue=!0;break a}Ue=void 0}return Ue?$APP.Be($APP.De(Zc),Id($APP.hc(Te))):$APP.Be($APP.De(Zc),null)}Zc=$APP.C(Te);return $APP.oe(new $APP.T(null,
3,5,$APP.U,[Wf+1,Zc+1,"%"],null),Id($APP.D(Te)))}return null}}}(R,Y,la,qa,La,Za,Ba,Ja,Ra,za,Ca,ib,vd,ce,de,qf),null,null)}}(A,N,I,F,h,l,p,q,t,a,b,c,d,e,f,g)($APP.Uh(t))))return $APP.rf.h(F,z($APP.D(A)));A=$APP.D(A)}else return null}},null,null)}($APP.Uh(q))}(),g,d,e)],null)},PD=function(a){var b=$APP.Oe(a),c=$APP.M(b,$APP.Zm),d=$APP.M(b,$APP.Wu),e=$APP.M(b,$APP.Xu),f=$APP.M(b,$APP.Dz),g=$APP.M(b,$APP.hz),h=$APP.M($APP.n(DD),SC(f)),l=$APP.nx.g(h),p=$APP.m(l)?$APP.S.h($APP.rf,NC(l)):$APP.wf,q=$APP.m(l)?
MC(l):new $APP.T(null,2,5,$APP.U,[1,1],null),t=$APP.K(q,0,null),v=$APP.K(q,1,null);return new $APP.T(null,2,5,$APP.U,[JD(p,g,d,e),JD(function(){return function A(z){return new $APP.se(null,function(){for(var F=z;;){var I=$APP.B(F);if(I){var N=I,R=$APP.C(N);if(I=$APP.B(function(Y,la,qa,La,Za,Ba,Ja,Ra,za,Ca,ib,vd,ce,de,qf,Oi,Hg){return function Wf(Vf){return new $APP.se(null,function(Te,Ue){return function(){for(;;){var xe=$APP.B(Vf);if(xe){if($APP.zd(xe)){var Zc=$APP.gc(xe),ye=$APP.G(Zc),ze=$APP.ve(ye);
a:{for(var Xf=0;;)if(Xf<ye){var Fm=$APP.hd(Zc,Xf);ze.add(new $APP.T(null,3,5,$APP.U,[Ue+1,Fm+1,"%"],null));Xf+=1}else{Zc=!0;break a}Zc=void 0}return Zc?$APP.Be($APP.De(ze),Wf($APP.hc(xe))):$APP.Be($APP.De(ze),null)}ze=$APP.C(xe);return $APP.oe(new $APP.T(null,3,5,$APP.U,[Ue+1,ze+1,"%"],null),Wf($APP.D(xe)))}return null}}}(Y,la,qa,La,Za,Ba,Ja,Ra,za,Ca,ib,vd,ce,de,qf,Oi,Hg),null,null)}}(F,R,N,I,h,l,p,q,t,v,a,b,c,d,e,f,g)($APP.Uh(v))))return $APP.rf.h(I,A($APP.D(F)));F=$APP.D(F)}else return null}},null,
null)}($APP.Uh(t))}(),g,d,e)],null)},QD=function(a){var b=$APP.mA.g(a);return $APP.H.h(b,"wire")?LD(a):$APP.H.h(b,"text")?$APP.wf:$APP.Gd(yD,b)?OD(a):PD(a)},RD=function(){var a=$APP.n(oC);a=$APP.yh(a);for(var b=$APP.B(a),c=$APP.C(b),d=$APP.E(b),e=$APP.Q,f=$APP.Q,g=a;;){var h=e,l=f,p=g,q=$APP.B(p),t=$APP.C(q),v=$APP.E(q),y=t,z=v,A=QD(y),F=$APP.K(A,0,null),I=$APP.K(A,1,null),N=$APP.Ua(function(R,Y,la,qa,La,Za,Ba,Ja,Ra,za,Ca,ib,vd){return function(ce,de){return $APP.Bv.s(ce,de,$APP.oB,$APP.Zm.g(vd))}}(e,
f,g,A,F,I,h,l,p,q,t,v,y,z,$APP.Q,$APP.Q,a,a,b,c,d,c,d),h,F);e=$APP.Ua(function(R,Y,la,qa,La,Za,Ba,Ja,Ra,za,Ca,ib,vd,ce){return function(de,qf){return $APP.Bv.s(de,qf,$APP.oB,$APP.Zm.g(ce))}}(e,f,g,A,F,I,N,h,l,p,q,t,v,y,z,$APP.Q,$APP.Q,a,a,b,c,d,c,d),l,I);if(z)f=e,e=N,g=z;else return new $APP.T(null,2,5,$APP.U,[N,e],null)}},SD=function(a){var b=$APP.K(a,0,null);a=$APP.K(a,1,null);return $APP.Ua(function(c,d){var e=$APP.K(d,0,null);d=$APP.K(d,1,null);return $APP.Gd(b,e)?$APP.Ua(function(f,g){return $APP.Bv.s(f,
g,$APP.pB,e)},c,$APP.uf(function(f){return $APP.H.h("wire",$APP.Af($APP.n(oC),new $APP.T(null,2,5,$APP.U,[f,$APP.mA],null)))},d)):c},$APP.Q,a)},VD=function(a,b){var c=$APP.M($APP.n(oC),a),d=$APP.Oe(c);c=$APP.M(d,$APP.Wu);var e=$APP.M(d,$APP.Xu),f=$APP.M(d,$APP.Kz);d=$APP.M(d,$APP.Jz);c=(0,$APP.pB)(b,new $APP.T(null,2,5,$APP.U,[c,e],null),new $APP.T(null,2,5,$APP.U,[c+f,e+d],null));b=$APP.C($APP.n(TD));a:{f=$APP.B(c);e=$APP.C(f);f=$APP.E(f);$APP.K(e,0,null);$APP.K(e,1,null);e=$APP.B(f);f=$APP.C(e);
$APP.E(e);$APP.K(f,0,null);$APP.K(f,1,null);f=a;d=c;for(e=$APP.Q;;){c=f;d=$APP.B(d);f=$APP.C(d);var g=$APP.E(d);d=f;f=$APP.K(d,0,null);d=$APP.K(d,1,null);var h=g;g=$APP.B(h);var l=$APP.C(g);$APP.E(g);g=$APP.K(l,0,null);l=$APP.K(l,1,null);var p=e;if(h)e=$APP.Kh($APP.Mk.g(a)),c=$APP.rd(UD.h($APP.M(b,new $APP.T(null,2,5,$APP.U,[f,d],null)),$APP.M(b,new $APP.T(null,2,5,$APP.U,[g,l],null))))?$APP.W.i(p,c,new $APP.V(null,6,[$APP.mA,"wire",$APP.hz,$APP.rB,$APP.Wu,f,$APP.Xu,d,$APP.Kz,g-f,$APP.Jz,l-d],null)):
p,f=e,d=h,e=c;else{a=p;break a}}a=void 0}return $APP.Ui.i(oC,$APP.Np.h($APP.iu,$APP.Rk),a)},WD=function(a){var b=document.querySelector(".mosaic-canvas").getScreenCTM().inverse();a=$APP.Yu(a.clientX,a.clientY).matrixTransform(b);return new $APP.T(null,2,5,$APP.U,[a.x/50,a.y/50],null)},ZD=function(a,b,c){return $APP.Ui.s(XD,$APP.Bv,YD,function(d){var e=$APP.K(d,0,null),f=$APP.K(d,1,null),g=$APP.K(d,2,null);d=$APP.K(d,3,null);var h=a*g*.1,l=a*d*.1;return new $APP.T(null,4,5,$APP.U,[e-(b-e)/g*h,f-(c-
f)/d*l,g+h,d+l],null)})},$D=function(a){var b=WD(a),c=$APP.K(b,0,null);b=$APP.K(b,1,null);return ZD(a.deltaY>0?1:-1,c*50,b*50)},aE=function(a){var b=YD.g($APP.n(XD)),c=$APP.K(b,0,null),d=$APP.K(b,1,null),e=$APP.K(b,2,null);b=$APP.K(b,3,null);return ZD(a,c+e/2,d+b/2)},bE=function(a){var b=WC($APP.mA.g(a)),c=$APP.fd($APP.Bj(b,":"));return $APP.Ui.s(oC,$APP.W,b,$APP.m($APP.Hj.g(a))?a:$APP.W.i(a,$APP.Hj,c))},fE=function(a){a=$APP.zv.i($APP.Vu,a,$APP.Uu);return $APP.m($APP.n(cE))?$APP.Ui.s(cE,$APP.Bv,
$APP.hz,a):$APP.Ui.j(oC,dE,$APP.n(eE),$APP.Bv,$APP.J([$APP.hz,a]))},hE=function(){var a=gE.g($APP.n(XD));$APP.Ui.s(XD,$APP.W,gE,$APP.Eh);return $APP.Ui.i(oC,function(b,c){return $APP.S.i($APP.fk,b,c)},a)},jE=function(a){return $APP.Ui.s(XD,$APP.Bv,YD,function(b){var c=$APP.K(b,0,null),d=$APP.K(b,1,null),e=$APP.K(b,2,null);b=$APP.K(b,3,null);var f=document.querySelector(".mosaic-canvas").getScreenCTM().inverse();f.e=0;f.f=0;var g=$APP.n(iE);var h=$APP.K(g,0,null);var l=$APP.K(g,1,null);g=a.clientX;
var p=a.clientY;f=$APP.Yu(g-h,p-l).matrixTransform(f);$APP.gf(iE,new $APP.T(null,2,5,$APP.U,[g,p],null));h=new $APP.T(null,2,5,$APP.U,[f.x,f.y],null);f=$APP.K(h,0,null);h=$APP.K(h,1,null);return new $APP.T(null,4,5,$APP.U,[c-f,d-h,e,b],null)})},mE=function(a){var b=WD(a);a=$APP.K(b,0,null);b=$APP.K(b,1,null);var c=kE.g($APP.n(XD)),d=$APP.K(c,0,null);c=$APP.K(c,1,null);return $APP.Ui.j(lE,$APP.W,$APP.Wu,a-d,$APP.J([$APP.Xu,b-c]))},nE=function(a){var b=WD(a),c=$APP.K(b,0,null),d=$APP.K(b,1,null);return $APP.Ui.h(cE,
function(e){var f=c-$APP.Wu.g(e)-.5,g=d-$APP.Xu.g(e)-.5;return $APP.m(a.ctrlKey)?$APP.W.j(e,$APP.Kz,f,$APP.J([$APP.Jz,g])):Math.abs(f)>Math.abs(g)?$APP.W.j(e,$APP.Kz,f,$APP.J([$APP.Jz,0])):$APP.W.j(e,$APP.Kz,0,$APP.J([$APP.Jz,g]))})},pE=function(a){var b=oE.g($APP.n(XD));switch(b instanceof $APP.O?b.ea:null){case "nyancad.mosaic.editor/view":return jE(a);case "nyancad.mosaic.editor/wire":return nE(a);case "nyancad.mosaic.editor/device":return mE(a);case "nyancad.mosaic.editor/box":return mE(a);default:return null}},
tE=function(a,b){if($APP.H.h(b.buttons,1)&&$APP.H.h($APP.n(qE),rE)&&!$APP.Gd($APP.n(sE),a)){var c=$APP.Mm(1);$APP.pm(function(){var d=function(){return function(){function f(l){for(;;){a:{try{for(;;){var p=void 0,q=l,t=q[1];if(t===1){var v=$APP.Ui.i(sE,$APP.le,a),y=$APP.Ui.i(oC,$APP.fk,a);q[7]=v;p=q;var z=$APP.Jm(p,2,y)}else if(t===2){var A=q[2],F=$APP.Ui.i(sE,$APP.Qi,a);q[8]=A;p=q;z=$APP.Km(p,F)}else z=null;if(!$APP.P(z,$APP.Z)){var I=z;break a}}}catch(N){I=N;l[2]=I;if($APP.B(l[4]))l[1]=$APP.C(l[4]);
else throw I;I=$APP.Z;break a}I=void 0}if(!$APP.P(I,$APP.Z))return I}}function g(){var l=[null,null,null,null,null,null,null,null,null];l[0]=h;l[1]=1;return l}var h=null;h=function(l){switch(arguments.length){case 0:return g.call(this);case 1:return f.call(this,l)}throw Error("Invalid arity: "+arguments.length);};h.m=g;h.g=f;return h}()}(),e=function(){var f=d();f[6]=c;return f}();return $APP.Im(e)});return c}return null},wE=function(a){$APP.Ui.s(XD,$APP.W,uE,WD(a));var b=$APP.n(qE);switch(b instanceof
$APP.O?b.ea:null){case "nyancad.mosaic.editor/wire":a:switch(b=oE.g($APP.n(XD)),b instanceof $APP.O?b.ea:null){case "nyancad.mosaic.editor/view":a=jE(a);break a;case "nyancad.mosaic.editor/wire":a=nE(a);break a;default:a=null}return a;case "nyancad.mosaic.editor/pan":return a.buttons>0?jE(a):null;case "nyancad.mosaic.editor/device":if($APP.H.h(oE.g($APP.n(XD)),vE))a=jE(a);else{b=WD(a);a=$APP.K(b,0,null);b=$APP.K(b,1,null);var c=$APP.Af(yD,new $APP.T(null,2,5,$APP.U,[$APP.mA.g($APP.n(cE)),ND],null)),
d=$APP.K(c,0,null);c=$APP.K(c,1,null);a=$APP.Ui.j(cE,$APP.W,$APP.Wu,Math.round(a-d-.5),$APP.J([$APP.Xu,Math.round(b-c-.5)]))}return a;default:return pE(a)}},zE=function(a){var b=$APP.K(a,0,null);a=$APP.K(a,1,null);return $APP.Ui.j(XD,$APP.W,xE,new $APP.V(null,5,[$APP.mA,"wire",$APP.Wu,Math.floor(b),$APP.Xu,Math.floor(a),$APP.Kz,0,$APP.Jz,0],null),$APP.J([oE,yE]))},AE=function(a,b){var c=$APP.K(a,0,null);a=$APP.K(a,1,null);if($APP.m(b))return zE(new $APP.T(null,2,5,$APP.U,[c,a],null));var d=dE.i($APP.n(cE),
new $APP.Dh(null,new $APP.V(null,2,[$APP.Kz,null,$APP.Jz,null],null),null),Math.round);c=$APP.Oe(d);b=$APP.M(c,$APP.Kz);c=$APP.M(c,$APP.Jz);var e=Math.round($APP.Wu.g(d)+b),f=Math.round($APP.Xu.g(d)+c),g=$APP.n(TD);a=$APP.K(g,0,null);g=$APP.K(g,1,null);a=$APP.Gd(a,new $APP.T(null,2,5,$APP.U,[e,f],null))||$APP.Gd(g,new $APP.T(null,2,5,$APP.U,[e,f],null));if(Math.abs(b)<.5&&Math.abs(c)<.5)return $APP.Ui.j(XD,$APP.W,xE,null,$APP.J([oE,null]));if(a){var h=$APP.Mm(1);$APP.pm(function(){var l=function(){return function(){function q(y){for(;;){a:{try{for(;;){var z=
y,A=z[1];if(A===1){var F=bE(d);var I=$APP.Jm(z,2,F)}else if(A===2){var N=z[2],R=$APP.Ui.j(XD,$APP.W,xE,null,$APP.J([oE,null]));z[7]=N;I=$APP.Km(z,R)}else I=null;if(!$APP.P(I,$APP.Z)){var Y=I;break a}}}catch(la){Y=la;y[2]=Y;if($APP.B(y[4]))y[1]=$APP.C(y[4]);else throw Y;Y=$APP.Z;break a}Y=void 0}if(!$APP.P(Y,$APP.Z))return Y}}function t(){var y=[null,null,null,null,null,null,null,null];y[0]=v;y[1]=1;return y}var v=null;v=function(y){switch(arguments.length){case 0:return t.call(this);case 1:return q.call(this,
y)}throw Error("Invalid arity: "+arguments.length);};v.m=t;v.g=q;return v}()}(),p=function(){var q=l();q[6]=h;return q}();return $APP.Im(p)})}else h=$APP.Mm(1),$APP.pm(function(){var l=function(){return function(){function q(y){for(;;){a:{try{for(;;){var z=y,A=z[1];if(A===1){var F=bE(d);var I=$APP.Jm(z,2,F)}else if(A===2){var N=z[2],R=zE(new $APP.T(null,2,5,$APP.U,[e,f],null));z[7]=N;I=$APP.Km(z,R)}else I=null;if(!$APP.P(I,$APP.Z)){var Y=I;break a}}}catch(la){Y=la;y[2]=Y;if($APP.B(y[4]))y[1]=$APP.C(y[4]);
else throw Y;Y=$APP.Z;break a}Y=void 0}if(!$APP.P(Y,$APP.Z))return Y}}function t(){var y=[null,null,null,null,null,null,null,null];y[0]=v;y[1]=1;return y}var v=null;v=function(y){switch(arguments.length){case 0:return t.call(this);case 1:return q.call(this,y)}throw Error("Invalid arity: "+arguments.length);};v.m=t;v.g=q;return v}()}(),p=function(){var q=l();q[6]=h;return q}();return $APP.Im(p)});return h},BE=function(){function a(h,l){return $APP.H.h($APP.mA.g(l),"wire")?$APP.le.j(h,new $APP.T(null,
2,5,$APP.U,[$APP.Wu.g(l),$APP.Xu.g(l)],null),$APP.J([new $APP.T(null,2,5,$APP.U,[$APP.Wu.g(l)+$APP.Kz.g(l),$APP.Xu.g(l)+$APP.Jz.g(l)],null)])):h}function b(h){h=$APP.M(c,h);var l=$APP.H.h($APP.mA.g(h),"wire");return l?h:l}var c=$APP.n(oC),d=$APP.Ze(c,$APP.n(eE));if($APP.m(d)){var e=a($APP.Eh,d);for(d=$APP.Fh([$APP.Zm.g(d)]);;)if($APP.B(e)){var f=$APP.n(TD),g=$APP.K(f,0,null);$APP.K(f,1,null);f=$APP.tA.h($APP.Ih($APP.uf(b,$APP.sf(g,$APP.J([e])))),d);g=$APP.Ua(a,$APP.Eh,$APP.lf.h(c,f));e=$APP.tA.h(g,
e);d=$APP.yf.h(d,f)}else return $APP.gf(eE,d)}else return null},EE=function(){var a=$APP.n(XD),b=xE.g(a);a=$APP.m(b)?$APP.H.h(CE.g(a),yE):b;return $APP.m(a)?$APP.Ui.j(XD,$APP.W,oE,null,$APP.J([xE,null])):$APP.Ui.j(XD,$APP.W,oE,null,$APP.J([CE,DE,xE,null]))},GE=function(a){$APP.yi($APP.J([a]));return FE.postMessage(a)},IE=function(a,b){function c(g){return $APP.W.i(g,oE,function(){var h=CE.g(g);h=h instanceof $APP.O?h.ea:null;switch(h){case "nyancad.mosaic.editor/cursor":return HE;case "nyancad.mosaic.editor/wire":return yE;
case "nyancad.mosaic.editor/pan":return vE;case "nyancad.mosaic.editor/probe":return null;default:throw Error("No matching clause: "+$APP.X.g(h));}}())}function d(g){var h=$APP.Gd(g,a);return $APP.m(h?h:b.shiftKey)?(0,$APP.oB)(g,a):$APP.Fh([a])}$APP.Ui.s(XD,$APP.W,kE,WD(b));$APP.gf(iE,new $APP.T(null,2,5,$APP.U,[b.clientX,b.clientY],null));var e=$APP.n(XD);if($APP.Pe(CE.g(e),HE)&&$APP.H.h(b.button,0))if(b.stopPropagation(),$APP.H.h(b.detail,1)){var f=CE.g(e);switch(f instanceof $APP.O?f.ea:null){case "nyancad.mosaic.editor/wire":return AE(WD(b),
oE.g(e)==null);case "nyancad.mosaic.editor/eraser":return tE(a,b);case "nyancad.mosaic.editor/probe":return GE(a);default:return $APP.Ui.h(XD,function(g){return c($APP.Bv.i(g,gE,d))})}}else switch(e=CE.g(e),e=e instanceof $APP.O?e.ea:null,e){case "nyancad.mosaic.editor/cursor":return BE();case "nyancad.mosaic.editor/wire":return EE();default:throw Error("No matching clause: "+$APP.X.g(e));}else return null},KE=function(a){$APP.gf(iE,new $APP.T(null,2,5,$APP.U,[a.clientX,a.clientY],null));return $APP.H.h(a.button,
1)?$APP.Ui.s(XD,$APP.W,oE,vE):$APP.H.h(a.button,0)&&$APP.H.h(null,oE.g($APP.n(XD)))&&$APP.H.h(DE,$APP.n(qE))?$APP.Ui.j(XD,$APP.W,gE,$APP.Eh,$APP.J([oE,JE,kE,WD(a)])):$APP.H.h(a.button,0)&&$APP.H.h(yE,$APP.n(qE))?AE(WD(a),oE.g($APP.n(XD))==null):null},LE=function(a){var b=oE.g($APP.n(XD));b=$APP.m(b)?b:$APP.Pe(CE.g($APP.n(XD)),DE);return $APP.m(b)?(EE(),a.preventDefault()):null},UE=function(a,b,c,d){b=$APP.M($APP.jd(yD,$APP.mA.g(b),new $APP.V(null,3,[ND,new $APP.Ac(function(){return ED},ME,$APP.fh([$APP.ru,
$APP.Hj,$APP.su,$APP.tu,$APP.uu,$APP.lq,$APP.vu,$APP.wu,$APP.Wm,$APP.xu],[NE,OE,"nyancad/mosaic/editor.cljs",20,1,360,360,$APP.Cj(new $APP.T(null,2,5,$APP.U,[$APP.pz,$APP.sz],null)),null,$APP.m(ED)?ED.Nc:null])),MD,new $APP.Ac(function(){return FD},PE,$APP.fh([$APP.ru,$APP.Hj,$APP.su,$APP.tu,$APP.uu,$APP.lq,$APP.vu,$APP.wu,$APP.Wm,$APP.xu],[NE,QE,"nyancad/mosaic/editor.cljs",19,1,366,366,$APP.Cj(new $APP.T(null,2,5,$APP.U,[$APP.pz,$APP.sz],null)),null,$APP.m(FD)?FD.Nc:null])),RE,new $APP.Ac(function(){return ID},
SE,$APP.fh([$APP.ru,$APP.Hj,$APP.su,$APP.tu,$APP.uu,$APP.lq,$APP.vu,$APP.wu,$APP.Wm,$APP.xu],[NE,TE,"nyancad/mosaic/editor.cljs",18,1,378,378,$APP.Cj(new $APP.T(null,2,5,$APP.U,[$APP.pz,$APP.sz],null)),null,$APP.m(ID)?ID.Nc:null]))],null)),a);return $APP.md(b)?$APP.od(new $APP.T(null,3,5,$APP.U,[b,c,d],null),new $APP.V(null,1,[$APP.Kj,c],null)):$APP.H.h(a,ND)?$APP.od(new $APP.T(null,4,5,$APP.U,[iD,b,c,d],null),new $APP.V(null,1,[$APP.Kj,c],null)):$APP.H.h(a,MD)?$APP.od(new $APP.T(null,6,5,$APP.U,
[jD,LC(b),b,dD,c,d],null),new $APP.V(null,1,[$APP.Kj,c],null)):$APP.od(new $APP.T(null,1,5,$APP.U,[function(e){return $APP.yi($APP.J(["invalid model for",e]))}],null),new $APP.V(null,1,[$APP.Kj,c],null))},WE=function(a,b,c,d){function e(f,g){return $APP.Bv.i(f,gE,function(h){return $APP.yf.i($APP.Eh,$APP.tf(function(l){return $APP.Gd(g,l)}),h)})}$APP.Ui.h(XD,function(f){f=$APP.W.j(f,oE,null,$APP.J([VE,new $APP.V(null,4,[$APP.Wu,0,$APP.Xu,0,$APP.Kz,0,$APP.Jz,0],null)]));f=$APP.m(a)?$APP.W.i(f,gE,$APP.Eh):
f;return e(f,$APP.n(oC))});return $APP.Ui.s(oC,dE,b,function(f){f=$APP.Oe(f);var g=$APP.M(f,$APP.Wu),h=$APP.M(f,$APP.Xu);return $APP.W.j(f,$APP.Wu,Math.round(g+c),$APP.J([$APP.Xu,Math.round(h+d)]))})},XE=function(){var a=kE.g($APP.n(XD)),b=$APP.K(a,0,null),c=$APP.K(a,1,null),d=VE.g($APP.n(XD)),e=$APP.Oe(d),f=$APP.M(e,$APP.Wu),g=$APP.M(e,$APP.Xu),h=Math.floor(Math.min(b,b+f)),l=Math.floor(Math.min(c,c+g)),p=Math.floor(Math.max(b,b+f)),q=Math.floor(Math.max(c,c+g)),t=$APP.n(TD),v=$APP.K(t,0,null),y=
$APP.K(t,1,null),z=$APP.S.h($APP.sA,function(){return function N(I){return new $APP.se(null,function(){for(var R=I;;){var Y=$APP.B(R);if(Y){var la=Y,qa=$APP.C(la);if(Y=$APP.B(function(La,Za,Ba,Ja,Ra,za,Ca,ib,vd,ce,de,qf,Oi,Hg,Id,Vf,Wf,Te){return function Zc(xe){return new $APP.se(null,function(ye,ze,Xf,Fm,Mo,Lh,No,ds,es,Oo,Gm,fs,Yc,nH,oH,pH,Bt){return function(){for(;;){var nk=$APP.B(xe);if(nk){if($APP.zd(nk)){var vj=$APP.gc(nk),mi=$APP.G(vj),mg=$APP.ve(mi);a:{for(var Wl=0;;)if(Wl<mi){var ni=$APP.hd(vj,
Wl),Gn=mg;ni=$APP.M(Bt,new $APP.T(null,2,5,$APP.U,[ze,ni],null));Gn.add(ni);Wl+=1}else{vj=!0;break a}vj=void 0}return vj?$APP.Be($APP.De(mg),Zc($APP.hc(nk))):$APP.Be($APP.De(mg),null)}mg=$APP.C(nk);return $APP.oe($APP.M(Bt,new $APP.T(null,2,5,$APP.U,[ze,mg],null)),Zc($APP.D(nk)))}return null}}}(La,Za,Ba,Ja,Ra,za,Ca,ib,vd,ce,de,qf,Oi,Hg,Id,Vf,Wf,Te),null,null)}}(R,qa,la,Y,a,b,c,d,e,f,g,h,l,p,q,t,v,y)($APP.Th(l,q+1))))return $APP.rf.h(Y,N($APP.D(R)));R=$APP.D(R)}else return null}},null,null)}($APP.Th(h,
p+1))}()),A=$APP.S.i($APP.sA,z,function(){return function N(I){return new $APP.se(null,function(){for(var R=I;;){var Y=$APP.B(R);if(Y){var la=Y,qa=$APP.C(la);if(Y=$APP.B(function(La,Za,Ba,Ja,Ra,za,Ca,ib,vd,ce,de,qf,Oi,Hg,Id,Vf,Wf,Te,Ue){return function ye(Zc){return new $APP.se(null,function(ze,Xf,Fm,Mo,Lh,No,ds,es,Oo,Gm,fs,Yc,nH,oH,pH,Bt,nk,vj){return function(){for(;;){var mi=$APP.B(Zc);if(mi){if($APP.zd(mi)){var mg=$APP.gc(mi),Wl=$APP.G(mg),ni=$APP.ve(Wl);a:{for(var Gn=0;;)if(Gn<Wl){var Ct=$APP.hd(mg,
Gn),qH=ni;Ct=$APP.M(vj,new $APP.T(null,2,5,$APP.U,[Xf,Ct],null));qH.add(Ct);Gn+=1}else{mg=!0;break a}mg=void 0}return mg?$APP.Be($APP.De(ni),ye($APP.hc(mi))):$APP.Be($APP.De(ni),null)}ni=$APP.C(mi);return $APP.oe($APP.M(vj,new $APP.T(null,2,5,$APP.U,[Xf,ni],null)),ye($APP.D(mi)))}return null}}}(La,Za,Ba,Ja,Ra,za,Ca,ib,vd,ce,de,qf,Oi,Hg,Id,Vf,Wf,Te,Ue),null,null)}}(R,qa,la,Y,a,b,c,d,e,f,g,h,l,p,q,t,v,y,z)($APP.Th(l,q+1))))return $APP.rf.h(Y,N($APP.D(R)));R=$APP.D(R)}else return null}},null,null)}($APP.Th(h,
p+1))}());$APP.yi($APP.J([h,l,p,q,A]));return $APP.Ui.j(XD,$APP.W,oE,null,$APP.J([VE,new $APP.V(null,4,[$APP.Wu,0,$APP.Xu,0,$APP.Kz,0,$APP.Jz,0],null),gE,$APP.Ih(A)]))},YE=function(a){a.stopPropagation();var b=$APP.H.h(a.target,a.currentTarget),c=gE.g($APP.n(XD)),d=$APP.n(lE),e=$APP.Oe(d);d=$APP.M(e,$APP.Wu);e=$APP.M(e,$APP.Xu);return $APP.H.h(CE.g($APP.n(XD)),HE)&&$APP.H.h(a.button,0)?bE($APP.n(cE)):$APP.H.h(oE.g($APP.n(XD)),JE)?XE():$APP.H.h(oE.g($APP.n(XD)),yE)?null:WE(b,c,d,e)},$E=function(a){for(var b=
[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=2<b.length?new $APP.x(b.slice(2),0,null):null;return ZE(arguments[0],arguments[1],b)},ZE=function(a,b,c){var d=$APP.K(b,0,null);b=$APP.K(b,1,null);c=$APP.S.h($APP.Ov,c);var e=$APP.Af(yD,new $APP.T(null,2,5,$APP.U,[a,ND],null)),f=$APP.K(e,0,null);e=$APP.K(e,1,null);return $APP.Ui.j(XD,$APP.W,xE,$APP.yf.h(new $APP.V(null,4,[$APP.hz,$APP.rB,$APP.mA,a,$APP.Wu,Math.round(d-f/2-1),$APP.Xu,Math.round(b-e/2-1)],null),c),$APP.J([CE,
HE]))},aF=function(){var a='\x3c?xml-stylesheet type\x3d"text/css" href\x3d"https://nyancad.github.io/Mosaic/app/css/style.css" ?\x3e'+$APP.X.g(document.querySelector(".mosaic-canvas").outerHTML);return btoa($APP.uj(encodeURIComponent(a),/%([0-9A-F]{2})/,function(b){return String.fromCharCode("0x"+$APP.X.g($APP.Wc(b,1)))}))},eF=function(){return $APP.Ui.s(bF,$APP.W,""+$APP.X.g(VC)+"$snapshots"+$APP.X.g(":")+$APP.X.g((new Date).toISOString()),new $APP.V(null,2,[cF,$APP.n(oC),$APP.Vw,new $APP.V(null,
1,["preview.svg",new $APP.V(null,2,[dF,"image/svg+xml",$APP.iw,aF()],null)],null)],null))},gF=function(a){var b=$APP.Ml(oC,new $APP.T(null,2,5,$APP.U,[a,$APP.Zw],null)),c=$APP.Ml(oC,new $APP.T(null,2,5,$APP.U,[a,$APP.mA],null)),d=$APP.Ml(oC,new $APP.T(null,2,5,$APP.U,[a,$APP.Dz],null)),e=$APP.Ml(oC,new $APP.T(null,2,5,$APP.U,[a,$APP.Hj],null)),f=$APP.Ml(DD,new $APP.T(null,1,5,$APP.U,[SC($APP.n(d))],null));return function(g){return new $APP.T(null,3,5,$APP.U,[$APP.hA,new $APP.T(null,2,5,$APP.U,[$APP.ry,
function(){var h=$APP.n(e);return $APP.m(h)?h:g}()],null),new $APP.T(null,9,5,$APP.U,[$APP.Yv,$APP.B($APP.n(d))&&$APP.Ha($APP.Cz.g($APP.n(f)))?new $APP.T(null,3,5,$APP.U,[$APP.tz,new $APP.V(null,1,[$APP.pA,GD($APP.n(d))],null),"Edit"],null):null,new $APP.T(null,3,5,$APP.U,[$APP.qx,new $APP.V(null,2,[$APP.Ry,"name",$APP.vw,"Instance name"],null),"name"],null),new $APP.T(null,2,5,$APP.U,[$APP.Qx,new $APP.V(null,4,[$APP.Dl,"name",$APP.mA,"text",$APP.fw,$APP.n(e),$APP.Aw,$APP.ka(function(h){return $APP.gf(e,
h.target.value)})],null)],null),new $APP.T(null,3,5,$APP.U,[$APP.qx,new $APP.V(null,2,[$APP.Ry,"model",$APP.vw,"Device model"],null),"model"],null),new $APP.T(null,4,5,$APP.U,[$APP.bx,new $APP.V(null,4,[$APP.Dl,"model",$APP.mA,"text",$APP.fw,$APP.n(d),$APP.Aw,function(h){return $APP.gf(d,h.target.value)}],null),new $APP.T(null,3,5,$APP.U,[$APP.By,new $APP.V(null,1,[$APP.Ow,""],null),"Ideal"],null),$APP.Xh(function(){return function p(l){return new $APP.se(null,function(){for(var q=l;;)if(q=$APP.B(q)){if($APP.zd(q)){var t=
$APP.gc(q),v=$APP.G(t),y=$APP.ve(v);a:{for(var z=0;;)if(z<v){var A=$APP.hd(t,z),F=$APP.K(A,0,null),I=$APP.K(A,1,null);$APP.H.h($APP.mA.h(I,"ckt"),$APP.n(c))&&(A=y,F=new $APP.T(null,3,5,$APP.U,[$APP.By,new $APP.V(null,2,[$APP.Kj,F,$APP.Ow,$APP.$u(F)],null),$APP.Hj.g(I)],null),A.add(F));z+=1}else{t=!0;break a}t=void 0}return t?$APP.Be($APP.De(y),p($APP.hc(q))):$APP.Be($APP.De(y),null)}t=$APP.C(q);y=$APP.K(t,0,null);t=$APP.K(t,1,null);if($APP.H.h($APP.mA.h(t,"ckt"),$APP.n(c)))return $APP.oe(new $APP.T(null,
3,5,$APP.U,[$APP.By,new $APP.V(null,2,[$APP.Kj,y,$APP.Ow,$APP.$u(y)],null),$APP.Hj.g(t)],null),p($APP.D(q)));q=$APP.D(q)}else return null},null,null)}($APP.n(DD))}())],null),function(){var h=fF.h($APP.M(yD,$APP.n(c)),$APP.wf),l=$APP.Zw.h($APP.n(f),$APP.wf),p=$APP.rf.h(h,l);return $APP.Xh(function(){return function v(t){return new $APP.se(null,function(){for(;;){var y=$APP.B(t);if(y){var z=y;if($APP.zd(z)){var A=$APP.gc(z),F=$APP.G(A),I=$APP.ve(F);return function(){for(var la=0;;)if(la<F){var qa=$APP.hd(A,
la),La=$APP.li.g($APP.Hj.g(qa)),Za=$APP.aA.g(qa);$APP.Ce(I,new $APP.T(null,4,5,$APP.U,[$APP.hA,new $APP.V(null,1,[$APP.Kj,La],null),new $APP.T(null,3,5,$APP.U,[$APP.qx,new $APP.V(null,2,[$APP.Ry,La,$APP.vw,Za],null),La],null),new $APP.T(null,2,5,$APP.U,[$APP.Qx,new $APP.V(null,4,[$APP.Dl,La,$APP.mA,"text",$APP.fw,$APP.M($APP.n(b),La),$APP.Aw,$APP.ka(function(Ba,Ja,Ra,za,Ca,ib,vd,ce,de,qf,Oi,Hg,Id){return function(Vf){return $APP.Ui.s(Id,$APP.W,Ja,Vf.target.value)}}(la,La,Za,qa,A,F,I,z,y,h,l,p,b,c,
d,e,f))],null)],null)],null));la+=1}else return!0}()?$APP.Be($APP.De(I),v($APP.hc(z))):$APP.Be($APP.De(I),null)}var N=$APP.C(z),R=$APP.li.g($APP.Hj.g(N)),Y=$APP.aA.g(N);return $APP.oe(new $APP.T(null,4,5,$APP.U,[$APP.hA,new $APP.V(null,1,[$APP.Kj,R],null),new $APP.T(null,3,5,$APP.U,[$APP.qx,new $APP.V(null,2,[$APP.Ry,R,$APP.vw,Y],null),R],null),new $APP.T(null,2,5,$APP.U,[$APP.Qx,new $APP.V(null,4,[$APP.Dl,R,$APP.mA,"text",$APP.fw,$APP.M($APP.n(b),R),$APP.Aw,$APP.ka(function(la,qa,La,Za,Ba,Ja,Ra,
za,Ca){return function(ib){return $APP.Ui.s(Ca,$APP.W,la,ib.target.value)}}(R,Y,N,z,y,h,l,p,b,c,d,e,f))],null)],null)],null),v($APP.D(z)))}return null}},null,null)}(p)}())}(),new $APP.T(null,3,5,$APP.U,[$APP.qx,new $APP.V(null,2,[$APP.Ry,"template",$APP.vw,"Template to display"],null),"Text"],null),new $APP.T(null,2,5,$APP.U,[$APP.Wy,new $APP.V(null,3,[$APP.Dl,"template",$APP.fw,$APP.Bf($APP.n(oC),new $APP.T(null,2,5,$APP.U,[g,wD],null),xD.g($APP.M(yD,$APP.n(c)))),$APP.Aw,$APP.ka(function(h){return $APP.Ui.s(oC,
$APP.Av,new $APP.T(null,2,5,$APP.U,[g,wD],null),h.target.value)})],null)],null)],null)],null)}},iF=function(){var a=$APP.n(eE),b=$APP.n(oC);a=$APP.lf.h($APP.zv.h(function(c){return $APP.fk.j(c,$APP.an,$APP.J([$APP.Zm]))},b),a);return $APP.Ui.s(hF,$APP.W,"local"+$APP.X.g(":")+"clipboard",new $APP.V(null,1,[$APP.iw,a],null))},jF=function(){iF();return hE()},kF=function(){var a=$APP.Af($APP.n(hF),new $APP.T(null,2,5,$APP.U,["local"+$APP.X.g(":")+"clipboard",$APP.iw],null)),b=$APP.lf.g(function(c){return new $APP.T(null,
2,5,$APP.U,[$APP.Kh($APP.Mk.g(WC($APP.mA.g(c)))),$APP.Bv.i(c,$APP.Hj,$APP.Mk)],null)});a=$APP.yf.i($APP.Q,b,a);$APP.Ui.i(oC,$APP.yf,a);return $APP.Ui.j(XD,$APP.W,oE,HE,$APP.J([gE,$APP.Ih($APP.wh(a))]))},lF=function(){var a=new URLSearchParams({schem:VC});return"notebook/?"+$APP.X.g(a.toString())},vF=function(){return new $APP.T(null,4,5,$APP.U,[$APP.hA,new $APP.T(null,16,5,$APP.U,[mF,new $APP.T(null,3,5,$APP.U,[$APP.nC,qE,new $APP.T(null,5,5,$APP.U,[new $APP.T(null,3,5,$APP.U,[new $APP.T(null,1,5,
$APP.U,[$APP.QB],null),DE,"Cursor [esc]"],null),new $APP.T(null,3,5,$APP.U,[new $APP.T(null,1,5,$APP.U,[$APP.TB],null),yE,"Wire [w]"],null),new $APP.T(null,3,5,$APP.U,[new $APP.T(null,1,5,$APP.U,[$APP.RB],null),rE,"Eraser [e]"],null),new $APP.T(null,3,5,$APP.U,[new $APP.T(null,1,5,$APP.U,[$APP.SB],null),nF,"Pan [space]"],null),new $APP.T(null,3,5,$APP.U,[new $APP.T(null,1,5,$APP.U,[$APP.dC],null),oF,"Probe nodes in a connected simulator"],null)],null)],null),new $APP.T(null,1,5,$APP.U,[pF],null),
new $APP.T(null,3,5,$APP.U,[$APP.tz,new $APP.V(null,2,[$APP.vw,"Rotate selected clockwise [s]",$APP.Py,function(){return fE(function(a){return a.rotate(90)})}],null),new $APP.T(null,1,5,$APP.U,[$APP.MB],null)],null),new $APP.T(null,3,5,$APP.U,[$APP.tz,new $APP.V(null,2,[$APP.vw,"Rotate selected counter-clockwise [shift+s]",$APP.Py,function(){return fE(function(a){return a.rotate(-90)})}],null),new $APP.T(null,1,5,$APP.U,[$APP.NB],null)],null),new $APP.T(null,3,5,$APP.U,[$APP.tz,new $APP.V(null,2,
[$APP.vw,"Mirror selected horizontal [shift+f]",$APP.Py,function(){return fE(function(a){return a.flipY()})}],null),new $APP.T(null,1,5,$APP.U,[$APP.PB],null)],null),new $APP.T(null,3,5,$APP.U,[$APP.tz,new $APP.V(null,2,[$APP.vw,"Mirror selected vertical [f]",$APP.Py,function(){return fE(function(a){return a.flipX()})}],null),new $APP.T(null,1,5,$APP.U,[$APP.OB],null)],null),new $APP.T(null,3,5,$APP.U,[$APP.tz,new $APP.V(null,2,[$APP.vw,"Delete selected [del]",$APP.Py,function(){return hE()}],null),
new $APP.T(null,1,5,$APP.U,[$APP.VB],null)],null),new $APP.T(null,3,5,$APP.U,[$APP.tz,new $APP.V(null,2,[$APP.vw,"Copy selected [ctrl+c]",$APP.Py,function(){return iF()}],null),new $APP.T(null,1,5,$APP.U,[$APP.XB],null)],null),new $APP.T(null,3,5,$APP.U,[$APP.tz,new $APP.V(null,2,[$APP.vw,"Cut selected [ctrl+x]",$APP.Py,function(){return jF()}],null),new $APP.T(null,1,5,$APP.U,[$APP.YB],null)],null),new $APP.T(null,3,5,$APP.U,[$APP.tz,new $APP.V(null,2,[$APP.vw,"Paste [ctrl+v]",$APP.Py,function(){return kF()}],
null),new $APP.T(null,1,5,$APP.U,[$APP.ZB],null)],null),new $APP.T(null,1,5,$APP.U,[pF],null),new $APP.T(null,3,5,$APP.U,[$APP.tz,new $APP.V(null,2,[$APP.vw,"zoom in [scroll wheel/pinch]",$APP.Py,function(){return aE(-1)}],null),new $APP.T(null,1,5,$APP.U,[$APP.IB],null)],null),new $APP.T(null,3,5,$APP.U,[$APP.tz,new $APP.V(null,2,[$APP.vw,"zoom out [scroll wheel/pinch]",$APP.Py,function(){return aE(1)}],null),new $APP.T(null,1,5,$APP.U,[$APP.JB],null)],null),new $APP.T(null,3,5,$APP.U,[$APP.tz,new $APP.V(null,
2,[$APP.vw,"undo [ctrl+z]",$APP.Py,ZC],null),new $APP.T(null,1,5,$APP.U,[$APP.LB],null)],null),new $APP.T(null,3,5,$APP.U,[$APP.tz,new $APP.V(null,2,[$APP.vw,"redo [ctrl+shift+z]",$APP.Py,$C],null),new $APP.T(null,1,5,$APP.U,[$APP.KB],null)],null)],null),new $APP.T(null,3,5,$APP.U,[qF,new $APP.T(null,3,5,$APP.U,[rF,$APP.Ml(DD,new $APP.T(null,2,5,$APP.U,[SC(VC),$APP.Hj],null)),"Untitled"],null),$APP.m($APP.n(sF))?new $APP.T(null,3,5,$APP.U,[$APP.Pw,new $APP.V(null,1,[$APP.vw,"saving changes"],null),
new $APP.T(null,1,5,$APP.U,[$APP.iC],null)],null):new $APP.T(null,3,5,$APP.U,[$APP.Zy,new $APP.V(null,1,[$APP.vw,"changes saved"],null),new $APP.T(null,1,5,$APP.U,[$APP.jC],null)],null)],null),new $APP.T(null,5,5,$APP.U,[tF,new $APP.T(null,3,5,$APP.U,[$APP.tz,new $APP.V(null,3,[$APP.pA,"library",uF,"libman",$APP.vw,"Open library manager"],null),new $APP.T(null,1,5,$APP.U,[$APP.bC],null)],null),new $APP.T(null,3,5,$APP.U,[$APP.tz,new $APP.V(null,3,[$APP.pA,"docs",uF,"docs",$APP.vw,"Open documentation"],
null),new $APP.T(null,1,5,$APP.U,[$APP.aC],null)],null),new $APP.T(null,3,5,$APP.U,[$APP.tz,new $APP.V(null,2,[$APP.vw,"Save Snapshot",$APP.Py,eF],null),new $APP.T(null,1,5,$APP.U,[$APP.WB],null)],null),new $APP.T(null,3,5,$APP.U,[$APP.tz,new $APP.V(null,2,[$APP.pA,"/auth/",$APP.vw,"Login / Account"],null),new $APP.T(null,1,5,$APP.U,[$APP.cC],null)],null)],null)],null)},wF=function(a){return $APP.H.h(a,$APP.mA.g($APP.n(cE)))?"active":null},yF=function(a){return new $APP.T(null,2,5,$APP.U,[$APP.iA,
new $APP.V(null,1,[xF,new $APP.kl(function(){switch(a){case "resistor":return'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8" standalone\x3d"no"?\x3e\n\n\x3c!--\nSPDX-FileCopyrightText: 2022 Pepijn de Vos\n\nSPDX-License-Identifier: CC-BY-NC-SA-4.0\n--\x3e\n\n\x3csvg\n   width\x3d"40"\n   height\x3d"40"\n   viewBox\x3d"0 0 40 40"\n   version\x3d"1.1"\n   id\x3d"svg4"\n   xmlns\x3d"http://www.w3.org/2000/svg"\n   xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\n  \x3cdefs\n     id\x3d"defs8" /\x3e\n  \x3cpath\n     style\x3d"stroke-width:0.078125"\n     d\x3d"M 9.8046875,27.745269 C 9.6757813,27.665644 9.5060914,27.52819 9.4275984,27.439816 9.3491055,27.351441 8.657132,25.720431 7.8898797,23.815348 L 6.4948748,20.351562 3.2474374,20.331174 0,20.310786 v -1.291648 -1.291649 l 3.8476563,0.02297 c 4.2008273,0.02508 4.124189,0.01681 4.4927023,0.485294 0.083066,0.105602 0.530325,1.134624 0.9939078,2.286717 0.463582,1.152092 0.8821216,2.171499 0.9300866,2.265348 0.07522,0.147166 0.311909,-0.459912 1.720999,-4.414063 2.17264,-6.096808 2.039651,-5.759082 2.365731,-6.007795 0.394424,-0.300842 1.053204,-0.341453 1.422983,-0.08772 0.14644,0.100482 0.329544,0.270586 0.406898,0.378008 0.07735,0.107422 0.951591,2.408115 1.942751,5.112651 0.991158,2.704536 1.814905,4.930136 1.830548,4.945778 0.01564,0.01564 0.09878,-0.175676 0.184751,-0.425151 1.768011,-5.13049 3.319902,-9.515212 3.423924,-9.673968 0.273606,-0.417575 1.102947,-0.64298 1.539854,-0.418514 0.476521,0.244818 0.586034,0.464627 2.764406,5.548616 1.194064,2.786761 2.189705,5.066838 2.212536,5.066838 0.02283,0 0.338643,-0.955898 0.701803,-2.124218 0.363159,-1.16832 0.731506,-2.229896 0.818548,-2.359058 0.08704,-0.129161 0.281186,-0.307052 0.431431,-0.395312 0.264028,-0.155103 0.401958,-0.161243 4.120828,-0.183449 L 40,17.727489 v 1.292506 1.292505 h -3.19977 -3.199771 l -0.388987,1.230469 c -0.213942,0.676758 -0.694671,2.214843 -1.068285,3.417968 -0.433867,1.397154 -0.749885,2.282233 -0.874666,2.449697 -0.487603,0.654392 -1.568162,0.630667 -2.018859,-0.04433 -0.12436,-0.186251 -3.150054,-7.151412 -4.386126,-10.096882 -0.08515,-0.202911 -0.128732,-0.241578 -0.176102,-0.15625 -0.03462,0.06236 -0.843722,2.361993 -1.798,5.110288 -0.954279,2.748295 -1.792639,5.075017 -1.863025,5.170493 -0.202047,0.274079 -0.662052,0.49667 -1.026409,0.49667 -0.362897,0 -0.824359,-0.222439 -1.023937,-0.493569 -0.06902,-0.09377 -0.947914,-2.411704 -1.953086,-5.150962 -1.005174,-2.739258 -1.845222,-4.980469 -1.866775,-4.980469 -0.02155,0 -0.825081,2.206055 -1.785618,4.902344 -0.960537,2.696289 -1.827478,5.028685 -1.926536,5.183102 -0.327132,0.509955 -1.136778,0.704641 -1.6393605,0.394198 z"\n     id\x3d"path861" /\x3e\n\x3c/svg\x3e\n';
case "capacitor":return'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8" standalone\x3d"no"?\x3e\n\n\x3c!--\nSPDX-FileCopyrightText: 2022 Pepijn de Vos\n\nSPDX-License-Identifier: CC-BY-NC-SA-4.0\n--\x3e\n\n\x3csvg\n   width\x3d"37"\n   height\x3d"37"\n   viewBox\x3d"0 0 37 37"\n   version\x3d"1.1"\n   id\x3d"svg4"\n   xmlns\x3d"http://www.w3.org/2000/svg"\n   xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\n  \x3cdefs\n     id\x3d"defs8" /\x3e\n  \x3cpath\n     style\x3d"stroke-width:0.0722656"\n     d\x3d"M 11.779297,26.34082 V 19.728516 H 5.8896484 0 V 18.5 17.271484 H 5.8896484 11.779297 V 10.65918 4.046875 h 1.192383 1.192383 V 18.5 32.953125 H 12.97168 11.779297 Z M 22.835937,18.5 V 4.046875 h 1.192383 1.192383 v 6.612305 6.612304 H 31.110352 37 V 18.5 19.728516 h -5.889648 -5.889649 v 6.612304 6.612305 H 24.02832 22.835937 Z"\n     id\x3d"path843" /\x3e\n\x3c/svg\x3e\n';
case "inductor":return'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8" standalone\x3d"no"?\x3e\n\n\x3c!--\nSPDX-FileCopyrightText: 2022 Pepijn de Vos\n\nSPDX-License-Identifier: CC-BY-NC-SA-4.0\n--\x3e\n\n\x3csvg\n   width\x3d"37"\n   height\x3d"37"\n   viewBox\x3d"0 0 37 37"\n   version\x3d"1.1"\n   id\x3d"svg4"\n   xmlns\x3d"http://www.w3.org/2000/svg"\n   xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\n  \x3cdefs\n     id\x3d"defs8" /\x3e\n  \x3cpath\n     style\x3d"stroke-width:0.0722656"\n     d\x3d"m 34.776705,21.318359 c -2.025823,0 -2.245454,-0.01188 -2.472772,-0.133795 -0.356422,-0.191151 -0.494489,-0.411851 -0.652026,-1.042264 -0.07629,-0.305299 -0.185936,-0.645245 -0.24365,-0.755433 -0.38011,-0.725712 -1.22965,-1.260792 -2.077834,-1.308719 -1.14891,-0.06492 -2.115624,0.598025 -2.530248,1.735168 -0.250797,0.687836 -0.750866,1.009931 -1.403533,0.904017 -0.389144,-0.06315 -0.68111,-0.317715 -0.87794,-0.765479 -0.325164,-0.739704 -0.415697,-0.883119 -0.763746,-1.209866 -0.441205,-0.414201 -0.901281,-0.616174 -1.501396,-0.659112 -1.146558,-0.08204 -2.087722,0.527491 -2.545372,1.648461 -0.209557,0.51329 -0.323047,0.66716 -0.630063,0.854237 -0.486776,0.296612 -1.346232,0.09747 -1.567827,-0.363277 -0.04459,-0.09272 -0.178397,-0.384881 -0.297342,-0.649243 -0.262587,-0.583617 -0.685975,-1.023369 -1.23156,-1.279158 -0.347019,-0.162695 -0.505571,-0.191302 -1.058544,-0.190992 -0.77681,4.34e-4 -1.148218,0.141908 -1.677808,0.639084 -0.348049,0.326747 -0.438582,0.470162 -0.763746,1.209866 -0.19683,0.447764 -0.488796,0.70233 -0.87794,0.765479 -0.619261,0.100493 -1.169122,-0.22861 -1.370777,-0.820436 C 9.9753163,19.141869 9.572666,18.671434 8.8679374,18.302522 8.5396491,18.130669 8.4074464,18.105134 7.8397378,18.103926 c -0.5920506,-0.0013 -0.6955906,0.02031 -1.1351504,0.236511 -0.4770863,0.234657 -0.8920181,0.624826 -1.1128445,1.04643 -0.057714,0.110188 -0.1673566,0.450134 -0.2436496,0.755433 -0.1575372,0.630413 -0.2956042,0.851113 -0.6520258,1.042264 -0.2273181,0.121912 -0.4469493,0.133795 -2.472772,0.133795 H 0 v -1.192382 -1.192383 h 1.5845462 1.5845461 l 0.1861616,-0.406631 c 0.5541643,-1.210454 1.5056426,-2.08213 2.8156819,-2.579525 0.5549514,-0.210704 0.6412504,-0.222567 1.6337517,-0.224589 1.0052004,-0.002 1.0721863,0.0072 1.6457159,0.22682 0.6169126,0.236251 1.4397136,0.736733 1.7429416,1.060173 l 0.172837,0.184358 0.341687,-0.304619 c 0.843727,-0.752198 1.813117,-1.140941 2.972427,-1.191997 1.290332,-0.05683 2.43421,0.315294 3.385598,1.101387 0.218322,0.18039 0.413669,0.327982 0.434106,0.327982 0.02044,0 0.215784,-0.147592 0.434106,-0.327982 0.953837,-0.788116 2.098458,-1.159675 3.385598,-1.099009 1.168497,0.05507 2.132657,0.440948 2.972427,1.189619 l 0.341687,0.304619 0.172837,-0.184358 c 0.303228,-0.32344 1.126029,-0.823922 1.742942,-1.060173 0.573529,-0.219636 0.640515,-0.228869 1.645715,-0.22682 0.992502,0.002 1.078801,0.01389 1.633752,0.224589 1.310039,0.497395 2.261517,1.369071 2.815682,2.579525 l 0.186161,0.406631 H 35.415454 37 v 1.192383 1.192382 z"\n     id\x3d"path843" /\x3e\n\x3c/svg\x3e\n';
case "diode":return'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8" standalone\x3d"no"?\x3e\n\n\x3c!--\nSPDX-FileCopyrightText: 2022 Pepijn de Vos\n\nSPDX-License-Identifier: CC-BY-NC-SA-4.0\n--\x3e\n\n\x3csvg\n   width\x3d"39.5"\n   height\x3d"25"\n   viewBox\x3d"0 0 39.5 25"\n   version\x3d"1.1"\n   id\x3d"svg16"\n   xmlns\x3d"http://www.w3.org/2000/svg"\n   xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\n  \x3cdefs\n     id\x3d"defs20" /\x3e\n  \x3cg\n     transform\x3d"translate(1.25)"\n     id\x3d"g14"\x3e\n    \x3cg\n       transform\x3d"translate(31) rotate(90)"\n       id\x3d"g6"\x3e\n      \x3cpath\n         d\x3d"M12.5,0,25,21H0Z"\n         fill\x3d"none"\n         id\x3d"path2" /\x3e\n      \x3cpath\n         d\x3d"M 12.5 5.865288734436035 L 5.276956558227539 18 L 19.72304153442383 18 L 12.5 5.865288734436035 M 12.5 0 L 25 21 L 0 21 L 12.5 0 Z"\n         id\x3d"path4" /\x3e\n    \x3c/g\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 21 22.25 h 2.5 V 21 0 -1.25 Z"\n       id\x3d"line8"\n       transform\x3d"translate(29 2)" /\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 8 9.25 h 2.5 V 8 0 -1.25 Z"\n       id\x3d"line10"\n       transform\x3d"translate(37 12.5) rotate(90)" /\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 9 10.25 h 2.5 V 9 0 -1.25 Z"\n       id\x3d"line12"\n       transform\x3d"translate(9 13) rotate(90)" /\x3e\n  \x3c/g\x3e\n\x3c/svg\x3e\n';
case "vsource":return'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8" standalone\x3d"no"?\x3e\n\n\x3c!--\nSPDX-FileCopyrightText: 2022 Pepijn de Vos\n\nSPDX-License-Identifier: CC-BY-NC-SA-4.0\n--\x3e\n\n\x3csvg\n   width\x3d"34"\n   height\x3d"34"\n   viewBox\x3d"0 0 34 34"\n   version\x3d"1.1"\n   id\x3d"svg8"\n   xmlns\x3d"http://www.w3.org/2000/svg"\n   xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\n  \x3cdefs\n     id\x3d"defs12" /\x3e\n  \x3cg\n     transform\x3d"translate(1.5 1.5)"\n     id\x3d"g6"\x3e\n    \x3cpath\n       d\x3d"m 15.5,-1.5 c -9.3710644,0 -17,7.6289356 -17,17 0,9.371064 7.6289356,17 17,17 9.371064,0 17,-7.628936 17,-17 0,-9.3710644 -7.628936,-17 -17,-17 z m 0,3 c 7.749746,0 14,6.2502543 14,14 0,7.749746 -6.250254,14 -14,14 -7.7497457,0 -14,-6.250254 -14,-14 0,-7.7497457 6.2502543,-14 14,-14 z"\n       id\x3d"circle2" /\x3e\n    \x3cpath\n       d\x3d"M4.609-7.67a3.875,3.875,0,0,0-1.775.49A7.482,7.482,0,0,0,1.074-5.9V-9.278a5.186,5.186,0,0,1,3.867-1.594,8.876,8.876,0,0,1,2.077.234,14.34,14.34,0,0,1,2.107.7,9.186,9.186,0,0,0,3.429.8A4.013,4.013,0,0,0,14.307-9.6a6.466,6.466,0,0,0,1.767-1.3v3.377A5.124,5.124,0,0,1,12.207-5.93a9.255,9.255,0,0,1-1.9-.19,14.389,14.389,0,0,1-2.266-.731A9.22,9.22,0,0,0,4.609-7.67Z"\n       transform\x3d"translate(6.926 23.901)"\n       id\x3d"path4" /\x3e\n  \x3c/g\x3e\n\x3c/svg\x3e\n';
case "isource":return'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8" standalone\x3d"no"?\x3e\n\n\x3c!--\nSPDX-FileCopyrightText: 2022 Pepijn de Vos\n\nSPDX-License-Identifier: CC-BY-NC-SA-4.0\n--\x3e\n\n\x3csvg\n   width\x3d"34"\n   height\x3d"34"\n   viewBox\x3d"0 0 34 34"\n   version\x3d"1.1"\n   id\x3d"svg10"\n   xmlns\x3d"http://www.w3.org/2000/svg"\n   xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\n  \x3cdefs\n     id\x3d"defs14" /\x3e\n  \x3cg\n     transform\x3d"translate(1.5 1.5)"\n     id\x3d"g8"\x3e\n    \x3cg\n       id\x3d"circle2"\x3e\n      \x3cpath\n         style\x3d"fill:none;stroke-width:3;"\n         d\x3d"M 31,15.5 A 15.5,15.5 0 0 1 15.5,31 15.5,15.5 0 0 1 0,15.5 15.5,15.5 0 0 1 15.5,0 15.5,15.5 0 0 1 31,15.5 Z"\n         id\x3d"path922" /\x3e\n      \x3cpath\n         d\x3d"m 15.5,-1.5 c -9.3710644,0 -17,7.6289356 -17,17 0,9.371064 7.6289356,17 17,17 9.371064,0 17,-7.628936 17,-17 0,-9.3710644 -7.628936,-17 -17,-17 z m 0,3 c 7.749746,0 14,6.2502543 14,14 0,7.749746 -6.250254,14 -14,14 -7.7497457,0 -14,-6.250254 -14,-14 0,-7.7497457 6.2502543,-14 14,-14 z"\n         id\x3d"path924" /\x3e\n    \x3c/g\x3e\n    \x3cpath\n       d\x3d"M 16.993489,22.25 H 16.842076 L 16.074478,21.482402 15.30688,20.714804 17.90344,18.107402 20.5,15.5 17.897669,12.886803 15.295337,10.273606 16.153714,9.4512289 17.012091,8.6288517 20.446183,12.062943 23.880275,15.497035 20.512589,18.873517 17.144903,22.25 Z"\n       id\x3d"path1846" /\x3e\n    \x3cpath\n       d\x3d"m 0,-1.25 v 2.5 h 12 v -2.5 z"\n       id\x3d"line6"\n       transform\x3d"translate(8.5 15.5)" /\x3e\n  \x3c/g\x3e\n\x3c/svg\x3e\n';
case "pmos":return'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8" standalone\x3d"no"?\x3e\n\n\x3c!--\nSPDX-FileCopyrightText: 2022 Pepijn de Vos\n\nSPDX-License-Identifier: CC-BY-NC-SA-4.0\n--\x3e\n\n\x3csvg\n   width\x3d"22.5"\n   height\x3d"29.5"\n   viewBox\x3d"0 0 22.5 29.5"\n   version\x3d"1.1"\n   id\x3d"svg18"\n   xmlns\x3d"http://www.w3.org/2000/svg"\n   xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\n  \x3cdefs\n     id\x3d"defs22" /\x3e\n  \x3cg\n     transform\x3d"translate(-58.75 -773.75)"\n     id\x3d"g16"\x3e\n    \x3cg\n       id\x3d"line2"\n       transform\x3d"translate(60 780)"\x3e\n      \x3cpath\n         d\x3d"M 0,0 V 17"\n         id\x3d"path884" /\x3e\n      \x3cpath\n         d\x3d"M -1.25,-1.25 V 0 17 18.25 h 2.5 V 17 0 -1.25 Z"\n         id\x3d"path886" /\x3e\n    \x3c/g\x3e\n    \x3cg\n       id\x3d"line4"\n       transform\x3d"translate(66 780)"\x3e\n      \x3cpath\n         d\x3d"M 0,0 V 17"\n         id\x3d"path878" /\x3e\n      \x3cpath\n         d\x3d"M -1.25,-1.25 V 0 17 18.25 h 2.5 V 17 0 -1.25 Z"\n         id\x3d"path880" /\x3e\n    \x3c/g\x3e\n    \x3cg\n       id\x3d"line6"\n       transform\x3d"translate(80 780) rotate(90)"\x3e\n      \x3cpath\n         d\x3d"M 0,0 V 12"\n         id\x3d"path872" /\x3e\n      \x3cpath\n         d\x3d"M -1.25,-1.25 V 0 12 13.25 h 2.5 V 12 0 -1.25 Z"\n         id\x3d"path874" /\x3e\n    \x3c/g\x3e\n    \x3cg\n       id\x3d"line8"\n       transform\x3d"translate(80 797) rotate(90)"\x3e\n      \x3cpath\n         d\x3d"M 0,0 V 12"\n         id\x3d"path866" /\x3e\n      \x3cpath\n         d\x3d"M -1.25,-1.25 V 0 12 13.25 h 2.5 V 12 0 -1.25 Z"\n         id\x3d"path868" /\x3e\n    \x3c/g\x3e\n    \x3cg\n       id\x3d"line10"\n       transform\x3d"translate(80 797)"\x3e\n      \x3cpath\n         d\x3d"M 0,0 V 5"\n         id\x3d"path860" /\x3e\n      \x3cpath\n         d\x3d"M -1.25,-1.25 V 0 5 6.25 h 2.5 V 5 0 -1.25 Z"\n         id\x3d"path862" /\x3e\n    \x3c/g\x3e\n    \x3cg\n       id\x3d"line12"\n       transform\x3d"translate(80 775)"\x3e\n      \x3cpath\n         d\x3d"M 0,0 V 5"\n         id\x3d"path854" /\x3e\n      \x3cpath\n         d\x3d"M -1.25,-1.25 V 0 5 6.25 h 2.5 V 5 0 -1.25 Z"\n         id\x3d"path856" /\x3e\n    \x3c/g\x3e\n    \x3cg\n       id\x3d"path14"\n       transform\x3d"translate(67 786) rotate(-90)"\x3e\n      \x3cpath\n         d\x3d"m 6,0 6,9 H 0 Z"\n         id\x3d"path848" /\x3e\n      \x3cpath\n         d\x3d"m 6,-0.90234375 -0.4160156,0.625 L -0.93359375,9.5 H 12.933594 Z M 6,0.90234375 11.066406,8.5 H 0.93359375 Z"\n         id\x3d"path850" /\x3e\n    \x3c/g\x3e\n  \x3c/g\x3e\n\x3c/svg\x3e\n';
case "nmos":return'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8" standalone\x3d"no"?\x3e\n\n\x3c!--\nSPDX-FileCopyrightText: 2022 Pepijn de Vos\n\nSPDX-License-Identifier: CC-BY-NC-SA-4.0\n--\x3e\n\n\x3csvg\n   width\x3d"22.5"\n   height\x3d"29.5"\n   viewBox\x3d"0 0 22.5 29.5"\n   version\x3d"1.1"\n   id\x3d"svg18"\n   xmlns\x3d"http://www.w3.org/2000/svg"\n   xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\n  \x3cdefs\n     id\x3d"defs22" /\x3e\n  \x3cg\n     transform\x3d"translate(-58.75 -773.75)"\n     id\x3d"g16"\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 17 18.25 h 2.5 V 17 0 -1.25 Z"\n       id\x3d"line2"\n       transform\x3d"translate(60 780)" /\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 17 18.25 h 2.5 V 17 0 -1.25 Z"\n       id\x3d"line4"\n       transform\x3d"translate(66 780)" /\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 12 13.25 h 2.5 V 12 0 -1.25 Z"\n       id\x3d"line6"\n       transform\x3d"translate(80 780) rotate(90)" /\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 12 13.25 h 2.5 V 12 0 -1.25 Z"\n       id\x3d"line8"\n       transform\x3d"translate(80 797) rotate(90)" /\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 5 6.25 h 2.5 V 5 0 -1.25 Z"\n       id\x3d"line10"\n       transform\x3d"translate(80 797)" /\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 5 6.25 h 2.5 V 5 0 -1.25 Z"\n       id\x3d"line12"\n       transform\x3d"translate(80 775)" /\x3e\n    \x3cpath\n       d\x3d"M6,0l6,9H0Z"\n       transform\x3d"translate(79 774) rotate(90)"\n       id\x3d"path14" /\x3e\n  \x3c/g\x3e\n\x3c/svg\x3e\n';
case "npn":return'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8" standalone\x3d"no"?\x3e\n\n\x3c!--\nSPDX-FileCopyrightText: 2022 Pepijn de Vos\n\nSPDX-License-Identifier: CC-BY-NC-SA-4.0\n--\x3e\n\n\x3csvg\n   width\x3d"22.745"\n   height\x3d"28.6"\n   viewBox\x3d"0 0 22.745 28.6"\n   version\x3d"1.1"\n   id\x3d"svg18"\n   xmlns\x3d"http://www.w3.org/2000/svg"\n   xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\n  \x3cdefs\n     id\x3d"defs22" /\x3e\n  \x3cg\n     transform\x3d"translate(-57.25 -774.45)"\n     id\x3d"g16"\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 17 18.25 h 2.5 V 17 0 -1.25 Z"\n       id\x3d"path898"\n       transform\x3d"translate(66 780)" /\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 12 13.25 h 2.5 V 12 0 -1.25 Z"\n       id\x3d"path895"\n       transform\x3d"translate(77.892 781.5) rotate(60)" /\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 12 13.25 h 2.5 V 12 0 -1.25 Z"\n       id\x3d"path892"\n       transform\x3d"translate(67.5 790) rotate(-60)" /\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 5 6.25 h 2.5 V 5 0 -1.25 Z"\n       id\x3d"path889"\n       transform\x3d"translate(78.37 796.8)" /\x3e\n    \x3cpath\n       d\x3d"M5,0l5,7.5H0Z"\n       transform\x3d"translate(74.995 777.5) rotate(60)"\n       id\x3d"path886" /\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 5 6.25 h 2.5 V 5 0 -1.25 Z"\n       id\x3d"path883"\n       transform\x3d"translate(63.5 788.5) rotate(90)" /\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 5 6.25 h 2.5 V 5 0 -1.25 Z"\n       id\x3d"path880"\n       transform\x3d"translate(78.37 775.7)" /\x3e\n  \x3c/g\x3e\n\x3c/svg\x3e\n';
case "pnp":return'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8" standalone\x3d"no"?\x3e\n\n\x3c!--\nSPDX-FileCopyrightText: 2022 Pepijn de Vos\n\nSPDX-License-Identifier: CC-BY-NC-SA-4.0\n--\x3e\n\n\x3csvg\n   width\x3d"22.37"\n   height\x3d"28.6"\n   viewBox\x3d"0 0 22.37 28.6"\n   version\x3d"1.1"\n   id\x3d"svg18"\n   xmlns\x3d"http://www.w3.org/2000/svg"\n   xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\n  \x3cdefs\n     id\x3d"defs22" /\x3e\n  \x3cg\n     transform\x3d"translate(-57.25 -774.45)"\n     id\x3d"g16"\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 17 18.25 h 2.5 V 17 0 -1.25 Z"\n       id\x3d"line2"\n       transform\x3d"translate(66 780)" /\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 12 13.25 h 2.5 V 12 0 -1.25 Z"\n       id\x3d"line4"\n       transform\x3d"translate(77.892 781.5) rotate(60)" /\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 12 13.25 h 2.5 V 12 0 -1.25 Z"\n       id\x3d"line6"\n       transform\x3d"translate(67.5 790) rotate(-60)" /\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 5 6.25 h 2.5 V 5 0 -1.25 Z"\n       id\x3d"line8"\n       transform\x3d"translate(78.37 796.8)" /\x3e\n    \x3cpath\n       d\x3d"M5,0l5,7.5H0Z"\n       transform\x3d"translate(72.499 790.41) rotate(-120)"\n       id\x3d"path10" /\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 5 6.25 h 2.5 V 5 0 -1.25 Z"\n       id\x3d"line12"\n       transform\x3d"translate(63.5 788.5) rotate(90)" /\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 5 6.25 h 2.5 V 5 0 -1.25 Z"\n       id\x3d"line14"\n       transform\x3d"translate(78.37 775.7)" /\x3e\n  \x3c/g\x3e\n\x3c/svg\x3e\n';
default:return""}}())],null)],null)},zF=function(a){return ZE("port",a,$APP.J([$APP.ow,"ground",$APP.hz,$APP.Vu($APP.qB.rotate(-90)),$APP.Hj,"GND"]))},AF=function(a){return ZE("port",a,$APP.J([$APP.ow,"supply",$APP.hz,$APP.Vu($APP.qB.rotate(90)),$APP.Hj,"VDD"]))},BF=function(a){return ZE("port",a,$APP.J([$APP.ow,"text",$APP.hz,$APP.Vu($APP.qB.rotate(90))]))},EF=function(){return new $APP.T(null,9,5,$APP.U,[$APP.hA,new $APP.T(null,6,5,$APP.U,[CF,new $APP.T(null,3,5,$APP.U,[$APP.kA,new $APP.V(null,
3,[$APP.vw,"Add port [p]",$APP.Bl,wF("port"),DF,function(a){return $E("port",WD(a))}],null),new $APP.T(null,1,5,$APP.U,[$APP.UB],null)],null),new $APP.T(null,3,5,$APP.U,[$APP.kA,new $APP.V(null,3,[$APP.vw,"Add wire label [t]",$APP.Bl,wF("port"),DF,function(a){return BF(WD(a))}],null),new $APP.T(null,1,5,$APP.U,[$APP.lC],null)],null),new $APP.T(null,3,5,$APP.U,[$APP.kA,new $APP.V(null,3,[$APP.vw,"Add ground [g]",$APP.Bl,wF("port"),DF,function(a){return zF(WD(a))}],null),"GND"],null),new $APP.T(null,
3,5,$APP.U,[$APP.kA,new $APP.V(null,3,[$APP.vw,"Add power supply [shift+p]",$APP.Bl,wF("port"),DF,function(a){return AF(WD(a))}],null),"VDD"],null),new $APP.T(null,3,5,$APP.U,[$APP.kA,new $APP.V(null,3,[$APP.vw,"Add text area [shift+t]",$APP.Bl,wF("port"),DF,function(a){return $E("text",WD(a))}],null),new $APP.T(null,1,5,$APP.U,[$APP.kC],null)],null)],null),new $APP.T(null,3,5,$APP.U,[$APP.kA,new $APP.V(null,3,[$APP.vw,"Add resistor [r]",$APP.Bl,wF("resistor"),DF,function(a){return $E("resistor",
WD(a))}],null),new $APP.T(null,2,5,$APP.U,[yF,"resistor"],null)],null),new $APP.T(null,3,5,$APP.U,[$APP.kA,new $APP.V(null,3,[$APP.vw,"Add inductor [l]",$APP.Bl,wF("inductor"),DF,function(a){return $E("inductor",WD(a))}],null),new $APP.T(null,2,5,$APP.U,[yF,"inductor"],null)],null),new $APP.T(null,3,5,$APP.U,[$APP.kA,new $APP.V(null,3,[$APP.vw,"Add capacitor [c]",$APP.Bl,wF("capacitor"),DF,function(a){return $E("capacitor",WD(a))}],null),new $APP.T(null,2,5,$APP.U,[yF,"capacitor"],null)],null),new $APP.T(null,
3,5,$APP.U,[$APP.kA,new $APP.V(null,3,[$APP.vw,"Add diode [d]",$APP.Bl,wF("diode"),DF,function(a){return $E("diode",WD(a))}],null),new $APP.T(null,2,5,$APP.U,[yF,"diode"],null)],null),new $APP.T(null,3,5,$APP.U,[CF,new $APP.T(null,3,5,$APP.U,[$APP.kA,new $APP.V(null,3,[$APP.vw,"Add voltage source [v]",$APP.Bl,wF("vsource"),DF,function(a){return $E("vsource",WD(a))}],null),new $APP.T(null,2,5,$APP.U,[yF,"vsource"],null)],null),new $APP.T(null,3,5,$APP.U,[$APP.kA,new $APP.V(null,3,[$APP.vw,"Add current source [i]",
$APP.Bl,wF("isource"),DF,function(a){return $E("isource",WD(a))}],null),new $APP.T(null,2,5,$APP.U,[yF,"isource"],null)],null)],null),new $APP.T(null,5,5,$APP.U,[CF,new $APP.T(null,3,5,$APP.U,[$APP.kA,new $APP.V(null,3,[$APP.vw,"Add N-channel mosfet [m]",$APP.Bl,wF("nmos"),DF,function(a){return $E("nmos",WD(a))}],null),new $APP.T(null,2,5,$APP.U,[yF,"nmos"],null)],null),new $APP.T(null,3,5,$APP.U,[$APP.kA,new $APP.V(null,3,[$APP.vw,"Add P-channel mosfet [shift+m]",$APP.Bl,wF("pmos"),DF,function(a){return $E("pmos",
WD(a))}],null),new $APP.T(null,2,5,$APP.U,[yF,"pmos"],null)],null),new $APP.T(null,3,5,$APP.U,[$APP.kA,new $APP.V(null,3,[$APP.vw,"Add NPN BJT [b]",$APP.Bl,wF("npn"),DF,function(a){return $E("npn",WD(a))}],null),new $APP.T(null,2,5,$APP.U,[yF,"npn"],null)],null),new $APP.T(null,3,5,$APP.U,[$APP.kA,new $APP.V(null,3,[$APP.vw,"Add PNP BJT [shift+b]",$APP.Bl,wF("pnp"),DF,function(a){return $E("pnp",WD(a))}],null),new $APP.T(null,2,5,$APP.U,[yF,"pnp"],null)],null)],null),new $APP.T(null,3,5,$APP.U,[$APP.kA,
new $APP.V(null,3,[$APP.vw,"Add subcircuit [x]",$APP.Bl,wF("ckt"),DF,function(a){return $E("ckt",WD(a))}],null),new $APP.T(null,1,5,$APP.U,[$APP.$B],null)],null)],null)},FF=function(a){return new $APP.T(null,5,5,$APP.U,[$APP.hA,function(){return function d(c){return new $APP.se(null,function(){for(var e=c;;)if(e=$APP.B(e)){if($APP.zd(e)){var f=$APP.gc(e),g=$APP.G(f),h=$APP.ve(g);a:{for(var l=0;;)if(l<g){var p=$APP.hd(f,l),q=$APP.K(p,0,null),t=$APP.K(p,1,null);$APP.H.h("wire",$APP.mA.g(t))&&(p=h,q=
UE(ND,t,q,t),p.add(q));l+=1}else{f=!0;break a}f=void 0}return f?$APP.Be($APP.De(h),d($APP.hc(e))):$APP.Be($APP.De(h),null)}f=$APP.C(e);h=$APP.K(f,0,null);f=$APP.K(f,1,null);if($APP.H.h("wire",$APP.mA.g(f)))return $APP.oe(UE(ND,f,h,f),d($APP.D(e)));e=$APP.D(e)}else return null},null,null)}(a)}(),function(){return function d(c){return new $APP.se(null,function(){for(var e=c;;)if(e=$APP.B(e)){if($APP.zd(e)){var f=$APP.gc(e),g=$APP.G(f),h=$APP.ve(g);a:{for(var l=0;;)if(l<g){var p=$APP.hd(f,l),q=$APP.K(p,
0,null),t=$APP.K(p,1,null);$APP.Pe("wire",$APP.mA.g(t))&&(p=h,q=UE(ND,t,q,t),p.add(q));l+=1}else{f=!0;break a}f=void 0}return f?$APP.Be($APP.De(h),d($APP.hc(e))):$APP.Be($APP.De(h),null)}f=$APP.C(e);h=$APP.K(f,0,null);f=$APP.K(f,1,null);if($APP.Pe("wire",$APP.mA.g(f)))return $APP.oe(UE(ND,f,h,f),d($APP.D(e)));e=$APP.D(e)}else return null},null,null)}(a)}(),function(){return function d(c){return new $APP.se(null,function(){for(;;){var e=$APP.B(c);if(e){if($APP.zd(e)){var f=$APP.gc(e),g=$APP.G(f),h=
$APP.ve(g);a:{for(var l=0;;)if(l<g){var p=$APP.hd(f,l),q=$APP.K(p,0,null),t=$APP.K(p,1,null);p=h;q=UE(RE,t,q,t);p.add(q);l+=1}else{f=!0;break a}f=void 0}return f?$APP.Be($APP.De(h),d($APP.hc(e))):$APP.Be($APP.De(h),null)}f=$APP.C(e);h=$APP.K(f,0,null);f=$APP.K(f,1,null);return $APP.oe(UE(RE,f,h,f),d($APP.D(e)))}return null}},null,null)}(a)}(),function(){return function d(c){return new $APP.se(null,function(){for(;;){var e=$APP.B(c);if(e){if($APP.zd(e)){var f=$APP.gc(e),g=$APP.G(f),h=$APP.ve(g);a:{for(var l=
0;;)if(l<g){var p=$APP.hd(f,l),q=$APP.K(p,0,null),t=$APP.K(p,1,null);p=h;q=UE(MD,t,q,t);p.add(q);l+=1}else{f=!0;break a}f=void 0}return f?$APP.Be($APP.De(h),d($APP.hc(e))):$APP.Be($APP.De(h),null)}f=$APP.C(e);h=$APP.K(f,0,null);f=$APP.K(f,1,null);return $APP.oe(UE(MD,f,h,f),d($APP.D(e)))}return null}},null,null)}(a)}()],null)},GF=function(){return new $APP.T(null,2,5,$APP.U,[$APP.hA,$APP.Xh(function(){return function c(b){return new $APP.se(null,function(){for(var d=b;;){var e=$APP.B(d);if(e){var f=
e;if($APP.zd(f)){var g=$APP.gc(f),h=$APP.G(g),l=$APP.ve(h);return function(){for(var z=0;;)if(z<h){var A=$APP.hd(g,z),F=$APP.K(A,0,null),I=$APP.K(F,0,null),N=$APP.K(F,1,null),R=$APP.K(A,1,null);A=$APP.G($APP.vf(function(){return function(Y){return $APP.H.h($APP.Af($APP.n(oC),new $APP.T(null,2,5,$APP.U,[Y,$APP.ow],null)),"text")}}(z,d,A,F,I,N,R,g,h,l,f,e),R));$APP.Pe(A,2)&&$APP.Ce(l,new $APP.T(null,2,5,$APP.U,[$APP.My,new $APP.V(null,5,[$APP.Kj,new $APP.T(null,2,5,$APP.U,[I,N],null),$APP.Bl,A>2?"wire":
"nc",bD,50*(I+.5),cD,50*(N+.5),$APP.iz,5],null)],null));z+=1}else return!0}()?$APP.Be($APP.De(l),c($APP.hc(f))):$APP.Be($APP.De(l),null)}var p=$APP.C(f),q=$APP.K(p,0,null),t=$APP.K(q,0,null),v=$APP.K(q,1,null),y=$APP.K(p,1,null);p=$APP.G($APP.vf(function(){return function(z){return $APP.H.h($APP.Af($APP.n(oC),new $APP.T(null,2,5,$APP.U,[z,$APP.ow],null)),"text")}}(d,p,q,t,v,y,f,e),y));if($APP.Pe(p,2))return $APP.oe(new $APP.T(null,2,5,$APP.U,[$APP.My,new $APP.V(null,5,[$APP.Kj,new $APP.T(null,2,5,
$APP.U,[t,v],null),$APP.Bl,p>2?"wire":"nc",bD,50*(t+.5),cD,50*(v+.5),$APP.iz,5],null)],null),c($APP.D(f)));d=$APP.D(f)}else return null}},null,null)}($APP.C($APP.n(TD)))}())],null)},NF=function(){var a=$APP.n(XD),b=$APP.Oe(a),c=$APP.M(b,gE);a=$APP.M(b,oE);var d=$APP.M(b,xE),e=$APP.M(b,VE),f=$APP.Oe(e);e=$APP.M(f,$APP.Wu);f=$APP.M(f,$APP.Xu);var g=$APP.M(b,kE);b=$APP.K(g,0,null);g=$APP.K(g,1,null);var h=50*Math.round(e),l=50*Math.round(f);return $APP.m(d)?new $APP.T(null,4,5,$APP.U,[HF,UE(ND,d,IF,
d),UE(RE,d,JF,d),UE(MD,d,KF,d)],null):$APP.H.h(a,JE)?new $APP.T(null,2,5,$APP.U,[LF,new $APP.V(null,4,[$APP.Wu,$APP.Mp.h(b,b+e)*50,$APP.Xu,$APP.Mp.h(g,g+f)*50,gD,Math.abs(e*50),hD,Math.abs(f*50)],null)],null):$APP.m($APP.m(c)?a:c)?new $APP.T(null,3,5,$APP.U,[MF,new $APP.V(null,1,[$APP.lv,new $APP.V(null,1,[$APP.hz,"translate("+$APP.X.g(h)+"px, "+$APP.X.g(l)+"px)"],null)],null),new $APP.T(null,2,5,$APP.U,[FF,function(){var p=$APP.n(oC);return $APP.lf.h(function(q){return new $APP.T(null,2,5,$APP.U,
[q,$APP.M(p,q)],null)},c)}()],null)],null):null},oG=function(){return new $APP.T(null,6,5,$APP.U,[OF,new $APP.V(null,1,[$APP.Bl,$APP.n(PF)],null),new $APP.T(null,2,5,$APP.U,[QF,new $APP.T(null,1,5,$APP.U,[vF],null)],null),new $APP.T(null,3,5,$APP.U,[RF,new $APP.T(null,4,5,$APP.U,[SF,new $APP.T(null,2,5,$APP.U,[TF,new $APP.T(null,1,5,$APP.U,[EF],null)],null),function(){var a=$APP.B($APP.n(eE));return a?new $APP.T(null,2,5,$APP.U,[UF,$APP.Xh(function(){return function d(c){return new $APP.se(null,function(){for(;;){var e=
$APP.B(c);if(e){if($APP.zd(e)){var f=$APP.gc(e),g=$APP.G(f),h=$APP.ve(g);a:{for(var l=0;;)if(l<g){var p=$APP.hd(f,l),q=h;p=$APP.od(new $APP.T(null,2,5,$APP.U,[gF,p],null),new $APP.V(null,1,[$APP.Kj,p],null));q.add(p);l+=1}else{f=!0;break a}f=void 0}return f?$APP.Be($APP.De(h),d($APP.hc(e))):$APP.Be($APP.De(h),null)}h=$APP.C(e);return $APP.oe($APP.od(new $APP.T(null,2,5,$APP.U,[gF,h],null),new $APP.V(null,1,[$APP.Kj,h],null)),d($APP.D(e)))}return null}},null,null)}(a)}())],null):null}(),new $APP.T(null,
7,5,$APP.U,[VF,$APP.fh([gD,WF,$APP.ew,XF,YF,ZF,$APP.Bl,$F,DF,hD],["100%",$D,LE,"http://www.w3.org/2000/svg",$APP.n(aG),KE,new $APP.T(null,2,5,$APP.U,[$APP.n(PF),$APP.n(qE)],null),wE,YE,"100%"]),new $APP.T(null,2,5,$APP.U,[bG,new $APP.T(null,4,5,$APP.U,[cG,new $APP.V(null,4,[$APP.Dl,"gridfill",dG,"userSpaceOnUse",gD,50,hD,50],null),new $APP.T(null,2,5,$APP.U,[eG,new $APP.V(null,4,[fG,0,gG,0,hG,50,iG,0],null)],null),new $APP.T(null,2,5,$APP.U,[eG,new $APP.V(null,4,[fG,0,gG,0,hG,0,iG,50],null)],null)],
null)],null),new $APP.T(null,2,5,$APP.U,[jG,new $APP.V(null,6,[$APP.Dr,"url(#gridfill)",DF,YE,$APP.Wu,-25E3,$APP.Xu,-25E3,gD,5E4,hD,5E4],null)],null),new $APP.T(null,2,5,$APP.U,[FF,$APP.n(oC)],null),new $APP.T(null,1,5,$APP.U,[GF],null),new $APP.T(null,1,5,$APP.U,[NF],null)],null)],null),new $APP.T(null,3,5,$APP.U,[kG,new $APP.T(null,2,5,$APP.U,[lG,new $APP.T(null,2,5,$APP.U,[$APP.zy,"Notebook"],null)],null),new $APP.T(null,2,5,$APP.U,[mG,new $APP.V(null,1,[nG,lF()],null)],null)],null)],null),new $APP.T(null,
1,5,$APP.U,[$APP.ov],null),new $APP.T(null,1,5,$APP.U,[$APP.hv],null)],null)},pG=function(){console.warn("Authentication failure detected - 401 from sync");$APP.ev();return TC("Session expired. Please login again. Your changes are saved locally.")},rG=function(a){var b=$APP.H.h(a.status,401);b||(b=a.name,b=$APP.m(b)?$APP.H.h(a.name.toLowerCase(),"unauthorized"):b);if($APP.m(b))return console.warn("Sync error 401 (auth failure)"),pG();console.error("Sync error:",a);return TC("Error synchronising to "+
$APP.X.g(qG)+", changes are saved locally")},tG=function(){if($APP.B(qG)){var a=sG.sync(qG,{live:!0,retry:!0});a.on("paused",function(){return $APP.gf(sF,!1)});a.on("active",function(){return $APP.gf(sF,!0)});a.on("denied",pG);a.on("error",rG)}},wG=function(){document.onkeyup=$APP.Np.h(PC,uG);document.onkeydown=$APP.Np.h(PC,vG);return $APP.Rl(new $APP.T(null,1,5,$APP.U,[oG],null),document.querySelector(".mosaic-app.mosaic-editor"))},xG=function(){localStorage.setItem("schem",VC);history.replaceState(null,
null,""+$APP.X.g(window.location.pathname)+"?schem\x3d"+$APP.X.g(VC));$APP.gf($APP.dv,$APP.av()!=null);tG();return wG()},yG={};$APP.k=sC.prototype;$APP.k.toString=function(){return $APP.pc(this)};$APP.k.K=function(){return this.meta};$APP.k.ma=function(){return this.ra(null)};$APP.k.ga=function(){return $APP.Ec};$APP.k.Fc=function(){return this.seed!==yG};
$APP.k.pa=function(a,b){a=this.la(null);var c=this.f.g?this.f.g(a):this.f.call(null,a);for(a=b.h?b.h(a,c):b.call(null,a,c);;){if($APP.Mc(a))return $APP.n(a);c=this.f.g?this.f.g(c):this.f.call(null,c);a=b.h?b.h(a,c):b.call(null,a,c)}};$APP.k.qa=function(a,b,c){a=this.la(null);for(c=b.h?b.h(c,a):b.call(null,c,a);;){if($APP.Mc(c))return $APP.n(c);a=this.f.g?this.f.g(a):this.f.call(null,a);c=b.h?b.h(c,a):b.call(null,c,a)}};
$APP.k.la=function(){yG===this.seed&&(this.seed=this.f.g?this.f.g(this.Wd):this.f.call(null,this.Wd));return this.seed};$APP.k.ra=function(){this.next==null&&(this.next=new sC(null,this.f,this.la(null),yG,null));return this.next};$APP.k.W=function(){return this};$APP.k.M=function(a,b){return b===this.meta?this:new sC(b,this.f,this.Wd,this.seed,this.next)};$APP.k.aa=function(a,b){return $APP.oe(b,this)};$APP.k.ba=$APP.u;$APP.k.R=function(a,b,c){return $APP.di(b,$APP.ki,"("," ",")",c,this)};
var UD=function UD(a){switch(arguments.length){case 1:return UD.g(arguments[0]);case 2:return UD.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=2<c.length?new $APP.x(c.slice(2),0,null):null;return UD.j(arguments[0],arguments[1],c)}};UD.g=function(a){return a};
UD.h=function(a,b){for(;;)if($APP.G(b)<$APP.G(a)){var c=a;a=b;b=c}else return $APP.Ua(function(d,e){return function(f,g){return $APP.Gd(e,g)?f:$APP.Qi.h(f,g)}}(a,b),a,a)};UD.j=function(a,b,c){a=$APP.ak(function(d){return-$APP.G(d)},$APP.le.j(c,b,$APP.J([a])));return $APP.Ua(UD,$APP.C(a),$APP.D(a))};UD.C=function(a){var b=$APP.C(a),c=$APP.E(a);a=$APP.C(c);c=$APP.E(c);return this.j(b,a,c)};UD.B=2;
var dE=function dE(a){switch(arguments.length){case 3:return dE.i(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=3<c.length?new $APP.x(c.slice(3),0,null):null;return dE.j(arguments[0],arguments[1],arguments[2],c)}};dE.i=function(a,b,c){return $APP.yf.i(a,$APP.lf.g(function(d){var e=$APP.U;var f=$APP.M(a,d);f=c.g?c.g(f):c.call(null,f);return new $APP.T(null,2,5,e,[d,f],null)}),b)};
dE.j=function(a,b,c,d){return $APP.yf.i(a,$APP.lf.g(function(e){return new $APP.T(null,2,5,$APP.U,[e,$APP.S.i(c,$APP.M(a,e),d)],null)}),b)};dE.C=function(a){var b=$APP.C(a),c=$APP.E(a);a=$APP.C(c);var d=$APP.E(c);c=$APP.C(d);d=$APP.E(d);return this.j(b,a,c,d)};dE.B=3;$APP.k=xC.prototype;$APP.k.M=function(a,b){return new xC(this.forms,this.Bb,this.gb,this.zd,this.cd,b)};$APP.k.K=function(){return this.sf};$APP.k.kb=function(){return this};$APP.k.lb=function(){return this};$APP.k.Yb=$APP.u;
$APP.k.Nb=function(a,b){return this.cd.g?this.cd.g(b):this.cd.call(null,b)};$APP.k.Ob=function(a,b,c,d,e){return $APP.vo(this.forms,this.Bb,b,c,d,e)};$APP.k.Pb=function(a,b){return yC.i?yC.i(this.forms,this.Bb,b):yC.call(null,this.forms,this.Bb,b)};var rF=function rF(a){switch(arguments.length){case 1:return rF.g(arguments[0]);case 2:return rF.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",arguments.length].join(""));}};rF.g=function(a){return rF.h(a,null)};
rF.h=function(a,b){var c=wC(),d=c.length===0||$APP.Ha(c.hasOwnProperty(0))?c[0]=$APP.Kl(!1):c[0];return $APP.m(function(){var e=$APP.n(d);return $APP.m(e)?e:$APP.rd($APP.n(a))&&$APP.Ha(b)}())?new $APP.T(null,3,5,$APP.U,[$APP.Ny,new $APP.V(null,1,[$APP.Fz,function(e){e.preventDefault();$APP.gf(a,e.target.elements.namefield.value);return $APP.gf(d,!1)}],null),new $APP.T(null,2,5,$APP.U,[$APP.Qx,new $APP.V(null,5,[$APP.mA,$APP.$y,$APP.Hj,"namefield",$APP.hy,!0,$APP.fw,$APP.n(a),$APP.Tw,function(e){$APP.gf(a,
e.target.value);return $APP.gf(d,!1)}],null)],null)],null):new $APP.T(null,5,5,$APP.U,[$APP.iA,new $APP.V(null,1,[$APP.Py,function(){return $APP.gf(d,!0)}],null),function(){var e=$APP.n(a);return $APP.m(e)?e:b}()," ",new $APP.T(null,1,5,$APP.U,[$APP.mC],null)],null)};rF.B=2;
var cG=new $APP.O(null,"pattern","pattern",242135423),yE=new $APP.O("nyancad.mosaic.editor","wire","nyancad.mosaic.editor/wire",-496129451),$F=new $APP.O(null,"on-mouse-move","on-mouse-move",-1386320874),mF=new $APP.O(null,"div.primary","div.primary",1467266760),oF=new $APP.O("nyancad.mosaic.editor","probe","nyancad.mosaic.editor/probe",33168059),kG=new $APP.O(null,"div#mosaic_notebook_wrapper","div#mosaic_notebook_wrapper",319973781),JE=new $APP.O("nyancad.mosaic.editor","box","nyancad.mosaic.editor/box",
72685753),OF=new $APP.O(null,"div.mosaic-container","div.mosaic-container",-1349574763),zG=new $APP.O(null,"transform-origin","transform-origin",-586167370),RF=new $APP.O(null,"div.content-wrapper","div.content-wrapper",-1101894014),QE=new $APP.w(null,"circuit-conn","circuit-conn",381274267,null),CE=new $APP.O("nyancad.mosaic.editor","tool","nyancad.mosaic.editor/tool",195718619),LF=new $APP.O(null,"rect.select","rect.select",-274352052),oE=new $APP.O("nyancad.mosaic.editor","dragging","nyancad.mosaic.editor/dragging",
-1899225452),kD=new $APP.O(null,"polyline","polyline",-1731551044),tF=new $APP.O(null,"div.secondary","div.secondary",-2037301824),qD=new $APP.O(null,"res","res",-1395007879),dF=new $APP.O(null,"content_type","content_type",52159344),XC=new $APP.O("nyancad.mosaic.editor","undo","nyancad.mosaic.editor/undo",1787806883),OE=new $APP.w(null,"circuit-shape","circuit-shape",22565817,null),AG=new $APP.O("nyancad.mosaic.editor","theme","nyancad.mosaic.editor/theme",-1698705327),jG=new $APP.O(null,"rect",
"rect",-108902628),pF=new $APP.O(null,"span.sep","span.sep",-303070340),kE=new $APP.O("nyancad.mosaic.editor","mouse-start","nyancad.mosaic.editor/mouse-start",-1507097836),DF=new $APP.O(null,"on-mouse-up","on-mouse-up",-1340533320),HD=new $APP.O(null,"rect.outline","rect.outline",35870808),lD=new $APP.O(null,"points","points",-1486596883),WF=new $APP.O(null,"on-wheel","on-wheel",-1971630708),IF=new $APP.O("nyancad.mosaic.editor","stagingbg","nyancad.mosaic.editor/stagingbg",1418997463),BG=new $APP.O(null,
"text-anchor","text-anchor",585613696),HF=new $APP.O(null,"g.toolstaging","g.toolstaging",1423440533),rE=new $APP.O("nyancad.mosaic.editor","eraser","nyancad.mosaic.editor/eraser",-1170358934),dG=new $APP.O(null,"pattern-units","pattern-units",-1273751842),SF=new $APP.O(null,"div.content","div.content",-298042649),CG=new $APP.O(null,"backspace","backspace",-696007848),hD=new $APP.O(null,"height","height",1025178622),DG=new $APP.O(null,"details","details",1956795411),TF=new $APP.O(null,"div.devicetray.chrome",
"div.devicetray.chrome",903230993),NE=new $APP.w(null,"nyancad.mosaic.editor","nyancad.mosaic.editor",1155727264,null),RE=new $APP.O("nyancad.mosaic.editor","sym","nyancad.mosaic.editor/sym",1888367968),EG=new $APP.O(null,"line.wire","line.wire",58251721),lG=new $APP.O(null,"details#mosaic_notebook_toggle","details#mosaic_notebook_toggle",1640067013),MD=new $APP.O("nyancad.mosaic.editor","conn","nyancad.mosaic.editor/conn",1132704290),FG=new $APP.O(null,"g.text","g.text",1871614707),GG=new $APP.O(null,
"selected","selected",574897764),zD=new $APP.O(null,"text.identifier","text.identifier",968733366),TE=new $APP.w(null,"circuit-sym","circuit-sym",1687815857,null),YF=new $APP.O(null,"view-box","view-box",-1792199155),uD=new $APP.O(null,"dy","dy",1719547243),eG=new $APP.O(null,"line.grid","line.grid",1678589712),nG=new $APP.O(null,"src","src",-1651076051),tD=new $APP.O(null,"tspan","tspan",-1557853197),gD=new $APP.O(null,"width","width",-384071477),xD=new $APP.O("nyancad.mosaic.editor","template",
"nyancad.mosaic.editor/template",2100370107),HG=new $APP.O("nyancad.mosaic.editor","split","nyancad.mosaic.editor/split",-2060037753),JF=new $APP.O("nyancad.mosaic.editor","stagingsym","nyancad.mosaic.editor/stagingsym",1725041827),PE=new $APP.w("nyancad.mosaic.editor","circuit-conn","nyancad.mosaic.editor/circuit-conn",2141897096,null),cD=new $APP.O(null,"cy","cy",755331060),bD=new $APP.O(null,"cx","cx",1272694324),YD=new $APP.O("nyancad.mosaic.editor","zoom","nyancad.mosaic.editor/zoom",-1377973775),
xF=new $APP.O(null,"dangerouslySetInnerHTML","dangerouslySetInnerHTML",-554971138),IG=new $APP.O(null,"delete","delete",-1768633620),gE=new $APP.O("nyancad.mosaic.editor","selected","nyancad.mosaic.editor/selected",1532065651),bG=new $APP.O(null,"defs","defs",1398449717),JG=new $APP.O(null,"dominant-baseline","dominant-baseline",609259826),HE=new $APP.O("nyancad.mosaic.editor","device","nyancad.mosaic.editor/device",1397330629),nD=new $APP.O(null,"polygon.arrow","polygon.arrow",-453339260),DE=new $APP.O("nyancad.mosaic.editor",
"cursor","nyancad.mosaic.editor/cursor",61601755),KG=new $APP.O(null,"g.device","g.device",-538642655),mG=new $APP.O(null,"iframe#mosaic_notebook","iframe#mosaic_notebook",1230226991),LG=new $APP.O(null,"escape","escape",-991601952),MG=new $APP.O("nyancad.mosaic.editor","ui","nyancad.mosaic.editor/ui",-586117532),uE=new $APP.O("nyancad.mosaic.editor","mouse","nyancad.mosaic.editor/mouse",1202743035),nF=new $APP.O("nyancad.mosaic.editor","pan","nyancad.mosaic.editor/pan",1148994537),SE=new $APP.w("nyancad.mosaic.editor",
"circuit-sym","nyancad.mosaic.editor/circuit-sym",-1670824032,null),KF=new $APP.O("nyancad.mosaic.editor","stagingconn","nyancad.mosaic.editor/stagingconn",-932497011),MF=new $APP.O(null,"g.staging","g.staging",1672233513),VF=new $APP.O(null,"svg.mosaic-canvas","svg.mosaic-canvas",716635672),NG=new $APP.O(null,"circle.outline","circle.outline",1162019949),qF=new $APP.O(null,"div.status","div.status",246710893),iG=new $APP.O(null,"y2","y2",-718691301),gG=new $APP.O(null,"y1","y1",589123466),fF=new $APP.O("nyancad.mosaic.editor",
"props","nyancad.mosaic.editor/props",1113223408),OG=new $APP.O(null,"g.wire","g.wire",1233150072),PG=new $APP.O(null,"z","z",-789527183),QG=new $APP.O(null,"v","v",21465059),fD=new $APP.O(null,"rect.tetris","rect.tetris",319962617),RG=new $APP.O(null,"s","s",1705939918),SG=new $APP.O(null,"t","t",-1397832519),vE=new $APP.O("nyancad.mosaic.editor","view","nyancad.mosaic.editor/view",-479208243),QF=new $APP.O(null,"div.menu.chrome","div.menu.chrome",2039856843),xE=new $APP.O("nyancad.mosaic.editor",
"staging","nyancad.mosaic.editor/staging",160758696),TG=new $APP.O(null,"m","m",1632677161),UG=new $APP.O(null,"g","g",1738089905),VG=new $APP.O(null,"i","i",-1386841315),WG=new $APP.O(null,"c","c",-1763192079),XG=new $APP.O(null,"b","b",1482224470),cF=new $APP.O(null,"schematic","schematic",884071610),YG=new $APP.O(null,"line.wirebb","line.wirebb",-1079360418),fG=new $APP.O(null,"x1","x1",-1863922247),hG=new $APP.O(null,"x2","x2",-1362513475),ZG=new $APP.O(null,"span.tray","span.tray",393150468),
aD=new $APP.O(null,"circle.port","circle.port",2124426562),UF=new $APP.O(null,"div.sidebar","div.sidebar",1454675964),XF=new $APP.O(null,"xmlns","xmlns",-1862095571),VE=new $APP.O("nyancad.mosaic.editor","delta","nyancad.mosaic.editor/delta",-1578540228),ZF=new $APP.O(null,"on-mouse-down","on-mouse-down",1147755470),rD=new $APP.O(null,"schem","schem",-607362953),ME=new $APP.w("nyancad.mosaic.editor","circuit-shape","nyancad.mosaic.editor/circuit-shape",-666412374,null),$G=new $APP.O("nyancad.mosaic.editor",
"prev-tool","nyancad.mosaic.editor/prev-tool",1457058552),sD=new $APP.O(null,"self","self",-1547428899),ND=new $APP.O("nyancad.mosaic.editor","bg","nyancad.mosaic.editor/bg",1513825358),wD=new $APP.O(null,"template","template",-702405684),uF=new $APP.O(null,"target","target",253001721);var VC;var aH=(new URLSearchParams(window.location.search)).get("schem");if($APP.m(aH))VC=aH;else{var bH=localStorage.getItem("schem");VC=$APP.m(bH)?bH:""+$APP.X.g($APP.fj())}var qG=$APP.cv(),sG=$APP.Qm("schematics"),oC=$APP.dn(sG,VC,$APP.Kl($APP.Q));$APP.hf(oC.cache,function(a){var b=$APP.Xn($APP.yz,a);return b?b:console.log($APP.Hi.j($APP.J([a])),$APP.Tn($APP.yz,a))});var DD=$APP.dn(sG,"models",$APP.Kl($APP.Q));
$APP.hf(DD.cache,function(a){var b=$APP.Xn($APP.Nx,a);return b?b:console.log($APP.Hi.j($APP.J([a])),$APP.Tn($APP.Nx,a))});var bF=$APP.dn(sG,""+$APP.X.g(VC)+"$snapshots",$APP.Kl($APP.Q)),pD=$APP.dn(sG,""+$APP.X.g(VC)+"$result",$APP.Kl($APP.uh()));$APP.bn(sG,$APP.J([oC,DD,bF,pD]));var cH=$APP.Qm("local"),hF=$APP.dn(cH,"local",$APP.ff($APP.Q));$APP.bn(cH,$APP.J([hF]));
var XD=$APP.Kl(new $APP.V(null,6,[YD,new $APP.T(null,4,5,$APP.U,[0,0,500,500],null),AG,"tetris",CE,DE,gE,$APP.Eh,uE,new $APP.T(null,2,5,$APP.U,[0,0],null),kE,new $APP.T(null,2,5,$APP.U,[0,0],null)],null));$APP.Vn(YD,$APP.Cj($APP.Uw,$APP.wz,$APP.Qo,4),$APP.Wo($APP.kx,$APP.Ga,new $APP.V(null,5,[$APP.To,!0,$APP.Qo,4,$APP.Go,null,$APP.Ko,$APP.Cj($APP.Uw,$APP.wz,$APP.Qo,4),$APP.Io,function(a){return $APP.sd(a)&&$APP.H.h(4,$APP.Ee(4,a))}],null),null));
$APP.Vn(AG,new $APP.Dh(null,new $APP.V(null,2,["eyesore","null","tetris","null"],null),null),new $APP.Dh(null,new $APP.V(null,2,["eyesore",null,"tetris",null],null),null));$APP.Vn(CE,new $APP.Dh(null,new $APP.V(null,6,[HE,"null",nF,"null",rE,"null",yE,"null",oF,"null",DE,"null"],null),null),new $APP.Dh(null,new $APP.V(null,6,[HE,null,nF,null,rE,null,yE,null,oF,null,DE,null],null),null));
$APP.Vn(gE,$APP.Cj($APP.Cx,$APP.cx,$APP.Cj($APP.Uw,$APP.Gy)),yC(new $APP.T(null,2,5,$APP.U,[$APP.cx,$APP.Cj($APP.Uw,$APP.Gy)],null),new $APP.T(null,2,5,$APP.U,[$APP.td,$APP.Wo($APP.Ay,$APP.Ia,new $APP.V(null,4,[$APP.To,!0,$APP.Go,null,$APP.Ko,$APP.Cj($APP.Uw,$APP.Gy),$APP.Io,function(a){return $APP.sd(a)}],null),null)],null),null));
$APP.Vn(oE,$APP.Cj($APP.mx,new $APP.Dh(null,new $APP.V(null,4,[HE,"null",vE,"null",yE,"null",JE,"null"],null),null)),$APP.Hp(new $APP.Dh(null,new $APP.V(null,4,[HE,"null",vE,"null",yE,"null",JE,"null"],null),null),new $APP.Dh(null,new $APP.V(null,4,[HE,null,vE,null,yE,null,JE,null],null),null),null));$APP.Vn(xE,$APP.Cj($APP.mx,$APP.Qy),$APP.Hp($APP.Qy,$APP.Qy,null));
$APP.Vn(MG,$APP.Cj($APP.Jy,$APP.io,new $APP.T(null,4,5,$APP.U,[YD,AG,CE,gE],null),$APP.$n,new $APP.T(null,2,5,$APP.U,[oE,xE],null)),$APP.mo($APP.fh([$APP.ao,$APP.bo,$APP.co,$APP.eo,$APP.fo,$APP.go,$APP.ho,$APP.io,$APP.jo,$APP.ko,$APP.lo,$APP.$n],[null,null,null,new $APP.T(null,5,5,$APP.U,[function(a){return $APP.wd(a)},function(a){return $APP.Gd(a,YD)},function(a){return $APP.Gd(a,AG)},function(a){return $APP.Gd(a,CE)},function(a){return $APP.Gd(a,gE)}],null),function(a){return $APP.wd(a)&&$APP.Gd(a,
YD)&&$APP.Gd(a,AG)&&$APP.Gd(a,CE)&&$APP.Gd(a,gE)},new $APP.T(null,2,5,$APP.U,[oE,xE],null),new $APP.T(null,4,5,$APP.U,[YD,AG,CE,gE],null),new $APP.T(null,4,5,$APP.U,[YD,AG,CE,gE],null),new $APP.T(null,4,5,$APP.U,[YD,AG,CE,gE],null),new $APP.T(null,2,5,$APP.U,[oE,xE],null),new $APP.T(null,5,5,$APP.U,[$APP.Cj($APP.py,new $APP.T(null,1,5,$APP.U,[$APP.zn],null),$APP.Cj($APP.Qz,$APP.zn)),$APP.Cj($APP.py,new $APP.T(null,1,5,$APP.U,[$APP.zn],null),$APP.Cj($APP.Bx,$APP.zn,YD)),$APP.Cj($APP.py,new $APP.T(null,
1,5,$APP.U,[$APP.zn],null),$APP.Cj($APP.Bx,$APP.zn,AG)),$APP.Cj($APP.py,new $APP.T(null,1,5,$APP.U,[$APP.zn],null),$APP.Cj($APP.Bx,$APP.zn,CE)),$APP.Cj($APP.py,new $APP.T(null,1,5,$APP.U,[$APP.zn],null),$APP.Cj($APP.Bx,$APP.zn,gE))],null),new $APP.T(null,2,5,$APP.U,[oE,xE],null)])));$APP.hf(XD,function(a){var b=$APP.Xn(MG,a);return b?b:console.log($APP.Hi.j($APP.J([a])),$APP.Tn(MG,a))});
var aG=$APP.Ml(XD,new $APP.T(null,1,5,$APP.U,[YD],null)),PF=$APP.Ml(XD,new $APP.T(null,1,5,$APP.U,[AG],null)),qE=$APP.Ml(XD,new $APP.T(null,1,5,$APP.U,[CE],null)),eE=$APP.Ml(XD,new $APP.T(null,1,5,$APP.U,[gE],null)),lE=$APP.Ml(XD,new $APP.T(null,1,5,$APP.U,[VE],null)),cE=$APP.Ml(XD,new $APP.T(null,1,5,$APP.U,[xE],null)),HC=$APP.ff($APP.od(new $APP.T(null,2,5,$APP.U,[new $APP.ie(null,null,null,1,null),null],null),new $APP.V(null,3,[$APP.bA,$APP.Bd,$APP.Gw,$APP.Xd,$APP.Rw,function(a,b){return $APP.od(b,
$APP.pd(a))}],null)));$APP.Di(oC,XC,function(a,b,c,d){return IC(d)});var sF=$APP.Kl(!1),eD=function eD(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=3<c.length?new $APP.x(c.slice(3),0,null):null;return eD.j(arguments[0],arguments[1],arguments[2],c)};
eD.j=function(a,b,c,d){return $APP.yf.h(new $APP.T(null,2,5,$APP.U,[KG,new $APP.V(null,4,[ZF,function(e){return IE.h?IE.h(b,e):IE.call(null,b,e)},$F,function(e){return tE.h?tE.h(b,e):tE.call(null,b,e)},$APP.lv,new $APP.V(null,2,[$APP.hz,$APP.Uu($APP.hz.h(c,$APP.rB)).translate($APP.Wu.g(c)*50,$APP.Xu.g(c)*50).toString(),zG,""+$APP.X.g(($APP.Wu.g(c)+a/2)*50)+"px "+$APP.X.g(($APP.Xu.g(c)+a/2)*50)+"px"],null),$APP.Bl,new $APP.T(null,3,5,$APP.U,[$APP.mA.g(c),$APP.ow.g(c),$APP.Gd($APP.n(eE),b)?GG:null],
null)],null)],null),d)};eD.B=3;eD.C=function(a){var b=$APP.C(a),c=$APP.E(a);a=$APP.C(c);var d=$APP.E(c);c=$APP.C(d);d=$APP.E(d);return this.j(b,a,c,d)};
var yD=$APP.fh("pmos capacitor wire pnp inductor diode isource text port vsource resistor npn nmos".split(" "),[new $APP.V(null,5,[ND,$APP.DB,MD,$APP.EB,RE,BD,xD,"{self.name}",fF,$APP.wf],null),new $APP.V(null,5,[ND,$APP.GB,MD,$APP.HB,RE,function(a,b){return new $APP.T(null,6,5,$APP.U,[eD,3,a,b,new $APP.T(null,3,5,$APP.U,[AD,b,3],null),new $APP.T(null,2,5,$APP.U,[mD,new $APP.T(null,4,5,$APP.U,[new $APP.T(null,2,5,$APP.U,[new $APP.T(null,2,5,$APP.U,[1.5,.5],null),new $APP.T(null,2,5,$APP.U,[1.5,1.4],
null)],null),new $APP.T(null,2,5,$APP.U,[new $APP.T(null,2,5,$APP.U,[1.1,1.4],null),new $APP.T(null,2,5,$APP.U,[1.9,1.4],null)],null),new $APP.T(null,2,5,$APP.U,[new $APP.T(null,2,5,$APP.U,[1.1,1.6],null),new $APP.T(null,2,5,$APP.U,[1.9,1.6],null)],null),new $APP.T(null,2,5,$APP.U,[new $APP.T(null,2,5,$APP.U,[1.5,1.6],null),new $APP.T(null,2,5,$APP.U,[1.5,2.5],null)],null)],null)],null)],null)},xD,"{self.name}: {self.props.capacitance}F",fF,new $APP.T(null,1,5,$APP.U,[new $APP.V(null,3,[$APP.Hj,"capacitance",
$APP.aA,"Capacitance value",$APP.Ix,"capacitance"],null)],null)],null),new $APP.V(null,4,[ND,$APP.wf,MD,$APP.wf,RE,function(a,b){(function(){var g=$APP.Hj.g(b);return $APP.m(g)?g:a})();var c=$APP.Wu.g(b),d=$APP.Xu.g(b),e=$APP.Kz.g(b),f=$APP.Jz.g(b);return new $APP.T(null,4,5,$APP.U,[OG,new $APP.V(null,3,[ZF,function(g){return IE.h?IE.h(a,g):IE.call(null,a,g)},$F,function(g){return tE.h?tE.h(a,g):tE.call(null,a,g)},$APP.Bl,$APP.Gd($APP.n(eE),a)?GG:null],null),new $APP.T(null,2,5,$APP.U,[YG,new $APP.V(null,
4,[fG,(c+.5)*50,gG,(d+.5)*50,hG,(c+e+.5)*50,iG,(d+f+.5)*50],null)],null),new $APP.T(null,2,5,$APP.U,[EG,new $APP.V(null,4,[fG,(c+.5)*50,gG,(d+.5)*50,hG,(c+e+.5)*50,iG,(d+f+.5)*50],null)],null)],null)},fF,$APP.wf],null),new $APP.V(null,5,[ND,$APP.DB,MD,$APP.FB,RE,CD,xD,"{self.name}",fF,$APP.wf],null),new $APP.V(null,5,[ND,$APP.GB,MD,$APP.HB,RE,function(a,b){return new $APP.T(null,7,5,$APP.U,[eD,3,a,b,new $APP.T(null,3,5,$APP.U,[AD,b,3],null),new $APP.T(null,2,5,$APP.U,[mD,new $APP.T(null,2,5,$APP.U,
[new $APP.T(null,2,5,$APP.U,[new $APP.T(null,2,5,$APP.U,[1.5,.5],null),new $APP.T(null,2,5,$APP.U,[1.5,1.1],null)],null),new $APP.T(null,2,5,$APP.U,[new $APP.T(null,2,5,$APP.U,[1.5,1.9],null),new $APP.T(null,2,5,$APP.U,[1.5,2.5],null)],null)],null)],null),new $APP.T(null,2,5,$APP.U,[$APP.Kn,new $APP.V(null,1,[$APP.Vs,"M75,55\n                 a5,5 90 0,0 0,10\n                 a5,5 90 0,0 0,10\n                 a5,5 90 0,0 0,10\n                 a5,5 90 0,0 0,10\n                 "],null)],null)],
null)},xD,"{self.name}: {self.props.inductance}H",fF,new $APP.T(null,1,5,$APP.U,[new $APP.V(null,3,[$APP.Hj,"inductance",$APP.aA,"Inductance value",$APP.Ix,"inductance"],null)],null)],null),new $APP.V(null,4,[ND,$APP.GB,MD,$APP.HB,RE,function(a,b){return new $APP.T(null,7,5,$APP.U,[eD,3,a,b,new $APP.T(null,3,5,$APP.U,[AD,b,3],null),new $APP.T(null,2,5,$APP.U,[mD,new $APP.T(null,3,5,$APP.U,[new $APP.T(null,2,5,$APP.U,[new $APP.T(null,2,5,$APP.U,[1.5,.5],null),new $APP.T(null,2,5,$APP.U,[1.5,1.4],null)],
null),new $APP.T(null,2,5,$APP.U,[new $APP.T(null,2,5,$APP.U,[1.3,1.6],null),new $APP.T(null,2,5,$APP.U,[1.7,1.6],null)],null),new $APP.T(null,2,5,$APP.U,[new $APP.T(null,2,5,$APP.U,[1.5,1.6],null),new $APP.T(null,2,5,$APP.U,[1.5,2.5],null)],null)],null)],null),new $APP.T(null,5,5,$APP.U,[oD,1.5,1.6,.2,270],null)],null)},fF,$APP.wf],null),new $APP.V(null,5,[ND,$APP.GB,MD,$APP.HB,RE,function(a,b){return new $APP.T(null,8,5,$APP.U,[eD,3,a,b,new $APP.T(null,3,5,$APP.U,[AD,b,3],null),new $APP.T(null,
2,5,$APP.U,[mD,new $APP.T(null,3,5,$APP.U,[new $APP.T(null,2,5,$APP.U,[new $APP.T(null,2,5,$APP.U,[1.5,.5],null),new $APP.T(null,2,5,$APP.U,[1.5,1.1],null)],null),new $APP.T(null,2,5,$APP.U,[new $APP.T(null,2,5,$APP.U,[1.5,1.25],null),new $APP.T(null,2,5,$APP.U,[1.5,1.65],null)],null),new $APP.T(null,2,5,$APP.U,[new $APP.T(null,2,5,$APP.U,[1.5,1.9],null),new $APP.T(null,2,5,$APP.U,[1.5,2.5],null)],null)],null)],null),new $APP.T(null,2,5,$APP.U,[NG,new $APP.V(null,3,[bD,75,cD,75,$APP.iz,20],null)],
null),new $APP.T(null,5,5,$APP.U,[oD,1.5,1.8,.15,-90],null)],null)},xD,"{self.name}: {self.props.dc}I",fF,new $APP.T(null,3,5,$APP.U,[new $APP.V(null,3,[$APP.Hj,"dc",$APP.aA,"DC current",$APP.Ix,"dc"],null),new $APP.V(null,3,[$APP.Hj,"ac",$APP.aA,"AC current",$APP.Ix,"ac"],null),new $APP.V(null,3,[$APP.Hj,"tran",$APP.aA,"Transient current",$APP.Ix,"tran"],null)],null)],null),new $APP.V(null,5,[ND,$APP.wf,MD,$APP.wf,RE,function(a,b){var c=$APP.Wu.g(b),d=$APP.Xu.g(b);b=vD(b,$APP.jd(b,wD,$APP.Af(yD,
new $APP.T(null,2,5,$APP.U,["text",xD],null))));return new $APP.T(null,3,5,$APP.U,[FG,new $APP.V(null,4,[ZF,function(e){return IE.h?IE.h(a,e):IE.call(null,a,e)},$F,function(e){return tE.h?tE.h(a,e):tE.call(null,a,e)},$APP.Bl,$APP.Gd($APP.n(eE),a)?GG:null,$APP.hz,"translate("+$APP.X.g((c+.1)*50)+", "+$APP.X.g((d+.3)*50)+")"],null),new $APP.T(null,2,5,$APP.U,[$APP.$y,b],null)],null)},xD,"Operating Point:\n{res.op}",fF,$APP.wf],null),new $APP.V(null,5,[ND,$APP.wf,MD,new $APP.T(null,1,5,$APP.U,[new $APP.T(null,
3,5,$APP.U,[0,0,"P"],null)],null),RE,function(a,b){return new $APP.T(null,6,5,$APP.U,[eD,1,a,b,function(){switch($APP.ow.g(b)){case "ground":return new $APP.T(null,2,5,$APP.U,[mD,new $APP.T(null,2,5,$APP.U,[new $APP.T(null,2,5,$APP.U,[new $APP.T(null,2,5,$APP.U,[.5,.5],null),new $APP.T(null,2,5,$APP.U,[.3,.5],null)],null),new $APP.T(null,4,5,$APP.U,[new $APP.T(null,2,5,$APP.U,[0,.5],null),new $APP.T(null,2,5,$APP.U,[.3,.2],null),new $APP.T(null,2,5,$APP.U,[.3,.8],null),new $APP.T(null,2,5,$APP.U,
[0,.5],null)],null)],null)],null);case "supply":return new $APP.T(null,2,5,$APP.U,[mD,new $APP.T(null,2,5,$APP.U,[new $APP.T(null,2,5,$APP.U,[new $APP.T(null,2,5,$APP.U,[.5,.5],null),new $APP.T(null,2,5,$APP.U,[0,.5],null)],null),new $APP.T(null,2,5,$APP.U,[new $APP.T(null,2,5,$APP.U,[0,.2],null),new $APP.T(null,2,5,$APP.U,[0,.8],null)],null)],null)],null);case "text":return null;default:return new $APP.T(null,2,5,$APP.U,[mD,new $APP.T(null,1,5,$APP.U,[new $APP.T(null,6,5,$APP.U,[new $APP.T(null,
2,5,$APP.U,[.5,.5],null),new $APP.T(null,2,5,$APP.U,[.3,.3],null),new $APP.T(null,2,5,$APP.U,[0,.3],null),new $APP.T(null,2,5,$APP.U,[0,.7],null),new $APP.T(null,2,5,$APP.U,[.3,.7],null),new $APP.T(null,2,5,$APP.U,[.5,.5],null)],null)],null)],null)}}(),new $APP.T(null,3,5,$APP.U,[$APP.$y,new $APP.V(null,3,[BG,function(){switch(Math.round($APP.C($APP.hz.g(b)))){case 1:return"end";case -1:return"start";default:return"middle"}}(),JG,"middle",$APP.hz,$APP.Uu($APP.hz.g(b)).translate(50/($APP.H.h($APP.ow.g(b),
"text")?-4:4),-25).inverse().toString()],null),$APP.ow.g(b)==null?vD(b,$APP.jd(b,wD,$APP.Af(yD,new $APP.T(null,2,5,$APP.U,["port",xD],null)))):$APP.Hj.h(b,"net")],null)],null)},xD,"{self.name}: {res.op[self.name.toLowerCase()]:.2f}V",fF,$APP.wf],null),new $APP.V(null,5,[ND,$APP.GB,MD,$APP.HB,RE,function(a,b){return new $APP.T(null,9,5,$APP.U,[eD,3,a,b,new $APP.T(null,3,5,$APP.U,[AD,b,3],null),new $APP.T(null,2,5,$APP.U,[mD,new $APP.T(null,2,5,$APP.U,[new $APP.T(null,2,5,$APP.U,[new $APP.T(null,2,
5,$APP.U,[1.5,.5],null),new $APP.T(null,2,5,$APP.U,[1.5,1.1],null)],null),new $APP.T(null,2,5,$APP.U,[new $APP.T(null,2,5,$APP.U,[1.5,1.9],null),new $APP.T(null,2,5,$APP.U,[1.5,2.5],null)],null)],null)],null),new $APP.T(null,2,5,$APP.U,[NG,new $APP.V(null,3,[bD,75,cD,75,$APP.iz,20],null)],null),new $APP.T(null,3,5,$APP.U,[$APP.$y,new $APP.V(null,3,[$APP.Wu,75,$APP.Xu,70,BG,"middle"],null),"+"],null),new $APP.T(null,3,5,$APP.U,[$APP.$y,new $APP.V(null,3,[$APP.Wu,75,$APP.Xu,90,BG,"middle"],null),"â"],
null)],null)},xD,"{self.name}: {self.props.dc}V",fF,new $APP.T(null,3,5,$APP.U,[new $APP.V(null,3,[$APP.Hj,"dc",$APP.aA,"DC voltage",$APP.Ix,"dc"],null),new $APP.V(null,3,[$APP.Hj,"ac",$APP.aA,"AC voltage",$APP.Ix,"ac"],null),new $APP.V(null,3,[$APP.Hj,"tran",$APP.aA,"Transient voltage",$APP.Ix,"tran"],null)],null)],null),new $APP.V(null,5,[ND,$APP.GB,MD,$APP.HB,RE,function(a,b){return new $APP.T(null,7,5,$APP.U,[eD,3,a,b,new $APP.T(null,3,5,$APP.U,[AD,b,3],null),new $APP.T(null,2,5,$APP.U,[HD,new $APP.V(null,
4,[$APP.Wu,67.5,$APP.Xu,1.1*50,gD,15,hD,40],null)],null),new $APP.T(null,2,5,$APP.U,[mD,new $APP.T(null,2,5,$APP.U,[new $APP.T(null,2,5,$APP.U,[new $APP.T(null,2,5,$APP.U,[1.5,.5],null),new $APP.T(null,2,5,$APP.U,[1.5,1.1],null)],null),new $APP.T(null,2,5,$APP.U,[new $APP.T(null,2,5,$APP.U,[1.5,1.9],null),new $APP.T(null,2,5,$APP.U,[1.5,2.5],null)],null)],null)],null)],null)},xD,"{self.name}: {self.props.resistance}Î©",fF,new $APP.T(null,1,5,$APP.U,[new $APP.V(null,3,[$APP.Hj,"resistance",$APP.aA,
"Resistance value",$APP.Ix,"resistance"],null)],null)],null),new $APP.V(null,5,[ND,$APP.DB,MD,$APP.FB,RE,CD,xD,"{self.name}",fF,$APP.wf],null),new $APP.V(null,5,[ND,$APP.DB,MD,$APP.EB,RE,BD,xD,"{self.name}",fF,$APP.wf],null)]),TD=$APP.Ll(function(){return RD()});
$APP.Di(oC,HG,function dH(){pC(HG);pC(XC);var b=$APP.Mm(1);$APP.pm(function(){var c=function(){function e(f){var g=f[1];if(g===7){var h=f[7];g=f[8];var l=f[9],p=f[10];f[11]=f[2];f[8]=g;f[9]=l;f[10]=p;f[7]=h+1;f[2]=null;f[1]=2;return $APP.Z}return g===1?(g=$APP.n(TD),g=SD(g),g=$APP.B(g),f[8]=g,f[9]=null,f[10]=0,f[7]=0,f[2]=null,f[1]=2,$APP.Z):g===4?(l=f[9],h=f[7],h=$APP.hd(l,h),g=$APP.K(h,0,null),h=$APP.K(h,1,null),g=VD(g,h),$APP.Jm(f,7,g)):g===13?(f[2]=f[2],f[1]=10,$APP.Z):g===6?(f[2]=f[2],f[1]=3,
$APP.Z):g===3?(g=f[2],h=$APP.Di(oC,XC,function(){return function(q,t,v,y){return IC(y)}}()),l=$APP.Di(oC,HG,dH),f[12]=g,f[13]=h,$APP.Km(f,l)):g===12?(h=f[14],h=$APP.C(h),g=$APP.K(h,0,null),h=$APP.K(h,1,null),g=VD(g,h),$APP.Jm(f,14,g)):g===2?(h=f[7],p=f[10],f[1]=$APP.m(h<p)?4:5,$APP.Z):g===11?(h=f[14],g=$APP.gc(h),h=$APP.hc(h),l=$APP.G(g),f[8]=h,f[9]=g,f[10]=l,f[7]=0,f[2]=null,f[1]=2,$APP.Z):g===9?(f[2]=null,f[1]=10,$APP.Z):g===5?(g=f[8],h=f[14],g=$APP.B(g),f[14]=g,f[1]=g?8:9,$APP.Z):g===14?(h=f[14],
l=f[2],g=$APP.E(h),f[15]=l,f[8]=g,f[9]=null,f[10]=0,f[7]=0,f[2]=null,f[1]=2,$APP.Z):g===10?(f[2]=f[2],f[1]=6,$APP.Z):g===8?(h=f[14],f[1]=$APP.zd(h)?11:12,$APP.Z):null}return function(){function f(l){for(;;){a:{try{for(;;){var p=e(l);if(!$APP.P(p,$APP.Z)){var q=p;break a}}}catch(t){q=t;l[2]=q;if($APP.B(l[4]))l[1]=$APP.C(l[4]);else throw q;q=$APP.Z;break a}q=void 0}if(!$APP.P(q,$APP.Z))return q}}function g(){var l=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];l[0]=
h;l[1]=1;return l}var h=null;h=function(l){switch(arguments.length){case 0:return g.call(this);case 1:return f.call(this,l)}throw Error("Invalid arity: "+arguments.length);};h.m=g;h.g=f;return h}()}(),d=function(){var e=c();e[6]=b;return e}();return $APP.Im(d)});return b});
var iE=$APP.ff(new $APP.T(null,2,5,$APP.U,[0,0],null)),sE=$APP.ff($APP.Eh),FE=new BroadcastChannel("probe"),CF=function CF(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new $APP.x(c.slice(0),0,null):null;return CF.j(c)};
CF.j=function(){var a=$APP.Kl(0),b=$APP.Kl(null);return function(){function c(e){var f=null;if(arguments.length>0){f=0;for(var g=Array(arguments.length-0);f<g.length;)g[f]=arguments[f+0],++f;f=new $APP.x(g,0,null)}return d.call(this,f)}function d(e){var f=$APP.cf(function(g,h){return new $APP.T(null,3,5,$APP.U,[$APP.iA,new $APP.V(null,2,[$APP.Kj,g,DF,function(){return $APP.gf(a,g)}],null),h],null)},e);return new $APP.T(null,4,5,$APP.U,[DG,new $APP.V(null,2,[ZF,function(g){var h=g.currentTarget;return $APP.gf(b,
setTimeout(function(){return h.open=!0},300))},DF,function(g){clearTimeout($APP.n(b));return g.currentTarget.open=!1}],null),new $APP.T(null,3,5,$APP.U,[$APP.zy,new $APP.V(null,1,[$APP.Py,function(g){return g.preventDefault()}],null),$APP.Wc(e,$APP.n(a))],null),new $APP.T(null,3,5,$APP.U,[ZG,$APP.Pp.h($APP.n(a),f),$APP.kf($APP.n(a)+1,f)],null)],null)}c.B=0;c.C=function(e){e=$APP.B(e);return d(e)};c.j=d;return c}()};CF.B=0;CF.C=function(a){return this.j($APP.B(a))};
var uG=$APP.fh([new $APP.Dh(null,new $APP.V(null,1,[WG,null],null),null),new $APP.Dh(null,new $APP.V(null,1,[$APP.qz,null],null),null),new $APP.Dh(null,new $APP.V(null,2,[PG,null,$APP.ox,null],null),null),new $APP.Dh(null,new $APP.V(null,2,[$APP.Iz,null,$APP.lz,null],null),null),new $APP.Dh(null,new $APP.V(null,1,[$APP.Vs,null],null),null),new $APP.Dh(null,new $APP.V(null,2,[$APP.Iz,null,XG,null],null),null),new $APP.Dh(null,new $APP.V(null,1,[IG,null],null),null),new $APP.Dh(null,new $APP.V(null,
1,[RG,null],null),null),new $APP.Dh(null,new $APP.V(null,1,[$APP.iz,null],null),null),new $APP.Dh(null,new $APP.V(null,1,[UG,null],null),null),new $APP.Dh(null,new $APP.V(null,1,[XG,null],null),null),new $APP.Dh(null,new $APP.V(null,2,[$APP.Iz,null,TG,null],null),null),new $APP.Dh(null,new $APP.V(null,1,[$APP.Zs,null],null),null),new $APP.Dh(null,new $APP.V(null,2,[WG,null,$APP.ox,null],null),null),new $APP.Dh(null,new $APP.V(null,1,[LG,null],null),null),new $APP.Dh(null,new $APP.V(null,2,[$APP.ox,
null,$APP.Wu,null],null),null),new $APP.Dh(null,new $APP.V(null,2,[$APP.Iz,null,RG,null],null),null),new $APP.Dh(null,new $APP.V(null,1,[$APP.Wu,null],null),null),new $APP.Dh(null,new $APP.V(null,1,[TG,null],null),null),new $APP.Dh(null,new $APP.V(null,1,[QG,null],null),null),new $APP.Dh(null,new $APP.V(null,1,[VG,null],null),null),new $APP.Dh(null,new $APP.V(null,2,[QG,null,$APP.ox,null],null),null),new $APP.Dh(null,new $APP.V(null,1,[CG,null],null),null),new $APP.Dh(null,new $APP.V(null,3,[$APP.Iz,
null,PG,null,$APP.ox,null],null),null),new $APP.Dh(null,new $APP.V(null,1,[$APP.Us,null],null),null),new $APP.Dh(null,new $APP.V(null,1,[$APP.rz,null],null),null),new $APP.Dh(null,new $APP.V(null,2,[$APP.Iz,null,SG,null],null),null),new $APP.Dh(null,new $APP.V(null,1,[$APP.lz,null],null),null),$APP.Fh([$APP.li.g(" ")]),new $APP.Dh(null,new $APP.V(null,2,[$APP.Iz,null,$APP.rz,null],null),null),new $APP.Dh(null,new $APP.V(null,1,[SG,null],null),null)],[function(){return $E("capacitor",uE.g($APP.n(XD)))},
function(){return $E("inductor",uE.g($APP.n(XD)))},ZC,function(){return AF(uE.g($APP.n(XD)))},function(){return $E("diode",uE.g($APP.n(XD)))},function(){return $E("pnp",uE.g($APP.n(XD)))},hE,function(){return fE(function(a){return a.rotate(90)})},function(){return $E("resistor",uE.g($APP.n(XD)))},function(){return zF(uE.g($APP.n(XD)))},function(){return $E("npn",uE.g($APP.n(XD)))},function(){return $E("pmos",uE.g($APP.n(XD)))},function(){return $APP.Ui.j(XD,$APP.W,CE,rE,$APP.J([xE,null]))},iF,EE,
jF,function(){return fE(function(a){return a.rotate(-90)})},function(){return $E("ckt",uE.g($APP.n(XD)))},function(){return $E("nmos",uE.g($APP.n(XD)))},function(){return $E("vsource",uE.g($APP.n(XD)))},function(){return $E("isource",uE.g($APP.n(XD)))},kF,hE,$C,function(){return $APP.Ui.s(XD,$APP.W,CE,yE)},function(){return fE(function(a){return a.flipX()})},function(){return BF(uE.g($APP.n(XD)))},function(){return $E("port",uE.g($APP.n(XD)))},function(){return $APP.Ui.h(XD,function(a){return $APP.W.i(a,
CE,$G.g(a))})},function(){return fE(function(a){return a.flipY()})},function(){return $E("text",uE.g($APP.n(XD)))}]),vG=$APP.Ne([$APP.Fh([$APP.li.g(" ")]),function(){return $APP.Ui.h(XD,function(a){return $APP.W.j(a,CE,nF,$APP.J([$G,CE.g(a)]))})}]);$APP.ja("nyancad.mosaic.editor.render",wG);$APP.ja("nyancad.mosaic.editor.init",xG);$APP.ja("nyancad.mosaic.editor.clear",function(){return $APP.Ui.i(oC,function(a,b){return $APP.S.i($APP.fk,a,b)},$APP.Ih($APP.wh($APP.n(oC))))});xG();
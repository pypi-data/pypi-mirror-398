import { $APP, shadow$provide } from "./common.js";
var eH=function(a,b){return a.query("models/name_search",b)},gH=function(a){var b=eH(fH,{startkey:a,endkey:""+$APP.X.g(a)+"￰",include_docs:!1,limit:10}),c=$APP.Mm(1);$APP.pm(function(){var d=function(){function f(g){var h=g[1];if(h===1){h=$APP.Cg;var l=$APP.Om(b);g[7]=h;return $APP.Jm(g,2,l)}if(h===2)return h=g[2],l=h instanceof $APP.ij,g[8]=h,g[9]=l,g[1]=$APP.m(l)?3:4,$APP.Z;if(h===3)return h=g[8],h=$APP.gj.g($APP.jj(h)),h=$APP.H.h(h,$APP.hj),g[2]=h,g[1]=5,$APP.Z;if(h===4)return h=g[9],g[2]=h,g[1]=
5,$APP.Z;if(h===5)return g[1]=$APP.m(g[2])?6:7,$APP.Z;if(h===6)throw h=g[8],h;return h===7?(h=g[8],g[2]=h,g[1]=8,$APP.Z):h===8?(h=g[7],h=$APP.Vm(h,g[2],$APP.Pw),$APP.Km(g,h)):null}return function(){function g(p){for(;;){a:{try{for(;;){var q=f(p);if(!$APP.P(q,$APP.Z)){var t=q;break a}}}catch(v){t=v;p[2]=t;if($APP.B(p[4]))p[1]=$APP.C(p[4]);else throw t;t=$APP.Z;break a}t=void 0}if(!$APP.P(t,$APP.Z))return t}}function h(){var p=[null,null,null,null,null,null,null,null,null,null];p[0]=l;p[1]=1;return p}
var l=null;l=function(p){switch(arguments.length){case 0:return h.call(this);case 1:return g.call(this,p)}throw Error("Invalid arity: "+arguments.length);};l.m=h;l.g=g;return l}()}(),e=function(){var f=d();f[6]=c;return f}();return $APP.Im(e)});return c},hH=function(a){var b=fH,c=$APP.Mm(1);$APP.pm(function(){var d=function(){function f(g){var h=g[1];if(h===1)return h={selector:$APP.rl(a),limit:10},h=b.find(h),h=$APP.Om(h),$APP.Jm(g,2,h);if(h===2){h=g[2];var l=h instanceof $APP.ij;g[7]=h;g[8]=l;g[1]=
$APP.m(l)?3:4;return $APP.Z}if(h===3)return h=g[7],h=$APP.gj.g($APP.jj(h)),h=$APP.H.h(h,$APP.hj),g[2]=h,g[1]=5,$APP.Z;if(h===4)return h=g[8],g[2]=h,g[1]=5,$APP.Z;if(h===5)return g[1]=$APP.m(g[2])?6:7,$APP.Z;if(h===6)throw h=g[7],h;return h===7?(h=g[7],g[2]=h,g[1]=8,$APP.Z):h===8?(h=$APP.Um(g[2].docs),l=$APP.lf.g($APP.Wh($APP.Zm,$APP.Xd)),h=$APP.yf.i($APP.Cg,l,h),$APP.Km(g,h)):null}return function(){function g(p){for(;;){a:{try{for(;;){var q=f(p);if(!$APP.P(q,$APP.Z)){var t=q;break a}}}catch(v){t=
v;p[2]=t;if($APP.B(p[4]))p[1]=$APP.C(p[4]);else throw t;t=$APP.Z;break a}t=void 0}if(!$APP.P(t,$APP.Z))return t}}function h(){var p=[null,null,null,null,null,null,null,null,null];p[0]=l;p[1]=1;return p}var l=null;l=function(p){switch(arguments.length){case 0:return h.call(this);case 1:return g.call(this,p)}throw Error("Invalid arity: "+arguments.length);};l.m=h;l.g=g;return l}()}(),e=function(){var f=d();f[6]=c;return f}();return $APP.Im(e)});return c},iH=function(a,b,c,d,e){var f=$APP.Kl($APP.n(c)),
g=$APP.Kl($APP.n(c)),h=$APP.ka(e);return function(l,p,q,t,v){$APP.Pe($APP.n(g),$APP.n(q))&&($APP.gf(f,$APP.n(q)),$APP.gf(g,$APP.n(q)));return new $APP.T(null,2,5,$APP.U,[l,$APP.W.j(p,$APP.Pw,function(){var y=$APP.n(f);return t.g?t.g(y):t.call(null,y)}(),$APP.J([$APP.Bw,function(y){y=y.target.value;h.h?h.h(q,y):h.call(null,q,y);return v.h?v.h(f,y):v.call(null,f,y)}]))],null)}},jH=function(a,b,c,d,e,f,g){return new $APP.T(null,3,5,$APP.U,[$APP.Wz,new $APP.T(null,6,5,$APP.U,[iH,$APP.Sx,$APP.Rk.j($APP.J([new $APP.V(null,
1,[$APP.Bl,"combobox-input"],null),a])),b,f,g],null),new $APP.T(null,3,5,$APP.U,[$APP.cx,new $APP.V(null,3,[$APP.Bl,"combobox-select",$APP.Pw,$APP.n(c),$APP.Bw,function(h){return $APP.gf(c,parseInt(h.target.value))}],null),$APP.Xh($APP.cf(function(h,l){return new $APP.T(null,3,5,$APP.U,[$APP.Dy,new $APP.V(null,2,[$APP.Kj,h,$APP.Pw,h],null),f.g?f.g(l):f.call(null,l)],null)},function(){var h=$APP.n(d);return e.g?e.g(h):e.call(null,h)}()))],null)],null)},kH=function(a){return $APP.gf($APP.gv,new $APP.T(null,
5,5,$APP.U,[$APP.Py,new $APP.V(null,1,[$APP.Fz,function(b){console.log(b);b.preventDefault();b=b.target.elements.valuefield.value;$APP.B(b)&&(a.g?a.g(b):a.call(null,b));return $APP.gf($APP.gv,null)}],null),new $APP.T(null,2,5,$APP.U,[$APP.Uy,"Enter the name of the new schematic"],null),new $APP.T(null,2,5,$APP.U,[$APP.Uy,new $APP.T(null,2,5,$APP.U,[$APP.Sx,new $APP.V(null,3,[$APP.Hj,"valuefield",$APP.mA,"text",$APP.jy,!0],null)],null)],null),new $APP.T(null,3,5,$APP.U,[$APP.Uy,new $APP.T(null,3,5,
$APP.U,[$APP.kA,new $APP.V(null,1,[$APP.Ry,function(){return $APP.gf($APP.gv,null)}],null),"Cancel"],null),new $APP.T(null,2,5,$APP.U,[$APP.Sx,new $APP.V(null,2,[$APP.mA,"submit",$APP.Pw,"Ok"],null)],null)],null)],null))},lH=function(a,b,c){return $APP.gf($APP.iv,new $APP.V(null,3,[$APP.Wu,a,$APP.Xu,b,$APP.jv,c],null))},mH=function(a,b){var c=function(){var e=$APP.qd(a);return $APP.sB.g?$APP.sB.g(e):$APP.sB.call(null,e)}(),d=$APP.m(c)?a==null?null:$APP.yb(a):a;d=$APP.yf.h($APP.Q,$APP.cf(function(e,
f){return new $APP.T(null,2,5,$APP.U,["category."+$APP.X.g(e),f],null)},d));c=$APP.m(c)?$APP.W.i(d,$APP.mA,c):d;return $APP.B(b)?$APP.W.i(c,$APP.Hj,new $APP.V(null,1,["$regex","(?i)"+$APP.X.g(b)],null)):c},tH=function(a,b){var c=$APP.Mm(1);$APP.pm(function(){var d=function(){function f(g){var h=g[1];if(h===7)return h=mH(b,a),h=hH(h),$APP.Jm(g,10,h);if(h===1)return h=$APP.gf(rH,!0),g[7]=h,g[2]=null,g[1]=2,$APP.Z;if(h===4){g[4]=$APP.D(g[4]);h=g[2];var l=$APP.gf(rH,!1),p=g[5];if($APP.m(p))throw p;g[8]=
l;g[2]=h;g[1]=3;return $APP.Z}if(h===15)return h=$APP.Xm(fH,"models",10,$APP.Q),$APP.Jm(g,18,h);if(h===13)return g[2]=g[2],g[1]=9,$APP.Z;if(h===6){g[4]=$APP.D(g[4]);h=g[2];g[5]=h;if(h instanceof Error)g[1]=5,g[5]=null;else throw h;return $APP.Z}return h===17?(g[2]=g[2],g[1]=13,$APP.Z):h===3?$APP.Km(g,g[2]):h===12?(g[1]=15,$APP.Z):h===2?(g[4]=$APP.oe(4,g[4]),g[4]=$APP.oe(6,g[4]),h=$APP.B(b),g[1]=h?7:8,$APP.Z):h===11?(h=gH($APP.yj(a)),$APP.Jm(g,14,h)):h===9?(h=$APP.gf(sH,g[2]),g[4]=$APP.D(g[4]),g[2]=
h,g[1]=4,$APP.Z):h===5?(l=console.error("Remote search error:",g[2]),h=$APP.gf(sH,$APP.Cg),g[9]=l,g[2]=h,g[1]=4,$APP.Z):h===14?(g[2]=g[2],g[1]=13,$APP.Z):h===16?(g[2]=null,g[1]=17,$APP.Z):h===10?(g[2]=g[2],g[1]=9,$APP.Z):h===18?(g[2]=g[2],g[1]=17,$APP.Z):h===8?(h=$APP.B(a),g[1]=h?11:12,$APP.Z):null}return function(){function g(p){for(;;){a:{try{for(;;){var q=f(p);if(!$APP.P(q,$APP.Z)){var t=q;break a}}}catch(v){t=v;p[2]=t;if($APP.B(p[4]))p[1]=$APP.C(p[4]);else throw t;t=$APP.Z;break a}t=void 0}if(!$APP.P(t,
$APP.Z))return t}}function h(){var p=[null,null,null,null,null,null,null,null,null,null];p[0]=l;p[1]=1;return p}var l=null;l=function(p){switch(arguments.length){case 0:return h.call(this);case 1:return g.call(this,p)}throw Error("Invalid arity: "+arguments.length);};l.m=h;l.g=g;return l}()}(),e=function(){var f=d();f[6]=c;return f}();return $APP.Im(e)});return c},vH=function(a){var b=fH.replicate.to(uH,{doc_ids:[a],live:!1});b.on("complete",function(){return console.log("Model replicated:",a)});
return b.on("error",function(c){return console.error("Replication error:",c)})},yH=function(){var a=$APP.n(wH),b=$APP.n(xH);a=mH(a,b);b=fH.replicate.to(uH,{selector:$APP.rl(a),live:!1});$APP.yi($APP.J([a]));b.on("complete",function(){return console.log("Filtered models replicated")});return b.on("error",function(c){return console.error("Replication error:",c)})},zH=function(a){var b=new URL("..",window.location);b.searchParams.append("schem",$APP.$u(a));return b},AH=function(a){a=$APP.Oe(a);a=$APP.M(a,
$APP.iz);var b=$APP.Uu(a).transformPoint($APP.Yu(1,0));a=b.x;b=b.y;return Math.abs(a)>Math.abs(b)?a<0?$APP.eu:$APP.nv:b<0?$APP.xy:$APP.mv},BH=function(a,b){var c=$APP.Mm(1);$APP.pm(function(){var d=function(){function f(g){var h=g[1];if(h===1)return h=$APP.Xm(uH,$APP.$u(a),null,$APP.Q),$APP.Jm(g,2,h);if(h===2){var l=g[2];h=$APP.tf(function(){return function(v){return $APP.H.h($APP.mA.g(v),"port")}}());var p=$APP.tf($APP.$e(function(){return function(v){return $APP.H.h($APP.ow.g(v),"text")}}())),q=
$APP.lf.g($APP.Wh(AH,$APP.Hj)),t=$APP.zv.i(h,p,q);h=$APP.Ui.s(b,$APP.Bv,$APP.px,function(){return function(){return $APP.Yd(t,function(v,y){var z=$APP.K(y,0,null);y=$APP.K(y,1,null);return $APP.Bv.s(v,z,$APP.le,y)},new $APP.V(null,4,[$APP.mv,$APP.wf,$APP.xy,$APP.wf,$APP.nv,$APP.wf,$APP.eu,$APP.wf],null),$APP.yh(l))}}());return $APP.Km(g,h)}return null}return function(){function g(p){for(;;){a:{try{for(;;){var q=f(p);if(!$APP.P(q,$APP.Z)){var t=q;break a}}}catch(v){t=v;p[2]=t;if($APP.B(p[4]))p[1]=
$APP.C(p[4]);else throw t;t=$APP.Z;break a}t=void 0}if(!$APP.P(t,$APP.Z))return t}}function h(){var p=[null,null,null,null,null,null,null];p[0]=l;p[1]=1;return p}var l=null;l=function(p){switch(arguments.length){case 0:return h.call(this);case 1:return g.call(this,p)}throw Error("Invalid arity: "+arguments.length);};l.m=h;l.g=g;return l}()}(),e=function(){var f=d();f[6]=c;return f}();return $APP.Im(e)});return c},CH=function(a){return $APP.gf($APP.gv,new $APP.T(null,5,5,$APP.U,[$APP.Py,new $APP.V(null,
1,[$APP.Fz,function(b){b.preventDefault();var c=b.target.elements.devicetype.value;b=b.target.elements.modelname.value;$APP.B(b)&&$APP.Gd($APP.sB,c)&&(a.h?a.h(c,b):a.call(null,c,b));return $APP.gf($APP.gv,null)}],null),new $APP.T(null,2,5,$APP.U,[$APP.Uy,"Enter the type and name of the new SPICE model"],null),new $APP.T(null,3,5,$APP.U,[$APP.Uy,new $APP.T(null,3,5,$APP.U,[$APP.cx,new $APP.V(null,3,[$APP.Hj,"devicetype",$APP.Dl,"device-type",$APP.fw,"diode"],null),function(){return function d(c){return new $APP.se(null,
function(){for(;;){var e=$APP.B(c);if(e){if($APP.zd(e)){var f=$APP.gc(e),g=$APP.G(f),h=$APP.ve(g);a:{for(var l=0;;)if(l<g){var p=$APP.hd(f,l);h.add(new $APP.T(null,3,5,$APP.U,[$APP.Dy,new $APP.V(null,2,[$APP.Kj,p,$APP.Pw,p],null),p],null));l+=1}else{f=!0;break a}f=void 0}return f?$APP.Be($APP.De(h),d($APP.hc(e))):$APP.Be($APP.De(h),null)}h=$APP.C(e);return $APP.oe(new $APP.T(null,3,5,$APP.U,[$APP.Dy,new $APP.V(null,2,[$APP.Kj,h,$APP.Pw,h],null),h],null),d($APP.D(e)))}return null}},null,null)}($APP.Md($APP.Hd,
$APP.sB))}()],null),new $APP.T(null,2,5,$APP.U,[$APP.Sx,new $APP.V(null,5,[$APP.Hj,"modelname",$APP.Dl,"model-name",$APP.mA,"text",$APP.jy,!0,$APP.Nz,"Model name"],null)],null)],null),new $APP.T(null,3,5,$APP.U,[$APP.Uy,new $APP.T(null,3,5,$APP.U,[$APP.kA,new $APP.V(null,2,[$APP.mA,"button",$APP.Ry,function(){return $APP.gf($APP.gv,null)}],null),"Cancel"],null),new $APP.T(null,2,5,$APP.U,[$APP.Sx,new $APP.V(null,2,[$APP.mA,"submit",$APP.Pw,"Create"],null)],null)],null)],null))},FH=function(a,b,c){a.preventDefault();
var d=$APP.M($APP.n(b),c);return lH(a.clientX,a.clientY,new $APP.T(null,3,5,$APP.U,[DH,$APP.Ha($APP.Cz.g(d))?new $APP.T(null,3,5,$APP.U,[EH,new $APP.V(null,1,[$APP.Ry,function(){return window.open(zH(c),c)}],null),"edit"],null):null,new $APP.T(null,3,5,$APP.U,[EH,new $APP.V(null,1,[$APP.Ry,function(){return $APP.Ui.i(b,$APP.fk,c)}],null),"delete"],null)],null))},GH=function(a,b){return $APP.H.h($APP.bg(a,0,$APP.Mp.h($APP.G(a),$APP.G(b))),b)},IH=function(){var a=$APP.n(HH);return $APP.Ua(function(b,
c){$APP.K(c,0,null);c=$APP.K(c,1,null);var d=$APP.Wy.g(c);d=$APP.m(d)?d:$APP.wf;c=$APP.mA.h(c,"ckt");return $APP.Av(b,$APP.le.h(d,c),$APP.Eh)},$APP.Q,a)},MH=function(){return new $APP.T(null,2,5,$APP.U,[JH,$APP.B($APP.n(HH))?new $APP.T(null,3,5,$APP.U,[KH,$APP.wf,IH()],null):new $APP.T(null,2,5,$APP.U,[LH,"There aren't any models yet"],null)],null)},YH=function(a){var b=$APP.uf(function(c){var d=$APP.K(c,0,null),e=$APP.K(c,1,null);c=$APP.le.h;var f=$APP.Wy.g(e);c=c.call($APP.le,$APP.m(f)?f:$APP.wf,
$APP.mA.h(e,"ckt"));d=$APP.jd(e,$APP.Hj,d);d=$APP.yj(d);e=$APP.yj($APP.n(xH));d=d.indexOf(e)!=-1;return GH(c,$APP.n(wH))&&d},$APP.n(a));return new $APP.T(null,3,5,$APP.U,[NH,new $APP.T(null,3,5,$APP.U,[OH,new $APP.T(null,2,5,$APP.U,[PH,"Installed"],null),$APP.B(b)?new $APP.T(null,5,5,$APP.U,[$APP.nC,QH,$APP.Xh(function(){return function e(d){return new $APP.se(null,function(){for(;;){var f=$APP.B(d);if(f){if($APP.zd(f)){var g=$APP.gc(f),h=$APP.G(g),l=$APP.ve(h);a:{for(var p=0;;)if(p<h){var q=$APP.hd(g,
p),t=$APP.K(q,0,null),v=$APP.K(q,1,null),y=$APP.Ha($APP.Cz.g(v))?$APP.fC:$APP.eC;q=l;t=new $APP.T(null,3,5,$APP.U,[new $APP.T(null,4,5,$APP.U,[$APP.iA,new $APP.T(null,1,5,$APP.U,[y],null)," ",$APP.jd(v,$APP.Hj,t)],null),t,$APP.jd(v,$APP.Hj,t)],null);q.add(t);p+=1}else{g=!0;break a}g=void 0}return g?$APP.Be($APP.De(l),e($APP.hc(f))):$APP.Be($APP.De(l),null)}g=$APP.C(f);l=$APP.K(g,0,null);g=$APP.K(g,1,null);h=$APP.Ha($APP.Cz.g(g))?$APP.fC:$APP.eC;return $APP.oe(new $APP.T(null,3,5,$APP.U,[new $APP.T(null,
4,5,$APP.U,[$APP.iA,new $APP.T(null,1,5,$APP.U,[h],null)," ",$APP.jd(g,$APP.Hj,l)],null),l,$APP.jd(g,$APP.Hj,l)],null),e($APP.D(f)))}return null}},null,null)}(b)}()),function(c){return $APP.Ha($APP.Af($APP.n(a),new $APP.T(null,2,5,$APP.U,[c,$APP.Cz],null)))?function(){return window.open(zH(c))}:null},function(c){return function(d){return FH(d,a,c)}}],null):new $APP.T(null,2,5,$APP.U,[LH,"No installed models found"],null)],null),new $APP.T(null,3,5,$APP.U,[RH,new $APP.T(null,3,5,$APP.U,[SH,new $APP.T(null,
2,5,$APP.U,[PH,"Available"],null),$APP.B($APP.n(sH))?new $APP.T(null,4,5,$APP.U,[TH,new $APP.V(null,2,[$APP.Ry,function(){return yH()},$APP.ww,"Download all matching models"],null),new $APP.T(null,1,5,$APP.U,[$APP.hC],null),"Download All"],null):null],null),$APP.m($APP.n(rH))?new $APP.T(null,2,5,$APP.U,[UH,"Loading..."],null):$APP.B($APP.n(sH))?new $APP.T(null,2,5,$APP.U,[VH,$APP.Xh(function(){return function e(d){return new $APP.se(null,function(){for(;;){var f=$APP.B(d);if(f){var g=f;if($APP.zd(g)){var h=
$APP.gc(g),l=$APP.G(h),p=$APP.ve(l);return function(){for(var A=0;;)if(A<l){var F=$APP.hd(h,A),I=$APP.K(F,0,null),N=$APP.K(F,1,null),R=$APP.Ha($APP.Cz.g(N)),Y=R?$APP.fC:$APP.eC;$APP.Ce(p,new $APP.T(null,6,5,$APP.U,[WH,new $APP.V(null,1,[$APP.Kj,I],null),new $APP.T(null,1,5,$APP.U,[Y],null)," ",$APP.jd(N,$APP.Hj,I),new $APP.T(null,3,5,$APP.U,[XH,new $APP.V(null,2,[$APP.Ry,function(la,qa,La,Za,Ba){return function(){return vH(Ba)}}(A,R,Y,F,I,N,h,l,p,g,f,b),$APP.ww,"Download this model"],null),new $APP.T(null,
1,5,$APP.U,[$APP.hC],null)],null)],null));A+=1}else return!0}()?$APP.Be($APP.De(p),e($APP.hc(g))):$APP.Be($APP.De(p),null)}var q=$APP.C(g),t=$APP.K(q,0,null),v=$APP.K(q,1,null),y=$APP.Ha($APP.Cz.g(v)),z=y?$APP.fC:$APP.eC;return $APP.oe(new $APP.T(null,6,5,$APP.U,[WH,new $APP.V(null,1,[$APP.Kj,t],null),new $APP.T(null,1,5,$APP.U,[z],null)," ",$APP.jd(v,$APP.Hj,t),new $APP.T(null,3,5,$APP.U,[XH,new $APP.V(null,2,[$APP.Ry,function(A,F,I,N){return function(){return vH(N)}}(y,z,q,t,v,g,f,b),$APP.ww,"Download this model"],
null),new $APP.T(null,1,5,$APP.U,[$APP.hC],null)],null)],null),e($APP.D(g)))}return null}},null,null)}($APP.n(sH))}())],null):new $APP.T(null,2,5,$APP.U,[LH,"No remote models found"],null)],null)],null)},ZH=function(a,b){var c=new $APP.T(null,2,5,$APP.U,[$APP.px,b],null);return new $APP.T(null,3,5,$APP.U,[$APP.hA,new $APP.T(null,3,5,$APP.U,[$APP.sx,new $APP.V(null,1,[$APP.Ty,$APP.Kh(b)],null),$APP.Kh(b)],null),new $APP.T(null,6,5,$APP.U,[iH,$APP.Sx,new $APP.V(null,2,[$APP.Dl,$APP.Kh(b),$APP.mA,"text"],
null),a,function(d){return $APP.wj(" ",$APP.Af(d,c))},function(d,e){return $APP.Ui.s(d,$APP.Av,c,$APP.Aj(e,/[, ]+/,-1))}],null)],null)},$H=function(a){return new $APP.T(null,4,5,$APP.U,[$APP.hA,new $APP.T(null,3,5,$APP.U,[$APP.sx,new $APP.V(null,1,[$APP.Ty,"parameters"],null),"Names"],null),new $APP.T(null,6,5,$APP.U,[iH,$APP.Sx,new $APP.V(null,3,[$APP.Dl,"parameters",$APP.mA,"text",$APP.Nz,"resistance dtemp"],null),a,function(b){return $APP.wj(" ",$APP.lf.h($APP.Hj,$APP.jd(b,$APP.$w,$APP.wf)))},
function(b,c){var d=$APP.Aj(c,/[, ]+/,-1);return $APP.Ui.s(b,$APP.Bv,$APP.$w,function(e){return $APP.zf(function(f,g){return $APP.W.i(f,$APP.Hj,g)},$APP.rf.h(e,$APP.of($APP.Q)),d)})}],null),$APP.Xh(function(){return function d(c){return new $APP.se(null,function(){for(;;){var e=$APP.B(c);if(e){var f=e;if($APP.zd(f)){var g=$APP.gc(f),h=$APP.G(g),l=$APP.ve(h);return function(){for(var v=0;;)if(v<h){var y=$APP.hd(g,v),z=$APP.K(y,0,null),A=$APP.K(y,1,null);$APP.Ce(l,new $APP.T(null,4,5,$APP.U,[$APP.hA,
new $APP.V(null,1,[$APP.Kj,z],null),new $APP.T(null,2,5,$APP.U,[$APP.sx,""+$APP.X.g($APP.Hj.h(A,""))+" tooltip"],null),new $APP.T(null,6,5,$APP.U,[iH,$APP.Sx,new $APP.V(null,1,[$APP.mA,"text"],null),a,function(F,I,N){return function(R){return $APP.Bf(R,new $APP.T(null,3,5,$APP.U,[$APP.$w,N,$APP.aA],null),"")}}(v,y,z,A,g,h,l,f,e),function(F,I,N){return function(R,Y){return $APP.Ui.s(R,$APP.Av,new $APP.T(null,3,5,$APP.U,[$APP.$w,N,$APP.aA],null),Y)}}(v,y,z,A,g,h,l,f,e)],null)],null));v+=1}else return!0}()?
$APP.Be($APP.De(l),d($APP.hc(f))):$APP.Be($APP.De(l),null)}var p=$APP.C(f),q=$APP.K(p,0,null),t=$APP.K(p,1,null);return $APP.oe(new $APP.T(null,4,5,$APP.U,[$APP.hA,new $APP.V(null,1,[$APP.Kj,q],null),new $APP.T(null,2,5,$APP.U,[$APP.sx,""+$APP.X.g($APP.Hj.h(t,""))+" tooltip"],null),new $APP.T(null,6,5,$APP.U,[iH,$APP.Sx,new $APP.V(null,1,[$APP.mA,"text"],null),a,function(v,y){return function(z){return $APP.Bf(z,new $APP.T(null,3,5,$APP.U,[$APP.$w,y,$APP.aA],null),"")}}(p,q,t,f,e),function(v,y){return function(z,
A){return $APP.Ui.s(z,$APP.Av,new $APP.T(null,3,5,$APP.U,[$APP.$w,y,$APP.aA],null),A)}}(p,q,t,f,e)],null)],null),d($APP.D(f)))}return null}},null,null)}($APP.cf($APP.Ck,$APP.jd($APP.n(a),$APP.$w,$APP.wf)))}())],null)},fI=function(a){var b=$APP.Ml(a,new $APP.T(null,1,5,$APP.U,[$APP.n(QH)],null));a=$APP.Ml(aI,new $APP.T(null,1,5,$APP.U,[$APP.n(QH)],null));var c=$APP.Ml(a,new $APP.T(null,1,5,$APP.U,[bI],null)),d=$APP.Ml(a,new $APP.T(null,1,5,$APP.U,[cI],null)),e=$APP.Ml(b,new $APP.T(null,2,5,$APP.U,
[$APP.Cz,$APP.n(c)],null)),f=$APP.Ml(e,new $APP.T(null,1,5,$APP.U,[$APP.n(d)],null));$APP.B($APP.n(a))||$APP.gf(a,new $APP.V(null,2,[bI,$APP.Kx,cI,0],null));return $APP.m($APP.n(QH))?new $APP.T(null,9,5,$APP.U,[$APP.Yv,new $APP.T(null,3,5,$APP.U,[$APP.sx,new $APP.V(null,1,[$APP.Ty,"model-name"],null),"Name"],null),new $APP.T(null,6,5,$APP.U,[iH,$APP.Sx,new $APP.V(null,1,[$APP.Dl,"model-name"],null),b,$APP.Hj,function(g,h){return $APP.Ui.s(g,$APP.W,$APP.Hj,h)}],null),new $APP.T(null,3,5,$APP.U,[$APP.sx,
new $APP.V(null,2,[$APP.Ty,"categories",$APP.ww,"Comma-seperated device categories"],null),"Categories"],null),new $APP.T(null,6,5,$APP.U,[iH,$APP.Sx,new $APP.V(null,1,[$APP.Dl,"categories"],null),b,function(g){g=$APP.Wy.g(g);return $APP.wj(" ",$APP.m(g)?g:$APP.wf)},function(g,h){return $APP.Ui.s(g,$APP.W,$APP.Wy,$APP.Aj(h,/[, ]+/,-1))}],null),$APP.H.h($APP.mA.h($APP.n(b),"ckt"),"ckt")?new $APP.T(null,7,5,$APP.U,[$APP.hA,new $APP.T(null,2,5,$APP.U,[dI,"Port Configuration"],null),$APP.Ha($APP.Cz.g($APP.n(b)))?
new $APP.T(null,3,5,$APP.U,[$APP.kA,new $APP.V(null,1,[$APP.Ry,function(){return BH($APP.n(QH),b)}],null),"Import from schematic"],null):null,new $APP.T(null,3,5,$APP.U,[ZH,b,$APP.mv],null),new $APP.T(null,3,5,$APP.U,[ZH,b,$APP.xy],null),new $APP.T(null,3,5,$APP.U,[ZH,b,$APP.nv],null),new $APP.T(null,3,5,$APP.U,[ZH,b,$APP.eu],null)],null):null,$APP.m($APP.Cz.g($APP.n(b)))?new $APP.T(null,11,5,$APP.U,[$APP.hA,new $APP.T(null,2,5,$APP.U,[dI,"Template Configuration"],null),new $APP.T(null,3,5,$APP.U,
[$APP.sx,new $APP.V(null,2,[$APP.Ty,"device-type",$APP.ww,"Device type"],null),"Device Type"],null),new $APP.T(null,2,5,$APP.U,[$APP.Sx,new $APP.V(null,4,[$APP.Dl,"device-type",$APP.mA,"text",$APP.Bx,!0,$APP.Pw,$APP.mA.g($APP.n(b))],null)],null),new $APP.T(null,3,5,$APP.U,[$APP.sx,new $APP.V(null,1,[$APP.Ty,"language"],null),"Language"],null),new $APP.T(null,6,5,$APP.U,[$APP.cx,new $APP.V(null,4,[$APP.Dl,"language",$APP.mA,"text",$APP.Pw,function(){var g=$APP.n(c);return $APP.m(g)?$APP.Kh(g):"spice"}(),
$APP.Bw,function(g){return $APP.gf(c,$APP.li.g(g.target.value))}],null),new $APP.T(null,3,5,$APP.U,[$APP.Dy,new $APP.V(null,1,[$APP.Pw,"spice"],null),"Spice"],null),new $APP.T(null,3,5,$APP.U,[$APP.Dy,new $APP.V(null,1,[$APP.Pw,"spectre"],null),"Spectre"],null),new $APP.T(null,3,5,$APP.U,[$APP.Dy,new $APP.V(null,1,[$APP.Pw,"verilog"],null),"Verilog"],null),new $APP.T(null,3,5,$APP.U,[$APP.Dy,new $APP.V(null,1,[$APP.Pw,"vhdl"],null),"VHDL"],null)],null),new $APP.T(null,3,5,$APP.U,[$APP.sx,new $APP.V(null,
1,[$APP.Ty,"implementation"],null),"Implementation"],null),new $APP.T(null,8,5,$APP.U,[jH,new $APP.V(null,1,[$APP.Dl,"implementation"],null),f,d,e,function(g){return $APP.le.h($APP.B(g)?g:new $APP.T(null,1,5,$APP.U,[new $APP.V(null,1,[$APP.Hj,"default"],null)],null),new $APP.V(null,1,[$APP.Hj,"\x3cnew\x3e"],null))},function(g){return $APP.Hj.h(g,"default")},function(g,h){return $APP.Ui.s(g,$APP.W,$APP.Hj,h)}],null),new $APP.T(null,3,5,$APP.U,[$APP.sx,new $APP.V(null,1,[$APP.Ty,"template-code"],null),
"Code"],null),new $APP.T(null,6,5,$APP.U,[iH,$APP.Yy,new $APP.V(null,2,[$APP.Dl,"template-code",eI,8],null),f,$APP.lz,function(g,h){return $APP.Ui.s(g,$APP.W,$APP.lz,h)}],null),$APP.H.h($APP.n(c),$APP.Kx)?new $APP.T(null,3,5,$APP.U,[$APP.hA,new $APP.T(null,3,5,$APP.U,[$APP.sx,new $APP.V(null,2,[$APP.Ty,"use-x",$APP.ww,"Forces subcircuit instantiation even for other device types"],null),"Use X"],null),new $APP.T(null,2,5,$APP.U,[$APP.Sx,new $APP.V(null,4,[$APP.mA,"checkbox",$APP.Dl,"use-x",$APP.fA,
$APP.jd($APP.n(f),$APP.ny,!1),$APP.Bw,function(g){return $APP.Ui.s(f,$APP.W,$APP.ny,g.target.checked)}],null)],null)],null):null],null):null,new $APP.T(null,2,5,$APP.U,[dI,"Parameters"],null),new $APP.T(null,2,5,$APP.U,[$H,b],null)],null):new $APP.T(null,2,5,$APP.U,[LH,"Select a model to edit its properties."],null)},jI=function(a){a=$APP.Ml(a,new $APP.T(null,1,5,$APP.U,[$APP.n(QH)],null));return new $APP.T(null,2,5,$APP.U,[gI,$APP.m($APP.n(QH))?$APP.Ha($APP.Cz.g($APP.n(a)))?new $APP.T(null,3,5,$APP.U,
[$APP.hA,new $APP.T(null,4,5,$APP.U,[$APP.zw,new $APP.V(null,2,[$APP.Ry,function(){return window.open(zH($APP.n(QH)),$APP.n(QH))},$APP.ww,"Edit"],null),new $APP.T(null,1,5,$APP.U,[$APP.mC],null)," Edit"],null),$APP.m($APP.n(hI))?new $APP.T(null,3,5,$APP.U,[iI,new $APP.V(null,2,[$APP.iw,$APP.n(hI),$APP.mA,"image/svg+xml"],null),"Schematic preview"],null):new $APP.T(null,2,5,$APP.U,[LH,"No preview available. Use the snapshot button in the schematic editor to create one."],null)],null):new $APP.T(null,
2,5,$APP.U,[LH,"N/A"],null):new $APP.T(null,2,5,$APP.U,[LH,"Select a model to preview."],null)],null)},uI=function(){var a=$APP.m($APP.n(kI))?$APP.Sf($APP.Jh($APP.n(wH))):$APP.n(wH);return new $APP.T(null,3,5,$APP.U,[$APP.hA,new $APP.T(null,4,5,$APP.U,[lI,new $APP.T(null,3,5,$APP.U,[mI,new $APP.T(null,4,5,$APP.U,[$APP.zw,new $APP.V(null,1,[$APP.Ry,function(){return kH(function(b){var c="models:"+$APP.X.g(""+$APP.X.g($APP.fj()));return $APP.Ui.s(HH,$APP.W,c,new $APP.V(null,3,[$APP.Hj,b,$APP.mA,"ckt",
$APP.Wy,a],null))})}],null),new $APP.T(null,1,5,$APP.U,[$APP.gC],null),"Add schematic"],null),new $APP.T(null,4,5,$APP.U,[$APP.kA,new $APP.V(null,1,[$APP.Ry,function(){return CH(function(b,c){var d="models:"+$APP.X.g(""+$APP.X.g($APP.fj()));return $APP.Ui.s(HH,$APP.W,d,new $APP.V(null,4,[$APP.Hj,c,$APP.mA,b,$APP.Wy,a,$APP.Cz,new $APP.V(null,4,[$APP.Kx,$APP.wf,nI,$APP.wf,oI,$APP.wf,pI,$APP.wf],null)],null))})}],null),new $APP.T(null,1,5,$APP.U,[$APP.gC],null),"Add SPICE model"],null)],null),new $APP.T(null,
3,5,$APP.U,[qI,new $APP.T(null,3,5,$APP.U,[rI,"Models: ",$APP.B($APP.n(wH))?$APP.wj("/",$APP.n(wH)):"All models"],null),new $APP.T(null,6,5,$APP.U,[iH,$APP.Sx,new $APP.V(null,3,[$APP.mA,"text",$APP.Nz,"Filter models...",$APP.Bl,"filter-input"],null),xH,$APP.Xd,$APP.gf],null)],null),new $APP.T(null,2,5,$APP.U,[YH,HH],null)],null),new $APP.T(null,4,5,$APP.U,[sI,new $APP.T(null,2,5,$APP.U,[jI,HH],null),new $APP.T(null,2,5,$APP.U,[tI,"Model Properties"],null),new $APP.T(null,2,5,$APP.U,[fI,HH],null)],
null)],null)},yI=function(){return new $APP.T(null,5,5,$APP.U,[$APP.hA,new $APP.T(null,3,5,$APP.U,[vI,new $APP.T(null,3,5,$APP.U,[wI,new $APP.T(null,2,5,$APP.U,[$APP.ty,"Libraries"],null),$APP.m($APP.n(xI))?new $APP.T(null,3,5,$APP.U,[$APP.Qw,new $APP.V(null,1,[$APP.ww,"saving changes"],null),new $APP.T(null,1,5,$APP.U,[$APP.iC],null)],null):new $APP.T(null,3,5,$APP.U,[$APP.az,new $APP.V(null,1,[$APP.ww,"changes saved"],null),new $APP.T(null,1,5,$APP.U,[$APP.jC],null)],null)],null),new $APP.T(null,
1,5,$APP.U,[MH],null)],null),new $APP.T(null,1,5,$APP.U,[uI],null),new $APP.T(null,1,5,$APP.U,[$APP.ov],null),new $APP.T(null,1,5,$APP.U,[$APP.hv],null)],null)},zI=function(){window.name="libman";document.onclick=function(){return $APP.Ui.s($APP.iv,$APP.W,$APP.jv,null)};return $APP.Rl(new $APP.T(null,1,5,$APP.U,[yI],null),document.querySelector(".mosaic-app.mosaic-libman"))},lI=new $APP.O(null,"div.schsel","div.schsel",-1209283060),JH=new $APP.O(null,"div.cellsel","div.cellsel",-277762551),iI=new $APP.O(null,
"object","object",1474613949),XH=new $APP.O(null,"button.download-btn","button.download-btn",393799271),qI=new $APP.O(null,"div.models-header","div.models-header",663084968),mI=new $APP.O(null,"div.addbuttons","div.addbuttons",-579122699),SH=new $APP.O(null,"div.section-header-with-button","div.section-header-with-button",-1496927002),bI=new $APP.O(null,"lang","lang",-1819677104),eI=new $APP.O(null,"rows","rows",850049680),TH=new $APP.O(null,"button.download-btn.all","button.download-btn.all",1621055522),
cI=new $APP.O(null,"impl","impl",1677848700),AI=new $APP.O(null,"on-toggle","on-toggle",-695538774),PH=new $APP.O(null,"h4.section-header","h4.section-header",-1932630550),VH=new $APP.O(null,"div.remote-models","div.remote-models",1057366884),tI=new $APP.O(null,"h3","h3",2067611163),rI=new $APP.O(null,"h2","h2",-372662728),dI=new $APP.O(null,"h4","h4",2004862993),OH=new $APP.O(null,"div.installed-section","div.installed-section",1048260336),sI=new $APP.O(null,"div.proppane","div.proppane",-1332639267),
BI=new $APP.O("nyancad.mosaic.libman","preview-loader","nyancad.mosaic.libman/preview-loader",-817072560),RH=new $APP.O(null,"div.available-section","div.available-section",845121981),NH=new $APP.O(null,"div.schematics","div.schematics",908542795),LH=new $APP.O(null,"div.empty","div.empty",47401225),oI=new $APP.O(null,"verilog","verilog",-637374307),EH=new $APP.O(null,"li","li",723558921),CI=new $APP.O("nyancad.mosaic.libman","remote-search","nyancad.mosaic.libman/remote-search",962545358),gI=new $APP.O(null,
"div.preview","div.preview",-1882273840),DH=new $APP.O(null,"ul","ul",-1349521403),DI=new $APP.O(null,"preview.svg","preview.svg",367345699),EI=new $APP.O(null,"open","open",-1763596448),FI=new $APP.O(null,"div.detailbody","div.detailbody",-1679946259),nI=new $APP.O(null,"spectre","spectre",-2121928684),GI=new $APP.O(null,"details.tree","details.tree",-1643409151),pI=new $APP.O(null,"vhdl","vhdl",2122312874),wI=new $APP.O(null,"div.libhead","div.libhead",1365032704),vI=new $APP.O(null,"div.libraries",
"div.libraries",704668226),UH=new $APP.O(null,"div.loading-spinner","div.loading-spinner",404753947),HI=new $APP.O("nyancad.mosaic.libman","remote-search-category","nyancad.mosaic.libman/remote-search-category",-216653617),WH=new $APP.O(null,"label.remote-model","label.remote-model",2141806916);var uH=$APP.Qm("schematics"),fH=$APP.Qm(""+$APP.X.g("https://api.nyancad.com/")+"models"),HH=$APP.dn(uH,"models",$APP.Kl($APP.Q));$APP.hf(HH.cache,function(a){var b=$APP.Xn($APP.Px,a);return b?b:console.log($APP.Hi.j($APP.J([a])),$APP.Tn($APP.Px,a))});$APP.bn(uH,$APP.J([HH]));
var wH=$APP.Kl($APP.wf),QH=$APP.Kl(null),xI=$APP.Kl(!1),xH=$APP.Kl(""),aI=$APP.Kl($APP.Q),hI=$APP.Kl(null),sH=$APP.Kl($APP.Q),rH=$APP.Kl(!1),kI=$APP.Ll(function(){var a=$APP.qd($APP.n(wH));return $APP.sB.g?$APP.sB.g(a):$APP.sB.call(null,a)});
$APP.Di(QH,BI,function(a,b,c,d){if($APP.m(d)){var e=$APP.Mm(1);$APP.pm(function(){var f=function(){function h(l){var p=l[1];if(p===7)return p=l[7],l[2]=p,l[1]=8,$APP.Z;if(p===1){var q=""+$APP.X.g($APP.$u(d))+"$snapshots";p=""+$APP.X.g(q)+$APP.X.g(":");q=""+$APP.X.g(q)+$APP.X.g(":")+"￰";p=$APP.Rm(uH,{include_docs:!0,attachments:!0,binary:!0,endkey:p,startkey:q,descending:!0,limit:1});p=$APP.Om(p);return $APP.Jm(l,2,p)}if(p===4)return l[2]=l[8],l[1]=5,$APP.Z;if(p===6)throw p=l[7],p;return p===3?(p=
l[7],p=$APP.gj.g($APP.jj(p)),p=$APP.H.h(p,$APP.hj),l[2]=p,l[1]=5,$APP.Z):p===2?(p=l[2],q=p instanceof $APP.ij,l[7]=p,l[8]=q,l[1]=$APP.m(q)?3:4,$APP.Z):p===11?$APP.Km(l,l[2]):p===9?(p=URL.createObjectURL(l[9]),p=$APP.gf(hI,p),l[2]=p,l[1]=11,$APP.Z):p===5?(l[1]=$APP.m(l[2])?6:7,$APP.Z):p===10?(p=$APP.gf(hI,null),l[2]=p,l[1]=11,$APP.Z):p===8?(p=$APP.Um(l[2].rows),p=$APP.Af(p,new $APP.T(null,5,5,$APP.U,[0,$APP.Wm,$APP.Ww,DI,$APP.iw],null)),l[9]=p,l[1]=$APP.m(p)?9:10,$APP.Z):null}return function(){function l(t){for(;;){a:{try{for(;;){var v=
h(t);if(!$APP.P(v,$APP.Z)){var y=v;break a}}}catch(z){y=z;t[2]=y;if($APP.B(t[4]))t[1]=$APP.C(t[4]);else throw y;y=$APP.Z;break a}y=void 0}if(!$APP.P(y,$APP.Z))return y}}function p(){var t=[null,null,null,null,null,null,null,null,null,null];t[0]=q;t[1]=1;return t}var q=null;q=function(t){switch(arguments.length){case 0:return p.call(this);case 1:return l.call(this,t)}throw Error("Invalid arity: "+arguments.length);};q.m=p;q.g=l;return q}()}(),g=function(){var h=f();h[6]=e;return h}();return $APP.Im(g)});
return e}return $APP.gf(hI,null)});$APP.Di(xH,CI,function(a,b,c,d){return tH(d,$APP.n(wH))});$APP.Di(wH,HI,function(a,b,c,d){return tH($APP.n(xH),d)});tH($APP.n(xH),$APP.n(wH));
var KH=function KH(a,b){return new $APP.T(null,2,5,$APP.U,[$APP.hA,$APP.Xh(function(){return function f(e){return new $APP.se(null,function(){for(;;){var g=$APP.B(e);if(g){var h=g;if($APP.zd(h)){var l=$APP.gc(h),p=$APP.G(l),q=$APP.ve(p);return function(){for(var A=0;;)if(A<p){var F=$APP.hd(l,A),I=$APP.K(F,0,null),N=$APP.K(F,1,null),R=$APP.le.h(a,I);$APP.Ce(q,new $APP.T(null,4,5,$APP.U,[GI,new $APP.V(null,4,[$APP.Kj,R,$APP.Bl,R,EI,GH($APP.n(wH),R),AI,function(Y,la){return function(qa){qa.stopPropagation();
return $APP.m(qa.target.open)?$APP.gf(wH,la):GH($APP.n(wH),la)?$APP.gf(wH,la==null?null:$APP.yb(la)):null}}(A,R,F,I,N,l,p,q,h,g)],null),new $APP.T(null,2,5,$APP.U,[$APP.By,I],null),$APP.B(N)?new $APP.T(null,2,5,$APP.U,[FI,new $APP.T(null,3,5,$APP.U,[KH,R,N],null)],null):null],null));A+=1}else return!0}()?$APP.Be($APP.De(q),f($APP.hc(h))):$APP.Be($APP.De(q),null)}var t=$APP.C(h),v=$APP.K(t,0,null),y=$APP.K(t,1,null),z=$APP.le.h(a,v);return $APP.oe(new $APP.T(null,4,5,$APP.U,[GI,new $APP.V(null,4,[$APP.Kj,
z,$APP.Bl,z,EI,GH($APP.n(wH),z),AI,function(A){return function(F){F.stopPropagation();return $APP.m(F.target.open)?$APP.gf(wH,A):GH($APP.n(wH),A)?$APP.gf(wH,A==null?null:$APP.yb(A)):null}}(z,t,v,y,h,g)],null),new $APP.T(null,2,5,$APP.U,[$APP.By,v],null),$APP.B(y)?new $APP.T(null,2,5,$APP.U,[FI,new $APP.T(null,3,5,$APP.U,[KH,z,y],null)],null):null],null),f($APP.D(h)))}return null}},null,null)}(b)}())],null)};$APP.ja("nyancad.mosaic.libman.init",zI);zI();
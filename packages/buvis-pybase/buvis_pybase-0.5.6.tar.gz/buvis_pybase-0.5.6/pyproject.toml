[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"

[project]
name = "buvis-pybase"
version = "0.5.6"
description = "Foundation of BUVIS python projects"
authors = [{ name = "Tomáš Bouška", email = "tomas@buvis.net" }]
license = "MIT"
readme = "README.md"
requires-python = ">=3.12,<4.0"
dependencies = [
  "inflection>=0.5.1",
  "jira>=3.10.5",
  "pexpect>=4.9.0",
  "pyyaml>=6.0.3",
  "rake-nltk>=1.0.6",
  "rich>=14.2.0",
  "torch>=2.9.1",
  "transformers>=4.57.3",
  "tzlocal>=5.3.1",
  "pywin32==311; sys_platform == 'win32'",
  "xattr>=1.3.0; sys_platform != 'win32'",
]

[dependency-groups]
dev = ["pre-commit>=4.5.1", "tbump>=6.11.0", "toml>=0.10.2"]
test = ["pytest>=9.0.2", "pytest-mock>=3.14.0"]
docs = ["sphinx>=8.2.3", "sphinx-rtd-theme>=3.0.2"]

[tool.hatch.build.targets.wheel]
packages = ["src/buvis"]

[[tool.uv.index]]
name = "test-pypi"
url = "https://test.pypi.org/simple/"
explicit = true

[tool.tbump]
github_url = "https://github.com/buvis/buvis-pybase"

[tool.tbump.version]
current = "0.5.6"
regex = '''
  (?P<major>\d+)
  \.
  (?P<minor>\d+)
  \.
  (?P<patch>\d+)
  '''

[[tool.tbump.file]]
src = "pyproject.toml"
search = '''version = "{current_version}"'''

[tool.tbump.git]
message_template = "chore(release): bump to {new_version}"
tag_template = "v{new_version}"

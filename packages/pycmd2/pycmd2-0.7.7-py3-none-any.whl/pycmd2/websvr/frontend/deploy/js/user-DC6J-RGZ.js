import{D as s}from"./vue-vendor-CVtHwYAS.js";const n=s("user",{state:()=>({user:null,isAuthenticated:!1,loading:!1,error:null}),getters:{fullName:e=>e.user?e.user.name:"",isDarkTheme:e=>e.user?.preferences.theme==="dark",notificationsEnabled:e=>e.user?.preferences.notifications??!0},actions:{async login(e,t){this.loading=!0,this.error=null;try{return await new Promise(r=>setTimeout(r,1e3)),e==="demo@example.com"&&t==="password"?(this.user={id:1,name:"演示用户",email:"demo@example.com",avatar:"https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png",preferences:{theme:"light",language:"zh-CN",notifications:!0}},this.isAuthenticated=!0,!0):(this.error="邮箱或密码错误",!1)}catch(r){return this.error="登录失败: "+r,!1}finally{this.loading=!1}},logout(){this.user=null,this.isAuthenticated=!1,this.error=null},updateProfile(e){this.user&&(this.user={...this.user,...e})},updatePreferences(e){this.user&&(this.user.preferences={...this.user.preferences,...e})},toggleTheme(){this.user&&(this.user.preferences.theme=this.user.preferences.theme==="light"?"dark":"light")},toggleNotifications(){this.user&&(this.user.preferences.notifications=!this.user.preferences.notifications)}}});export{n as u};

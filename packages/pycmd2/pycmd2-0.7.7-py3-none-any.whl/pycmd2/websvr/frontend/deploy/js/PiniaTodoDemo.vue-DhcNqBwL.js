import{b7 as X,aY as T,aZ as V,bg as Y,bi as _,bj as e,bk as l,bl as a,bA as f,cq as n,cg as Z,bC as u,a_ as t,cC as G,bD as r,b9 as x,bE as H,b_ as Q,cX as w,ba as i,bn as R}from"./vendor-p_a8ePKq.js";import{u as W}from"./todos-CQbxZGhu.js";import{a as C}from"./ui-vendor-CYJCTWKH.js";import{_ as ee}from"../assets/index-CozMeroQ.js";import"./vue-vendor-CVtHwYAS.js";import"./charts-vendor-ZJQ0DAqP.js";import"./utils-vendor-qrLihgeT.js";const oe={class:"pinia-todo-demo"},te={class:"todo-section"},le={class:"add-todo"},se={class:"filters"},ne={class:"progress-section"},ae={class:"progress-text"},ce={key:0,class:"loading-section"},de={key:1,class:"error-section"},re={key:2,class:"todo-list"},ie={class:"todo-content"},_e={class:"todo-actions"},ue={class:"todo-meta"},pe={class:"created-time"},me={key:3,class:"bulk-actions"},fe=X({__name:"PiniaTodoDemo",setup(ge){const o=W(),p=T(""),m=T([]),g=V(()=>o.filteredTodos),N=V(()=>{const d=o.completionPercentage;return d===100?"#67c23a":d>=50?"#409eff":"#e6a23c"});Y(()=>{o.fetchTodos()});const k=()=>{p.value.trim()&&(o.addTodo(p.value),p.value="",C.success("待办事项已添加"))},S=d=>{o.toggleTodo(d)},D=d=>{o.removeTodo(d),C.success("待办事项已删除")},P=()=>{o.clearCompleted(),m.value=[],C.success("已完成的待办事项已清除")},z=()=>{m.value=[]},B=d=>new Intl.DateTimeFormat("zh-CN",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(d);return(d,c)=>{const y=n("el-icon"),v=n("el-button"),E=n("el-input"),b=n("el-radio-button"),F=n("el-radio-group"),U=n("el-progress"),$=n("el-divider"),A=n("el-skeleton"),I=n("el-alert"),K=n("el-empty"),M=n("el-checkbox"),j=n("el-tag"),h=n("el-card"),q=n("el-checkbox-group"),J=n("el-collapse-item"),L=n("el-collapse");return i(),_("div",oe,[e(h,{header:"待办事项管理示例 - Todo Store"},{default:l(()=>[a("div",te,[a("div",le,[e(E,{modelValue:p.value,"onUpdate:modelValue":c[0]||(c[0]=s=>p.value=s),placeholder:"添加新的待办事项...",onKeyup:Z(k,["enter"]),clearable:""},{append:l(()=>[e(v,{type:"primary",onClick:k},{default:l(()=>[e(y,null,{default:l(()=>[e(t(G))]),_:1}),c[3]||(c[3]=u(" 添加 ",-1))]),_:1})]),_:1},8,["modelValue"])]),a("div",se,[e(F,{modelValue:t(o).filter,"onUpdate:modelValue":c[1]||(c[1]=s=>t(o).filter=s),onChange:z},{default:l(()=>[e(b,{label:"all"},{default:l(()=>[u("全部 ("+r(t(o).totalCount)+")",1)]),_:1}),e(b,{label:"pending"},{default:l(()=>[u(" 待完成 ("+r(t(o).pendingCount)+") ",1)]),_:1}),e(b,{label:"completed"},{default:l(()=>[u(" 已完成 ("+r(t(o).completedCount)+") ",1)]),_:1})]),_:1},8,["modelValue"])]),a("div",ne,[e(U,{percentage:t(o).completionPercentage,color:N.value},null,8,["percentage","color"]),a("div",ae,"完成进度: "+r(t(o).completedCount)+" / "+r(t(o).totalCount),1)]),e($),t(o).loading?(i(),_("div",ce,[e(A,{rows:3,animated:""})])):f("",!0),t(o).error?(i(),_("div",de,[e(I,{title:t(o).error,type:"error",closable:!1},null,8,["title"])])):f("",!0),!t(o).loading&&!t(o).error?(i(),_("div",re,[g.value.length===0?(i(),x(K,{key:0,description:"暂无待办事项"})):(i(),x(q,{key:1,modelValue:m.value,"onUpdate:modelValue":c[2]||(c[2]=s=>m.value=s)},{default:l(()=>[(i(!0),_(H,null,Q(g.value,s=>(i(),_("div",{key:s.id,class:"todo-item"},[e(h,{shadow:"hover",class:"todo-card"},{default:l(()=>[a("div",ie,[e(M,{"model-value":s.completed,onChange:O=>S(s.id),label:s.id},{default:l(()=>[a("span",{class:R([{completed:s.completed},"todo-text"])},r(s.text),3)]),_:2},1032,["model-value","onChange","label"]),a("div",_e,[e(v,{type:"danger",size:"small",onClick:O=>D(s.id),icon:t(w),circle:""},null,8,["onClick","icon"])])]),a("div",ue,[e(j,{size:"small",type:s.completed?"success":"info"},{default:l(()=>[u(r(s.completed?"已完成":"待完成"),1)]),_:2},1032,["type"]),a("span",pe," 创建于: "+r(B(s.createdAt)),1)])]),_:2},1024)]))),128))]),_:1},8,["modelValue"]))])):f("",!0),g.value.length>0?(i(),_("div",me,[e(v,{type:"warning",onClick:P,disabled:t(o).completedCount===0},{default:l(()=>[e(y,null,{default:l(()=>[e(t(w))]),_:1}),c[4]||(c[4]=u(" 清除已完成 ",-1))]),_:1},8,["disabled"])])):f("",!0)])]),_:1}),e(h,{header:"Store 状态查看",class:"state-view"},{default:l(()=>[e(L,null,{default:l(()=>[e(J,{title:"完整状态",name:"state"},{default:l(()=>[a("pre",null,r(JSON.stringify(t(o).$state,null,2)),1)]),_:1})]),_:1})]),_:1})])}}}),Ve=ee(fe,[["__scopeId","data-v-91cbd5ee"]]);export{Ve as default};

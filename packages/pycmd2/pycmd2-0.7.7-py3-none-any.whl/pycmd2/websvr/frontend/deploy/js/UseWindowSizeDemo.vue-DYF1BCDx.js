import{G as Se,K as We,L as Me}from"./vue-vendor-CVtHwYAS.js";import{a as y}from"./ui-vendor-CYJCTWKH.js";import{b7 as He,aZ as k,aY as r,bf as Ue,bg as De,bi as J,bl as a,bj as t,bk as l,cq as d,a_ as R,bC as h,bD as p,bm as ae,bE as ne,b_ as ie,bn as Pe,ba as P,b9 as oe}from"./vendor-p_a8ePKq.js";import{_ as $e}from"../assets/index-CozMeroQ.js";import"./charts-vendor-ZJQ0DAqP.js";import"./utils-vendor-qrLihgeT.js";const Ee={class:"demo-container"},Le={class:"window-info"},Te={class:"size-info"},Be={class:"listener-controls"},je={class:"window-visualization"},Fe={class:"visualization-container"},Oe={class:"window-content"},Re={class:"size-changes"},Xe={class:"breakpoint-demo"},qe={class:"current-breakpoint"},Ie={class:"size-history"},Ne={class:"size-chart"},Ge={class:"chart-container"},Ke={class:"chart-controls"},Ae={class:"simulator"},Ye=["onClick"],Ze=He({__name:"UseWindowSizeDemo",setup(Je){const{width:i,height:v}=Se(),Q=k(()=>i.value>v.value?"landscape":"portrait"),ue=r(window.devicePixelRatio||1),se=k(()=>i.value*v.value),X=k(()=>i.value<576?{label:"手机",color:"danger"}:i.value<768?{label:"平板",color:"warning"}:i.value<992?{label:"小屏",color:"info"}:i.value<1200?{label:"中屏",color:"primary"}:{label:"大屏",color:"success"}),q=r(!0),ee=r(["width","height","orientation"]),$=r("realtime"),re=n=>{n?y.success("窗口尺寸监听已开启"):y.info("窗口尺寸监听已暂停")},de=()=>{y.info(`更新频率已切换为${$.value}`)},I=r(1/0),N=r(0),G=r(1/0),K=r(0),z=r([]),S=r([]),ve=k(()=>z.value.length===0?0:Math.round(z.value.reduce((n,e)=>n+e,0)/z.value.length)),he=k(()=>S.value.length===0?0:Math.round(S.value.reduce((n,e)=>n+e,0)/S.value.length)),pe=k(()=>{const n=Math.min(600/i.value,400/v.value,1);return{width:`${i.value*n}px`,height:`${v.value*n}px`,transform:`scale(${n})`}}),ce=k(()=>[{name:"XS",minWidth:0,active:i.value>=0},{name:"SM",minWidth:576,active:i.value>=576},{name:"MD",minWidth:768,active:i.value>=768},{name:"LG",minWidth:992,active:i.value>=992},{name:"XL",minWidth:1200,active:i.value>=1200},{name:"XXL",minWidth:1400,active:i.value>=1400}]),me=k(()=>i.value>=1400?"xxl":i.value>=1200?"xl":i.value>=992?"lg":i.value>=768?"md":i.value>=576?"sm":"xs"),H=r([]);let A=i.value,Y=v.value;const w=r(),U=r(!1),g=r("both");let W=null,_=[];const fe=r([{name:"iPhone 12",width:390,height:844,previewStyle:{width:"39px",height:"84px"}},{name:"iPad",width:768,height:1024,previewStyle:{width:"77px",height:"102px"}},{name:"MacBook",width:1280,height:800,previewStyle:{width:"128px",height:"80px"}},{name:"4K显示器",width:3840,height:2160,previewStyle:{width:"192px",height:"108px"}}]),E=r(1024),L=r(768),ge=Me(()=>{T(),B("throttled"),j()},100),_e=We(()=>{T(),B("debounced"),j()},300),T=()=>{I.value=Math.min(I.value,i.value),N.value=Math.max(N.value,i.value),G.value=Math.min(G.value,v.value),K.value=Math.max(K.value,v.value),z.value.push(i.value),S.value.push(v.value),z.value.length>100&&z.value.shift(),S.value.length>100&&S.value.shift()},B=n=>{let e="none";i.value!==A&&v.value!==Y?e="both":i.value!==A?e="width":v.value!==Y&&(e="height"),e!=="none"&&(H.value.unshift({timestamp:new Date().toLocaleString(),width:i.value,height:v.value,type:e,trigger:n}),H.value.length>20&&H.value.pop(),A=i.value,Y=v.value)},te=()=>{w.value&&(W=w.value.getContext("2d"))},j=()=>{if(!U.value||!W||!w.value)return;const n=Date.now();_.push({time:n,width:i.value,height:v.value}),_.length>50&&_.shift(),we()},we=()=>{if(!W||!w.value)return;const n=W,e=w.value,m=e.width,c=e.height;if(n.clearRect(0,0,m,c),_.length<2)return;const M=Math.max(..._.map(s=>g.value==="width"?s.width:g.value==="height"?s.height:Math.max(s.width,s.height))),f=Math.min(..._.map(s=>g.value==="width"?s.width:g.value==="height"?s.height:Math.min(s.width,s.height))),u=M-f||1,F=m/(_.length-1);(g.value==="width"||g.value==="both")&&(n.strokeStyle="#409eff",n.lineWidth=2,n.beginPath(),_.forEach((s,C)=>{const b=C*F,V=c-(s.width-f)/u*c*.9-c*.05;C===0?n.moveTo(b,V):n.lineTo(b,V)}),n.stroke()),(g.value==="height"||g.value==="both")&&(n.strokeStyle="#67c23a",n.lineWidth=2,n.beginPath(),_.forEach((s,C)=>{const b=C*F,V=c-(s.height-f)/u*c*.9-c*.05;C===0?n.moveTo(b,V):n.lineTo(b,V)}),n.stroke())},be=()=>{U.value=!U.value,U.value?(y.success("图表已开启"),te(),j()):y.info("图表已暂停")},xe=()=>{_=[],W&&w.value&&W.clearRect(0,0,w.value.width,w.value.height),y.success("图表已清空")},ye=n=>{y.info(`模拟 ${n.name} (${n.width}x${n.height})`),Object.defineProperty(window,"innerWidth",{value:n.width,configurable:!0}),Object.defineProperty(window,"innerHeight",{value:n.height,configurable:!0}),window.dispatchEvent(new Event("resize"))},ke=()=>{y.info(`模拟自定义尺寸 (${E.value}x${L.value})`),Object.defineProperty(window,"innerWidth",{value:E.value,configurable:!0}),Object.defineProperty(window,"innerHeight",{value:L.value,configurable:!0}),window.dispatchEvent(new Event("resize"))},Ce=()=>{H.value=[],y.success("历史记录已清空")};return Ue([i,v],()=>{if(q.value)switch($.value){case"throttled":ge();break;case"debounced":_e();break;default:T(),B("realtime"),j()}}),De(()=>{T(),te(),B("init")}),(n,e)=>{const m=d("el-statistic"),c=d("el-divider"),M=d("el-tag"),f=d("el-card"),u=d("el-col"),F=d("el-switch"),s=d("el-checkbox"),C=d("el-checkbox-group"),b=d("el-radio"),V=d("el-radio-group"),x=d("el-row"),O=d("el-button"),D=d("el-table-column"),Ve=d("el-table"),Z=d("el-option"),ze=d("el-select"),le=d("el-input-number");return P(),J("div",Ee,[e[29]||(e[29]=a("h2",null,"VueUse - useWindowSize 窗口尺寸监听",-1)),t(x,{gutter:20,class:"demo-section"},{default:l(()=>[t(u,{span:12},{default:l(()=>[t(f,{header:"窗口尺寸信息"},{default:l(()=>[a("div",Le,[t(m,{title:"窗口宽度",value:R(i),suffix:"px"},null,8,["value"]),t(m,{title:"窗口高度",value:R(v),suffix:"px"},null,8,["value"]),t(c),a("div",Te,[a("p",null,[e[6]||(e[6]=a("strong",null,"窗口类型:",-1)),t(M,{type:X.value.color},{default:l(()=>[h(p(X.value.label),1)]),_:1},8,["type"])]),a("p",null,[e[7]||(e[7]=a("strong",null,"屏幕方向:",-1)),t(M,{type:Q.value==="landscape"?"primary":"success"},{default:l(()=>[h(p(Q.value==="landscape"?"横向":"纵向"),1)]),_:1},8,["type"])]),a("p",null,[e[8]||(e[8]=a("strong",null,"设备像素比:",-1)),h(" "+p(ue.value),1)]),a("p",null,[e[9]||(e[9]=a("strong",null,"总像素数:",-1)),h(" "+p(se.value.toLocaleString()),1)])])])]),_:1})]),_:1}),t(u,{span:12},{default:l(()=>[t(f,{header:"实时监听控制"},{default:l(()=>[a("div",Be,[e[16]||(e[16]=a("h4",null,"监听状态:",-1)),t(F,{modelValue:q.value,"onUpdate:modelValue":e[0]||(e[0]=o=>q.value=o),"active-text":"监听中","inactive-text":"已暂停",onChange:re},null,8,["modelValue"]),t(c),e[17]||(e[17]=a("h4",null,"监听选项:",-1)),t(C,{modelValue:ee.value,"onUpdate:modelValue":e[1]||(e[1]=o=>ee.value=o)},{default:l(()=>[t(s,{label:"width"},{default:l(()=>[...e[10]||(e[10]=[h("宽度变化",-1)])]),_:1}),t(s,{label:"height"},{default:l(()=>[...e[11]||(e[11]=[h("高度变化",-1)])]),_:1}),t(s,{label:"orientation"},{default:l(()=>[...e[12]||(e[12]=[h("方向变化",-1)])]),_:1})]),_:1},8,["modelValue"]),t(c),e[18]||(e[18]=a("h4",null,"更新频率:",-1)),t(V,{modelValue:$.value,"onUpdate:modelValue":e[2]||(e[2]=o=>$.value=o),onChange:de},{default:l(()=>[t(b,{label:"realtime"},{default:l(()=>[...e[13]||(e[13]=[h("实时",-1)])]),_:1}),t(b,{label:"throttled"},{default:l(()=>[...e[14]||(e[14]=[h("节流 (100ms)",-1)])]),_:1}),t(b,{label:"debounced"},{default:l(()=>[...e[15]||(e[15]=[h("防抖 (300ms)",-1)])]),_:1})]),_:1},8,["modelValue"])])]),_:1})]),_:1})]),_:1}),t(x,{gutter:20,class:"demo-section"},{default:l(()=>[t(u,{span:24},{default:l(()=>[t(f,{header:"可视化窗口尺寸"},{default:l(()=>[a("div",je,[a("div",Fe,[a("div",{class:"window-box",style:ae(pe.value)},[a("div",Oe,[a("p",null,p(R(i))+" x "+p(R(v)),1),a("p",null,p(X.value.label),1)])],4)]),a("div",Re,[t(x,{gutter:20},{default:l(()=>[t(u,{span:8},{default:l(()=>[t(m,{title:"最小宽度",value:I.value,suffix:"px"},null,8,["value"])]),_:1}),t(u,{span:8},{default:l(()=>[t(m,{title:"最大宽度",value:N.value,suffix:"px"},null,8,["value"])]),_:1}),t(u,{span:8},{default:l(()=>[t(m,{title:"平均宽度",value:ve.value,suffix:"px"},null,8,["value"])]),_:1})]),_:1}),t(x,{gutter:20,style:{"margin-top":"10px"}},{default:l(()=>[t(u,{span:8},{default:l(()=>[t(m,{title:"最小高度",value:G.value,suffix:"px"},null,8,["value"])]),_:1}),t(u,{span:8},{default:l(()=>[t(m,{title:"最大高度",value:K.value,suffix:"px"},null,8,["value"])]),_:1}),t(u,{span:8},{default:l(()=>[t(m,{title:"平均高度",value:he.value,suffix:"px"},null,8,["value"])]),_:1})]),_:1})])])]),_:1})]),_:1})]),_:1}),t(x,{gutter:20,class:"demo-section"},{default:l(()=>[t(u,{span:12},{default:l(()=>[t(f,{header:"响应式断点测试"},{default:l(()=>[a("div",Xe,[e[20]||(e[20]=a("h4",null,"当前断点:",-1)),a("div",qe,[(P(!0),J(ne,null,ie(ce.value,o=>(P(),oe(M,{key:o.name,type:o.active?"primary":"info",effect:o.active?"dark":"plain",style:{margin:"5px"}},{default:l(()=>[h(p(o.name)+" (≥"+p(o.minWidth)+"px) ",1)]),_:2},1032,["type","effect"]))),128))]),t(c),e[21]||(e[21]=a("h4",null,"响应式布局:",-1)),a("div",{class:Pe(["responsive-layout",me.value])},[...e[19]||(e[19]=[a("div",{class:"layout-item"},"1",-1),a("div",{class:"layout-item"},"2",-1),a("div",{class:"layout-item"},"3",-1),a("div",{class:"layout-item"},"4",-1)])],2)])]),_:1})]),_:1}),t(u,{span:12},{default:l(()=>[t(f,{header:"尺寸变化历史"},{default:l(()=>[a("div",Ie,[t(O,{onClick:Ce,type:"warning",size:"small",style:{"margin-bottom":"10px"}},{default:l(()=>[...e[22]||(e[22]=[h(" 清空历史 ",-1)])]),_:1}),t(Ve,{data:H.value,height:"200",stripe:""},{default:l(()=>[t(D,{prop:"timestamp",label:"时间",width:"180"}),t(D,{prop:"width",label:"宽度",width:"80"}),t(D,{prop:"height",label:"高度",width:"80"}),t(D,{prop:"type",label:"变化类型",width:"100"},{default:l(({row:o})=>[t(M,{type:o.type==="both"?"primary":"info",size:"small"},{default:l(()=>[h(p(o.type==="both"?"全部":o.type),1)]),_:2},1032,["type"])]),_:1}),t(D,{prop:"trigger",label:"触发器"})]),_:1},8,["data"])])]),_:1})]),_:1})]),_:1}),t(x,{gutter:20,class:"demo-section"},{default:l(()=>[t(u,{span:24},{default:l(()=>[t(f,{header:"实时图表"},{default:l(()=>[a("div",Ne,[e[24]||(e[24]=a("h4",null,"窗口尺寸变化趋势图:",-1)),a("div",Ge,[a("canvas",{ref_key:"sizeChart",ref:w,width:"800",height:"300"},null,512)]),a("div",Ke,[t(O,{onClick:be,type:"primary",size:"small"},{default:l(()=>[h(p(U.value?"暂停图表":"开始图表"),1)]),_:1}),t(O,{onClick:xe,type:"warning",size:"small"},{default:l(()=>[...e[23]||(e[23]=[h(" 清空图表 ",-1)])]),_:1}),t(ze,{modelValue:g.value,"onUpdate:modelValue":e[3]||(e[3]=o=>g.value=o),style:{width:"120px","margin-left":"10px"}},{default:l(()=>[t(Z,{label:"宽度",value:"width"}),t(Z,{label:"高度",value:"height"}),t(Z,{label:"全部",value:"both"})]),_:1},8,["modelValue"])])])]),_:1})]),_:1})]),_:1}),t(x,{gutter:20,class:"demo-section"},{default:l(()=>[t(u,{span:24},{default:l(()=>[t(f,{header:"模拟器"},{default:l(()=>[a("div",Ae,[e[27]||(e[27]=a("h4",null,"设备模拟:",-1)),t(x,{gutter:15},{default:l(()=>[(P(!0),J(ne,null,ie(fe.value,o=>(P(),oe(u,{span:4,key:o.name},{default:l(()=>[a("div",{class:"device-card",onClick:Qe=>ye(o)},[a("div",{class:"device-preview",style:ae(o.previewStyle)},[...e[25]||(e[25]=[a("div",{class:"device-screen"},null,-1)])],4),a("p",null,p(o.name),1),a("small",null,p(o.width)+"x"+p(o.height),1)],8,Ye)]),_:2},1024))),128))]),_:1}),t(c),e[28]||(e[28]=a("h4",null,"自定义尺寸:",-1)),t(x,{gutter:15},{default:l(()=>[t(u,{span:8},{default:l(()=>[t(le,{modelValue:E.value,"onUpdate:modelValue":e[4]||(e[4]=o=>E.value=o),min:200,max:4e3,placeholder:"宽度",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),t(u,{span:8},{default:l(()=>[t(le,{modelValue:L.value,"onUpdate:modelValue":e[5]||(e[5]=o=>L.value=o),min:200,max:4e3,placeholder:"高度",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),t(u,{span:8},{default:l(()=>[t(O,{onClick:ke,type:"primary",style:{width:"100%"}},{default:l(()=>[...e[26]||(e[26]=[h(" 应用尺寸 ",-1)])]),_:1})]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1})])}}}),ot=$e(Ze,[["__scopeId","data-v-abdcc57c"]]);export{ot as default};

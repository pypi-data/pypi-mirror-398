import{P as ue,Q as v,R as ie,S as de,T as re}from"./vue-vendor-CVtHwYAS.js";import{b7 as ce,aY as r,bO as fe,bi as T,bj as e,bk as t,cq as d,bl as s,bC as o,bD as n,bE as I,b_ as P,a_ as c,dA as _e,dK as pe,dE as me,ba as L,b9 as Q}from"./vendor-p_a8ePKq.js";import{_ as ve}from"../assets/index-CozMeroQ.js";import"./charts-vendor-ZJQ0DAqP.js";import"./ui-vendor-CYJCTWKH.js";import"./utils-vendor-qrLihgeT.js";const ye={class:"event-listener-demo"},be={class:"card-header"},he={class:"keyboard-section"},ke={class:"key-display"},ge={class:"shortcuts"},we={class:"key-history"},Ce={class:"history-container"},Ee={class:"card-header"},Ke={class:"mouse-section"},Le={class:"event-info"},Ve={class:"wheel-demo"},xe={class:"wheel-info"},De={class:"card-header"},Ae={class:"network-section"},Se={class:"network-status"},ze={class:"visibility-demo"},$e={class:"visibility-status"},Be={class:"device-orientation"},Ne={class:"card-header"},Re={class:"custom-events"},Te={class:"custom-event-log"},Ue={class:"log-container"},Oe=ce({__name:"UseEventListenerDemo",setup(He){const U=r(""),O=r(""),f=fe({ctrl:!1,shift:!1,alt:!1,meta:!1}),b=r([]),y=r({}),p=r(),A=r(),H=r(0),M=r(0),j=r(0),V=r(!1),h=r(0),Y=ie(),{effectiveType:Z,downlink:J}=de(),{value:S}=ue(),z=re(),k=r("myCustomEvent"),$=r("Hello from custom event!"),g=r(!1),w=r([]);v("keydown",a=>{U.value=a.key,O.value=a.code,f.ctrl=a.ctrlKey,f.shift=a.shiftKey,f.alt=a.altKey,f.meta=a.metaKey,b.value.unshift(`${a.key} (${a.code})`),b.value.length>10&&(b.value=b.value.slice(0,10));const l=W(a);y.value[l]&&console.log(`快捷键触发: ${l}`)}),p.value&&(v(p.value,"click",()=>{H.value++}),v(p.value,"dblclick",()=>{M.value++}),v(p.value,"contextmenu",a=>{a.preventDefault(),j.value++}),v(p.value,"mouseenter",()=>{V.value=!0}),v(p.value,"mouseleave",()=>{V.value=!1})),A.value&&v(A.value,"wheel",a=>{h.value=a.deltaY});const W=a=>{const l=[];return a.ctrlKey&&l.push("ctrl"),a.shiftKey&&l.push("shift"),a.altKey&&l.push("alt"),a.metaKey&&l.push("meta"),l.push(a.key.toLowerCase()),l.join("+")},B=a=>{y.value[a]=!y.value[a]},X=()=>{const a=new CustomEvent(k.value,{detail:$.value});window.dispatchEvent(a)},ee=()=>{g.value?(window.removeEventListener(k.value,q),g.value=!1):(window.addEventListener(k.value,q),g.value=!0)},q=a=>{const l=a;w.value.unshift({event:a.type,data:l.detail,timestamp:new Date().toLocaleTimeString()}),w.value.length>10&&(w.value=w.value.slice(0,10))};return(a,l)=>{const te=d("el-alert"),le=d("Keyboard"),x=d("el-icon"),u=d("el-tag"),i=d("el-descriptions-item"),C=d("el-descriptions"),E=d("el-button"),F=d("el-space"),K=d("el-card"),m=d("el-col"),D=d("el-row"),se=d("el-progress"),G=d("el-input"),N=d("el-form-item"),ae=d("el-form"),oe=d("el-timeline-item"),ne=d("el-timeline");return L(),T("div",ye,[e(K,{header:"useEventListener - 事件监听"},{default:t(()=>[e(te,{title:"VueUse useEventListener 示例",type:"info",closable:!1,description:"安全地添加和移除事件监听器，支持被动监听和自动清理。",style:{"margin-bottom":"20px"}}),e(D,{gutter:20},{default:t(()=>[e(m,{span:12},{default:t(()=>[e(K,{shadow:"hover",class:"keyboard-card"},{header:t(()=>[s("div",be,[e(x,null,{default:t(()=>[e(le)]),_:1}),l[5]||(l[5]=s("span",null,"键盘事件",-1))])]),default:t(()=>[s("div",he,[s("div",ke,[l[6]||(l[6]=s("h4",null,"按键状态:",-1)),e(C,{column:2,border:"",size:"small"},{default:t(()=>[e(i,{label:"按键"},{default:t(()=>[e(u,null,{default:t(()=>[o(n(U.value||"无"),1)]),_:1})]),_:1}),e(i,{label:"键码"},{default:t(()=>[e(u,{type:"info"},{default:t(()=>[o(n(O.value||"-"),1)]),_:1})]),_:1}),e(i,{label:"Ctrl"},{default:t(()=>[e(u,{type:f.ctrl?"success":"info"},{default:t(()=>[o(n(f.ctrl?"按下":"释放"),1)]),_:1},8,["type"])]),_:1}),e(i,{label:"Shift"},{default:t(()=>[e(u,{type:f.shift?"success":"info"},{default:t(()=>[o(n(f.shift?"按下":"释放"),1)]),_:1},8,["type"])]),_:1}),e(i,{label:"Alt"},{default:t(()=>[e(u,{type:f.alt?"success":"info"},{default:t(()=>[o(n(f.alt?"按下":"释放"),1)]),_:1},8,["type"])]),_:1}),e(i,{label:"Meta"},{default:t(()=>[e(u,{type:f.meta?"success":"info"},{default:t(()=>[o(n(f.meta?"按下":"释放"),1)]),_:1},8,["type"])]),_:1})]),_:1})]),s("div",ge,[l[10]||(l[10]=s("h4",null,"快捷键示例:",-1)),e(F,null,{default:t(()=>[e(E,{onClick:l[0]||(l[0]=_=>B("ctrl+s")),type:y.value["ctrl+s"]?"success":"info"},{default:t(()=>[...l[7]||(l[7]=[o(" Ctrl+S (保存) ",-1)])]),_:1},8,["type"]),e(E,{onClick:l[1]||(l[1]=_=>B("ctrl+z")),type:y.value["ctrl+z"]?"success":"info"},{default:t(()=>[...l[8]||(l[8]=[o(" Ctrl+Z (撤销) ",-1)])]),_:1},8,["type"]),e(E,{onClick:l[2]||(l[2]=_=>B("enter")),type:y.value.enter?"success":"info"},{default:t(()=>[...l[9]||(l[9]=[o(" Enter (确认) ",-1)])]),_:1},8,["type"])]),_:1})]),s("div",we,[l[11]||(l[11]=s("h4",null,"按键历史:",-1)),s("div",Ce,[(L(!0),T(I,null,P(b.value,(_,R)=>(L(),Q(u,{key:R,class:"key-tag"},{default:t(()=>[o(n(_),1)]),_:2},1024))),128))])])])]),_:1})]),_:1}),e(m,{span:12},{default:t(()=>[e(K,{shadow:"hover",class:"mouse-card"},{header:t(()=>[s("div",Ee,[e(x,null,{default:t(()=>[e(c(_e))]),_:1}),l[12]||(l[12]=s("span",null,"鼠标事件",-1))])]),default:t(()=>[s("div",Ke,[s("div",{class:"click-area",ref_key:"clickAreaRef",ref:p},[l[13]||(l[13]=s("p",null,"点击此区域测试鼠标事件",-1)),s("div",Le,[e(C,{column:1,border:"",size:"small"},{default:t(()=>[e(i,{label:"点击次数"},{default:t(()=>[e(u,null,{default:t(()=>[o(n(H.value),1)]),_:1})]),_:1}),e(i,{label:"双击次数"},{default:t(()=>[e(u,{type:"success"},{default:t(()=>[o(n(M.value),1)]),_:1})]),_:1}),e(i,{label:"右键次数"},{default:t(()=>[e(u,{type:"warning"},{default:t(()=>[o(n(j.value),1)]),_:1})]),_:1}),e(i,{label:"悬停状态"},{default:t(()=>[e(u,{type:V.value?"success":"info"},{default:t(()=>[o(n(V.value?"悬停中":"未悬停"),1)]),_:1},8,["type"])]),_:1})]),_:1})])],512),s("div",Ve,[l[15]||(l[15]=s("h4",null,"滚轮事件:",-1)),s("div",{class:"wheel-area",ref_key:"wheelAreaRef",ref:A},[l[14]||(l[14]=s("p",null,"在此区域滚动鼠标滚轮",-1)),s("div",xe,[e(C,{column:1,border:"",size:"small"},{default:t(()=>[e(i,{label:"滚动方向"},{default:t(()=>[e(u,{type:h.value>0?"primary":"warning"},{default:t(()=>[o(n(h.value>0?"向上":h.value<0?"向下":"无"),1)]),_:1},8,["type"])]),_:1}),e(i,{label:"滚动值"},{default:t(()=>[e(u,null,{default:t(()=>[o(n(Math.abs(h.value)),1)]),_:1})]),_:1})]),_:1})])],512)])])]),_:1})]),_:1})]),_:1}),e(D,{style:{"margin-top":"20px"}},{default:t(()=>[e(m,{span:24},{default:t(()=>[e(K,{shadow:"hover"},{header:t(()=>[s("div",De,[e(x,null,{default:t(()=>[e(c(pe))]),_:1}),l[16]||(l[16]=s("span",null,"网络事件",-1))])]),default:t(()=>[s("div",Ae,[e(D,{gutter:20},{default:t(()=>[e(m,{span:8},{default:t(()=>[s("div",Se,[l[17]||(l[17]=s("h4",null,"网络状态:",-1)),e(C,{column:1,border:""},{default:t(()=>[e(i,{label:"在线状态"},{default:t(()=>[e(u,{type:c(Y)?"success":"danger"},{default:t(()=>[o(n(c(Y)?"在线":"离线"),1)]),_:1},8,["type"])]),_:1}),e(i,{label:"连接类型"},{default:t(()=>[e(u,{type:"info"},{default:t(()=>[o(n(c(Z)||"未知"),1)]),_:1})]),_:1}),e(i,{label:"有效带宽"},{default:t(()=>[e(u,{type:"warning"},{default:t(()=>[o(n(c(J)||"未知")+" Mbps",1)]),_:1})]),_:1})]),_:1})])]),_:1}),e(m,{span:8},{default:t(()=>[s("div",ze,[l[18]||(l[18]=s("h4",null,"页面可见性:",-1)),s("div",$e,[e(se,{type:"circle",percentage:c(S)?100:0,width:80,status:c(S)?"success":"exception"},null,8,["percentage","status"]),s("p",null,n(c(S)?"页面可见":"页面隐藏"),1)])])]),_:1}),e(m,{span:8},{default:t(()=>[s("div",Be,[l[19]||(l[19]=s("h4",null,"设备方向:",-1)),e(C,{column:1,border:"",size:"small"},{default:t(()=>[e(i,{label:"Alpha"},{default:t(()=>[e(u,null,{default:t(()=>[o(n(c(z).alpha||0)+"°",1)]),_:1})]),_:1}),e(i,{label:"Beta"},{default:t(()=>[e(u,null,{default:t(()=>[o(n(c(z).beta||0)+"°",1)]),_:1})]),_:1}),e(i,{label:"Gamma"},{default:t(()=>[e(u,null,{default:t(()=>[o(n(c(z).gamma||0)+"°",1)]),_:1})]),_:1})]),_:1})])]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1}),e(D,{style:{"margin-top":"20px"}},{default:t(()=>[e(m,{span:24},{default:t(()=>[e(K,{shadow:"hover"},{header:t(()=>[s("div",Ne,[e(x,null,{default:t(()=>[e(c(me))]),_:1}),l[20]||(l[20]=s("span",null,"自定义事件监听",-1))])]),default:t(()=>[s("div",Re,[e(ae,{"label-width":"120px"},{default:t(()=>[e(N,{label:"事件名称"},{default:t(()=>[e(G,{modelValue:k.value,"onUpdate:modelValue":l[3]||(l[3]=_=>k.value=_),placeholder:"输入事件名称"},null,8,["modelValue"])]),_:1}),e(N,{label:"事件数据"},{default:t(()=>[e(G,{modelValue:$.value,"onUpdate:modelValue":l[4]||(l[4]=_=>$.value=_),placeholder:"输入事件数据"},null,8,["modelValue"])]),_:1}),e(N,null,{default:t(()=>[e(F,null,{default:t(()=>[e(E,{onClick:X,type:"primary"},{default:t(()=>[...l[21]||(l[21]=[o(" 触发自定义事件 ",-1)])]),_:1}),e(E,{onClick:ee,type:g.value?"success":"info"},{default:t(()=>[o(n(g.value?"停止监听":"开始监听"),1)]),_:1},8,["type"])]),_:1})]),_:1})]),_:1}),s("div",Te,[l[22]||(l[22]=s("h4",null,"自定义事件日志:",-1)),s("div",Ue,[e(ne,null,{default:t(()=>[(L(!0),T(I,null,P(w.value,(_,R)=>(L(),Q(oe,{key:R,timestamp:_.timestamp,type:"primary"},{default:t(()=>[s("strong",null,n(_.event)+":",1),o(" "+n(_.data),1)]),_:2},1032,["timestamp"]))),128))]),_:1})])])])]),_:1})]),_:1})]),_:1})]),_:1})])}}}),Ie=ve(Oe,[["__scopeId","data-v-5cfaf06c"]]);export{Ie as default};

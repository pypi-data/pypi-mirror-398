import{b7 as me,aY as _,aZ as M,bf as pe,bg as _e,bi as U,bj as e,bk as t,cq as d,bl as n,a_ as s,bC as i,dH as fe,bD as f,cW as ve,cg as ge,cC as be,b9 as O,bE as A,b_ as W,dd as ye,dn as Se,dx as he,cX as q,dv as Ve,ba as v,bn as ke}from"./vendor-p_a8ePKq.js";import{M as H}from"./vue-vendor-CVtHwYAS.js";import{a as J}from"./ui-vendor-CYJCTWKH.js";import{_ as we}from"../assets/index-CozMeroQ.js";import"./charts-vendor-ZJQ0DAqP.js";import"./utils-vendor-qrLihgeT.js";const Ce={class:"localstorage-demo"},xe={class:"card-header"},Ue={class:"settings-form"},Ne={class:"form-actions"},ze={class:"card-header"},Be={class:"data-preview"},De={class:"preview-section"},Le={class:"json-preview"},Me={class:"storage-info"},Oe={class:"card-header"},Je={class:"todo-section"},Ke={class:"todo-input"},Te={class:"todo-list"},Ee={class:"todo-stats"},Ie={class:"card-header"},$e={class:"storage-management"},je={class:"storage-keys"},Fe=me({__name:"UseLocalStorageDemo",setup(Ae){const K=_("vueuse-demo-settings"),u=H(K.value,{username:"",theme:"light",language:"zh-CN",notifications:!0,autoSave:!0}),m=H("vueuse-demo-todos",[]),g=_(""),T=_([]),N=_([]),E=_(""),b=_(!1),k=_(""),X=M(()=>m.value.filter(a=>a.completed).length),Y=M(()=>m.value.filter(a=>!a.completed).length),Z=a=>{if(a===0)return"0 Bytes";const l=1024,p=["Bytes","KB","MB"],r=Math.floor(Math.log(a)/Math.log(l));return parseFloat((a/Math.pow(l,r)).toFixed(2))+" "+p[r]},G=()=>{u.value={username:"",theme:"light",language:"zh-CN",notifications:!0,autoSave:!0},w()},P=()=>{const a=JSON.stringify(u.value,null,2);navigator.clipboard.writeText(a).then(()=>{J.success("设置已复制到剪贴板")})},Q=()=>{try{const a=JSON.parse(k.value);Object.assign(u.value,a),b.value=!1,k.value="",w(),J.success("设置导入成功")}catch(a){J.error("数据格式错误: "+JSON.stringify(a))}},I=()=>{g.value.trim()&&(m.value.push({id:Date.now(),text:g.value.trim(),completed:!1,createdAt:new Date().toISOString()}),g.value="")},R=a=>{m.value.splice(a,1)},ee=()=>{m.value=m.value.filter(a=>!a.completed)},w=()=>{E.value=new Date().toLocaleString()},C=()=>{const a=[];for(let l=0;l<localStorage.length;l++){const p=localStorage.key(l);p&&p.startsWith("vueuse-demo-")&&a.push(p)}N.value=a},le=a=>{localStorage.removeItem(a),C()},te=()=>{N.value.forEach(a=>localStorage.removeItem(a)),C()},oe=M(()=>u.value);return pe(oe,()=>{w()},{deep:!0}),_e(()=>{C(),w()}),(a,l)=>{const p=d("el-alert"),r=d("el-icon"),z=d("el-input"),y=d("el-form-item"),S=d("el-option"),$=d("el-select"),j=d("el-switch"),ae=d("el-form"),c=d("el-button"),h=d("el-card"),x=d("el-col"),se=d("el-divider"),V=d("el-tag"),B=d("el-descriptions-item"),ne=d("el-descriptions"),D=d("el-row"),de=d("el-empty"),ue=d("el-checkbox"),ie=d("el-checkbox-group"),L=d("el-statistic"),re=d("el-space"),ce=d("el-dialog");return v(),U("div",Ce,[e(h,{header:"useLocalStorage - 本地存储"},{default:t(()=>[e(p,{title:"VueUse useLocalStorage 示例",type:"info",closable:!1,description:"响应式地使用 localStorage，支持自动序列化和反序列化。",style:{"margin-bottom":"20px"}}),e(D,{gutter:20},{default:t(()=>[e(x,{span:12},{default:t(()=>[e(h,{shadow:"hover",class:"storage-card"},{header:t(()=>[n("div",xe,[e(r,null,{default:t(()=>[e(s(fe))]),_:1}),l[11]||(l[11]=n("span",null,"用户设置存储",-1))])]),default:t(()=>[n("div",Ue,[e(ae,{model:s(u),"label-width":"100px"},{default:t(()=>[e(y,{label:"用户名"},{default:t(()=>[e(z,{modelValue:s(u).username,"onUpdate:modelValue":l[0]||(l[0]=o=>s(u).username=o),placeholder:"请输入用户名"},null,8,["modelValue"])]),_:1}),e(y,{label:"主题"},{default:t(()=>[e($,{modelValue:s(u).theme,"onUpdate:modelValue":l[1]||(l[1]=o=>s(u).theme=o),style:{width:"100%"}},{default:t(()=>[e(S,{label:"亮色",value:"light"}),e(S,{label:"暗黑",value:"dark"}),e(S,{label:"自动",value:"auto"})]),_:1},8,["modelValue"])]),_:1}),e(y,{label:"语言"},{default:t(()=>[e($,{modelValue:s(u).language,"onUpdate:modelValue":l[2]||(l[2]=o=>s(u).language=o),style:{width:"100%"}},{default:t(()=>[e(S,{label:"中文",value:"zh-CN"}),e(S,{label:"English",value:"en-US"})]),_:1},8,["modelValue"])]),_:1}),e(y,{label:"通知"},{default:t(()=>[e(j,{modelValue:s(u).notifications,"onUpdate:modelValue":l[3]||(l[3]=o=>s(u).notifications=o)},null,8,["modelValue"])]),_:1}),e(y,{label:"自动保存"},{default:t(()=>[e(j,{modelValue:s(u).autoSave,"onUpdate:modelValue":l[4]||(l[4]=o=>s(u).autoSave=o)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),n("div",Ne,[e(c,{onClick:G},{default:t(()=>[...l[12]||(l[12]=[i("重置设置",-1)])]),_:1}),e(c,{onClick:P,type:"primary"},{default:t(()=>[...l[13]||(l[13]=[i("导出设置",-1)])]),_:1})])])]),_:1})]),_:1}),e(x,{span:12},{default:t(()=>[e(h,{shadow:"hover",class:"storage-card"},{header:t(()=>[n("div",ze,[e(r,null,{default:t(()=>[e(s(ve))]),_:1}),l[14]||(l[14]=n("span",null,"实时数据预览",-1))])]),default:t(()=>[n("div",Be,[n("div",De,[l[15]||(l[15]=n("h4",null,"当前设置值:",-1)),n("pre",Le,f(JSON.stringify(s(u),null,2)),1)]),e(se),n("div",Me,[e(ne,{column:1,border:"",size:"small"},{default:t(()=>[e(B,{label:"存储键名"},{default:t(()=>[e(V,null,{default:t(()=>[i(f(K.value),1)]),_:1})]),_:1}),e(B,{label:"数据大小"},{default:t(()=>[e(V,null,{default:t(()=>[i(f(Z(JSON.stringify(s(u)).length)),1)]),_:1})]),_:1}),e(B,{label:"最后更新"},{default:t(()=>[e(V,{type:"success"},{default:t(()=>[i(f(E.value||"从未更新"),1)]),_:1})]),_:1})]),_:1})])])]),_:1})]),_:1})]),_:1}),e(D,{style:{"margin-top":"20px"}},{default:t(()=>[e(x,{span:24},{default:t(()=>[e(h,{shadow:"hover"},{header:t(()=>[n("div",Oe,[e(r,null,{default:t(()=>[e(s(ye))]),_:1}),l[16]||(l[16]=n("span",null,"待办事项列表",-1))])]),default:t(()=>[n("div",Je,[n("div",Ke,[e(z,{modelValue:g.value,"onUpdate:modelValue":l[5]||(l[5]=o=>g.value=o),placeholder:"添加新待办事项...",onKeyup:ge(I,["enter"])},{append:t(()=>[e(c,{onClick:I,disabled:!g.value.trim()},{default:t(()=>[e(r,null,{default:t(()=>[e(s(be))]),_:1}),l[17]||(l[17]=i(" 添加 ",-1))]),_:1},8,["disabled"])]),_:1},8,["modelValue"])]),n("div",Te,[s(m).length===0?(v(),O(de,{key:0,description:"暂无待办事项"})):(v(),O(ie,{key:1,modelValue:T.value,"onUpdate:modelValue":l[6]||(l[6]=o=>T.value=o)},{default:t(()=>[(v(!0),U(A,null,W(s(m),(o,F)=>(v(),U("div",{key:o.id,class:"todo-item"},[e(ue,{label:o.id},{default:t(()=>[n("span",{class:ke({completed:o.completed})},f(o.text),3),e(V,{size:"small",type:o.completed?"success":"info",class:"todo-tag"},{default:t(()=>[i(f(o.completed?"已完成":"待完成"),1)]),_:2},1032,["type"])]),_:2},1032,["label"]),e(c,{size:"small",type:"danger",onClick:We=>R(F),circle:"",icon:s(q)},null,8,["onClick","icon"])]))),128))]),_:1},8,["modelValue"]))]),n("div",Ee,[e(L,{title:"总任务",value:s(m).length},null,8,["value"]),e(L,{title:"已完成",value:X.value,"value-style":"color: #67c23a"},null,8,["value"]),e(L,{title:"待完成",value:Y.value,"value-style":"color: #f56c6c"},null,8,["value"]),e(c,{onClick:ee,size:"small"},{default:t(()=>[...l[18]||(l[18]=[i("清除已完成",-1)])]),_:1})])])]),_:1})]),_:1})]),_:1}),e(D,{style:{"margin-top":"20px"}},{default:t(()=>[e(x,{span:24},{default:t(()=>[e(h,{shadow:"hover"},{header:t(()=>[n("div",Ie,[e(r,null,{default:t(()=>[e(s(Ve))]),_:1}),l[19]||(l[19]=n("span",null,"存储管理",-1))])]),default:t(()=>[n("div",$e,[e(re,null,{default:t(()=>[e(c,{onClick:C},{default:t(()=>[e(r,null,{default:t(()=>[e(s(Se))]),_:1}),l[20]||(l[20]=i(" 刷新存储 ",-1))]),_:1}),e(c,{onClick:l[7]||(l[7]=o=>b.value=!0),type:"primary"},{default:t(()=>[e(r,null,{default:t(()=>[e(s(he))]),_:1}),l[21]||(l[21]=i(" 导入数据 ",-1))]),_:1}),e(c,{onClick:te,type:"danger"},{default:t(()=>[e(r,null,{default:t(()=>[e(s(q))]),_:1}),l[22]||(l[22]=i(" 清除所有 ",-1))]),_:1})]),_:1}),n("div",je,[l[23]||(l[23]=n("h4",null,"当前存储的键:",-1)),(v(!0),U(A,null,W(N.value,o=>(v(),O(V,{key:o,closable:"",onClose:F=>le(o),class:"key-tag"},{default:t(()=>[i(f(o),1)]),_:2},1032,["onClose"]))),128))])])]),_:1})]),_:1})]),_:1})]),_:1}),e(ce,{modelValue:b.value,"onUpdate:modelValue":l[10]||(l[10]=o=>b.value=o),title:"导入数据",width:"500px"},{footer:t(()=>[e(c,{onClick:l[9]||(l[9]=o=>b.value=!1)},{default:t(()=>[...l[24]||(l[24]=[i("取消",-1)])]),_:1}),e(c,{onClick:Q,type:"primary"},{default:t(()=>[...l[25]||(l[25]=[i("导入",-1)])]),_:1})]),default:t(()=>[e(z,{modelValue:k.value,"onUpdate:modelValue":l[8]||(l[8]=o=>k.value=o),type:"textarea",rows:10,placeholder:"粘贴 JSON 数据..."},null,8,["modelValue"])]),_:1},8,["modelValue"])])}}}),Pe=we(Fe,[["__scopeId","data-v-8281a0f5"]]);export{Pe as default};

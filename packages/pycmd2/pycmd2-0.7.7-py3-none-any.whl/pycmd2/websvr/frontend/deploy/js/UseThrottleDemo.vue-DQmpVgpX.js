import{b7 as ae,aY as d,bi as Y,bj as e,bk as l,cq as s,bl as t,bC as c,bD as n,a_ as T,dA as se,bE as N,b_ as X,dF as oe,dG as ne,dn as ue,dC as de,ba as B,b9 as re}from"./vendor-p_a8ePKq.js";import{L as w}from"./vue-vendor-CVtHwYAS.js";import{_ as ce}from"../assets/index-CozMeroQ.js";import"./charts-vendor-ZJQ0DAqP.js";import"./ui-vendor-CYJCTWKH.js";import"./utils-vendor-qrLihgeT.js";const ie={class:"throttle-demo"},_e={class:"card-header"},ve={class:"tracking-area"},pe={class:"mouse-position"},fe={class:"control-panel"},me={class:"card-header"},he={class:"scroll-content"},ge={class:"scroll-info"},ye={class:"card-header"},be={class:"button-demo"},Ce={class:"click-info"},ke={class:"click-log"},Me={class:"log-container"},Te={class:"card-header"},we={class:"performance-analysis"},xe={class:"analysis-card"},Ve={class:"analysis-card"},Be={class:"analysis-card"},De=ae({__name:"UseThrottleDemo",setup(Fe){const _=d(200),v=d(0),y=d(0),D=d(0),F=d(0),p=d(0),b=d(0),S=d(0),o=d(0),u=d(0),L=d(!1),C=d([]),$=w(i=>{y.value++;const a=i.currentTarget.getBoundingClientRect();D.value=Math.round(i.clientX-a.left),F.value=Math.round(i.clientY-a.top)},_.value),E=w(i=>{b.value++,S.value=i.target.scrollTop},_.value),R=w(()=>{u.value++,L.value=!0,C.value.unshift({message:`执行 #${u.value}`,type:"success"}),setTimeout(()=>{L.value=!1},_.value)},_.value),j=w(()=>{u.value++,C.value.unshift({message:`立即执行 #${u.value}`,type:"primary"})},_.value,!1,!0),q=w(()=>{u.value++,C.value.unshift({message:`结尾执行 #${u.value}`,type:"warning"})},_.value,!0,!1),A=()=>{},G=i=>{v.value++,$(i)},I=i=>{p.value++,E(i)},P=()=>{o.value++,R()},H=()=>{o.value++,j()},J=()=>{o.value++,q()},K=()=>{v.value=0,y.value=0,p.value=0,b.value=0,o.value=0,u.value=0,C.value=[],D.value=0,F.value=0,S.value=0};return(i,a)=>{const O=s("el-alert"),h=s("el-icon"),f=s("el-tag"),g=s("el-descriptions-item"),z=s("el-descriptions"),Q=s("el-slider"),W=s("el-form-item"),Z=s("el-form"),k=s("el-card"),r=s("el-col"),M=s("el-row"),ee=s("Crankshaft"),x=s("el-button"),le=s("el-space"),V=s("el-statistic"),U=s("el-progress");return B(),Y("div",ie,[e(k,{header:"useThrottleFn - 节流函数"},{default:l(()=>[e(O,{title:"VueUse useThrottleFn 示例",type:"info",closable:!1,description:"节流函数可以限制函数的执行频率，在指定时间内最多执行一次。",style:{"margin-bottom":"20px"}}),e(M,{gutter:20},{default:l(()=>[e(r,{span:12},{default:l(()=>[e(k,{shadow:"hover",class:"mouse-card"},{header:l(()=>[t("div",_e,[e(h,null,{default:l(()=>[e(T(se))]),_:1}),a[1]||(a[1]=t("span",null,"鼠标移动节流",-1))])]),default:l(()=>[t("div",{class:"mouse-tracking",onMousemove:G},[t("div",ve,[a[2]||(a[2]=t("p",null,"在此区域移动鼠标",-1)),t("div",pe,[e(z,{column:1,size:"small",border:""},{default:l(()=>[e(g,{label:"原始移动次数"},{default:l(()=>[e(f,{type:"danger"},{default:l(()=>[c(n(v.value),1)]),_:1})]),_:1}),e(g,{label:"节流后执行次数"},{default:l(()=>[e(f,{type:"success"},{default:l(()=>[c(n(y.value),1)]),_:1})]),_:1}),e(g,{label:"当前坐标"},{default:l(()=>[e(f,null,{default:l(()=>[c("X: "+n(D.value)+", Y: "+n(F.value),1)]),_:1})]),_:1})]),_:1})])]),t("div",fe,[e(Z,{"label-width":"100px",size:"small"},{default:l(()=>[e(W,{label:"节流延迟"},{default:l(()=>[e(Q,{modelValue:_.value,"onUpdate:modelValue":a[0]||(a[0]=m=>_.value=m),min:50,max:1e3,step:50,"show-input":"",onChange:A},null,8,["modelValue"])]),_:1})]),_:1})])],32)]),_:1})]),_:1}),e(r,{span:12},{default:l(()=>[e(k,{shadow:"hover",class:"scroll-card"},{header:l(()=>[t("div",me,[e(h,null,{default:l(()=>[e(T(oe))]),_:1}),a[3]||(a[3]=t("span",null,"滚动事件节流",-1))])]),default:l(()=>[t("div",{class:"scroll-container",onScroll:I},[t("div",he,[(B(),Y(N,null,X(20,m=>t("div",{key:m,class:"scroll-item"},"滚动项目 "+n(m),1)),64))]),t("div",ge,[e(z,{column:1,size:"small",border:""},{default:l(()=>[e(g,{label:"滚动次数"},{default:l(()=>[e(f,null,{default:l(()=>[c(n(p.value),1)]),_:1})]),_:1}),e(g,{label:"节流后次数"},{default:l(()=>[e(f,{type:"success"},{default:l(()=>[c(n(b.value),1)]),_:1})]),_:1}),e(g,{label:"滚动位置"},{default:l(()=>[e(f,null,{default:l(()=>[c(n(S.value)+"px",1)]),_:1})]),_:1})]),_:1})])],32)]),_:1})]),_:1})]),_:1}),e(M,{style:{"margin-top":"20px"}},{default:l(()=>[e(r,{span:24},{default:l(()=>[e(k,{shadow:"hover"},{header:l(()=>[t("div",ye,[e(h,null,{default:l(()=>[e(ee)]),_:1}),a[4]||(a[4]=t("span",null,"按钮点击节流",-1))])]),default:l(()=>[t("div",be,[e(le,null,{default:l(()=>[e(x,{type:"primary",onClick:P,disabled:L.value},{default:l(()=>[e(h,null,{default:l(()=>[e(T(ne))]),_:1}),c(" 节流按钮 ("+n(_.value)+"ms) ",1)]),_:1},8,["disabled"]),e(x,{onClick:H},{default:l(()=>[...a[5]||(a[5]=[c(" 首次立即执行 ",-1)])]),_:1}),e(x,{onClick:J},{default:l(()=>[...a[6]||(a[6]=[c(" 结尾执行 ",-1)])]),_:1}),e(x,{onClick:K},{default:l(()=>[e(h,null,{default:l(()=>[e(T(ue))]),_:1}),a[7]||(a[7]=c(" 重置计数 ",-1))]),_:1})]),_:1}),t("div",Ce,[e(M,{gutter:20},{default:l(()=>[e(r,{span:6},{default:l(()=>[e(V,{title:"总点击次数",value:o.value},null,8,["value"])]),_:1}),e(r,{span:6},{default:l(()=>[e(V,{title:"实际执行次数",value:u.value},null,8,["value"])]),_:1}),e(r,{span:6},{default:l(()=>[e(V,{title:"节省次数",value:o.value-u.value,"value-style":"color: #f56c6c"},null,8,["value"])]),_:1}),e(r,{span:6},{default:l(()=>[e(V,{title:"节省率",value:o.value>0?Math.round((o.value-u.value)/o.value*100):0,suffix:"%","value-style":"color: #67c23a"},null,8,["value"])]),_:1})]),_:1})]),t("div",ke,[a[8]||(a[8]=t("h4",null,"点击日志:",-1)),t("div",Me,[(B(!0),Y(N,null,X(C.value,(m,te)=>(B(),re(f,{key:te,type:m.type,class:"log-item"},{default:l(()=>[c(n(m.message),1)]),_:2},1032,["type"]))),128))])])])]),_:1})]),_:1})]),_:1}),e(M,{style:{"margin-top":"20px"}},{default:l(()=>[e(r,{span:24},{default:l(()=>[e(k,{shadow:"hover"},{header:l(()=>[t("div",Te,[e(h,null,{default:l(()=>[e(T(de))]),_:1}),a[9]||(a[9]=t("span",null,"性能对比分析",-1))])]),default:l(()=>[t("div",we,[e(M,{gutter:20},{default:l(()=>[e(r,{span:8},{default:l(()=>[t("div",xe,[a[10]||(a[10]=t("h4",null,"鼠标移动",-1)),e(U,{type:"circle",percentage:v.value>0?Math.round(y.value/v.value*100):0,width:100},null,8,["percentage"]),t("p",null," 优化率: "+n(v.value>0?Math.round((v.value-y.value)/v.value*100):0)+"% ",1)])]),_:1}),e(r,{span:8},{default:l(()=>[t("div",Ve,[a[11]||(a[11]=t("h4",null,"滚动事件",-1)),e(U,{type:"circle",percentage:p.value>0?Math.round(b.value/p.value*100):0,width:100},null,8,["percentage"]),t("p",null," 优化率: "+n(p.value>0?Math.round((p.value-b.value)/p.value*100):0)+"% ",1)])]),_:1}),e(r,{span:8},{default:l(()=>[t("div",Be,[a[12]||(a[12]=t("h4",null,"按钮点击",-1)),e(U,{type:"circle",percentage:o.value>0?Math.round(u.value/o.value*100):0,width:100},null,8,["percentage"]),t("p",null," 优化率: "+n(o.value>0?Math.round((o.value-u.value)/o.value*100):0)+"% ",1)])]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1})])}}}),Xe=ce(De,[["__scopeId","data-v-37e044e2"]]);export{Xe as default};

:root{
  --bg:#0b0f1a; --fg:#e5e7eb; --muted:#94a3b8; --card:#111827; --border:#1f2937;
  --accent:#60a5fa; --accent2:#22c55e; --warn:#f59e0b; --err:#ef4444;
  --mono: ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;
  --sans: ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial;
}
@media (prefers-color-scheme: light){
  :root{ --bg:#ffffff; --fg:#0f172a; --muted:#6b7280; --card:#ffffff; --border:#e5e7eb; --accent:#2563eb; --accent2:#16a34a; }
}
*{ box-sizing:border-box; }
body{ margin:0; background:var(--bg); color:var(--fg); font:14px/1.5 var(--sans); }
a{ color:var(--accent); text-decoration:none; } a:hover{ text-decoration:underline; }
code, .mono{ font-family:var(--mono); font-size:12px; }
hr{ border:0; border-top:1px solid var(--border); margin:16px 0; }

.shell{ display:grid; grid-template-columns: 340px 1fr; min-height:100vh; }
@media (max-width: 1000px){ .shell{ grid-template-columns: 1fr; } }

.sidebar{
  border-right:1px solid var(--border);
  padding:16px;
  position:sticky; top:0; align-self:start;
  height:100vh; overflow:auto;
  background:color-mix(in srgb, var(--bg), transparent 0%);
}
@media (max-width: 1000px){
  .sidebar{ position:relative; height:auto; border-right:0; border-bottom:1px solid var(--border); }
}

.brand{ display:flex; align-items:baseline; justify-content:space-between; gap:8px; margin-bottom:12px; }
.brand h1{ font-size:14px; margin:0; }
.badge{ font-size:12px; border:1px solid var(--border); border-radius:999px; padding:2px 8px; color:var(--muted); }
.search{ width:100%; padding:10px 12px; border-radius:12px; border:1px solid var(--border); background:transparent; color:var(--fg); outline:none; }
.section{ margin-top:14px; }
.section h2{ margin:0 0 8px 0; font-size:12px; letter-spacing:.06em; text-transform:uppercase; color:var(--muted); }

.list{ list-style:none; padding:0; margin:0; display:flex; flex-direction:column; gap:6px; }
.item a{
  display:flex; justify-content:space-between; gap:10px;
  padding:8px 10px; border-radius:12px; border:1px solid transparent;
  color:inherit;
}
.item a:hover{ border-color:var(--border); background:color-mix(in srgb, var(--card), transparent 70%); }
.pill{ font-size:11px; padding:1px 8px; border-radius:999px; border:1px solid var(--border); color:var(--muted); }
.pill.sql{ color: color-mix(in srgb, var(--accent), white 0%); }
.pill.python{ color: color-mix(in srgb, var(--accent2), white 0%); }

.main{ padding:20px; }
.card{ background:var(--card); border:1px solid var(--border); border-radius:16px; padding:16px; }
.grid{ display:grid; gap:16px; }
.grid2{ display:grid; gap:16px; grid-template-columns: 2fr 1fr; }
@media (max-width: 1100px){ .grid2{ grid-template-columns:1fr; } }

.kv{ display:grid; grid-template-columns: 140px 1fr; gap:8px 12px; align-items:start; }
.kv .k{ color:var(--muted); }

.btn{
  border:1px solid var(--border); background:transparent; color:var(--fg);
  padding:8px 12px; border-radius:12px; cursor:pointer;
}
.btn:hover{ border-color:var(--accent); }

.table{ width:100%; border-collapse:collapse; }
.table th,.table td{ text-align:left; padding:8px 10px; border-bottom:1px solid var(--border); vertical-align:top; }
.table th{ color:var(--muted); font-weight:600; font-size:12px; }

.empty{ color:var(--muted); }
.desc p{ margin: 0 0 10px 0; }
.desc p:last-child{ margin-bottom:0; }
.mermaidWrap{ overflow:auto; }

/* Global search palette */
.overlay{
  position:fixed; inset:0;
  background: rgba(0,0,0,.55);
  display:flex; align-items:flex-start; justify-content:center;
  padding: 10vh 16px 16px;
  z-index: 9999;
}
.palette{
  width: min(900px, 100%);
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 18px;
  overflow:hidden;
  box-shadow: 0 20px 60px rgba(0,0,0,.45);
}
.paletteHead{
  padding: 12px;
  border-bottom: 1px solid var(--border);
  display:flex;
  gap:10px;
  align-items:center;
}
.paletteInput{
  width:100%;
  padding: 12px 12px;
  border-radius: 14px;
  border: 1px solid var(--border);
  background: transparent;
  color: var(--fg);
  outline:none;
}
.paletteHint{
  color: var(--muted);
  font-size: 12px;
  white-space: nowrap;
}
.paletteList{
  max-height: 55vh;
  overflow:auto;
}
.result{
  display:flex;
  justify-content:space-between;
  gap:12px;
  padding: 10px 12px;
  border-bottom: 1px solid color-mix(in srgb, var(--border), transparent 35%);
  cursor:pointer;
}
.result:last-child{ border-bottom:0; }
.result:hover{ background: color-mix(in srgb, var(--accent), transparent 92%); }
.result.sel{ background: color-mix(in srgb, var(--accent), transparent 88%); }
.resultMain{ display:flex; flex-direction:column; gap:2px; min-width:0; }
.resultTitle{ font-weight:600; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
.resultSub{ color: var(--muted); font-size:12px; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
.kbd{
  font-family: var(--mono);
  font-size: 11px;
  padding: 2px 6px;
  border-radius: 8px;
  border: 1px solid var(--border);
  color: var(--muted);
}

/* Sidebar search hint */
.searchWrap{ position:relative; }
.searchKbd{
  position:absolute;
  right:10px;
  top:50%;
  transform:translateY(-50%);
  pointer-events:none;
  opacity:.85;
}
.searchTip{
  margin-top:8px;
  color:var(--muted);
  font-size:12px;
}

/* First-run toast */
.toast{
  position:fixed;
  right:16px;
  bottom:16px;
  max-width:min(440px, calc(100vw - 32px));
  background:var(--card);
  border:1px solid var(--border);
  border-radius:16px;
  padding:12px 12px;
  box-shadow: 0 18px 50px rgba(0,0,0,.35);
  z-index: 10000;
  display:flex;
  gap:12px;
  align-items:flex-start;
}
.toastTitle{ font-weight:700; margin:0 0 4px 0; font-size:13px; }
.toastBody{ margin:0; color:var(--muted); font-size:12px; }
.toastActions{ margin-left:auto; display:flex; gap:8px; }
.toastBtn{
  border:1px solid var(--border);
  background:transparent;
  color:var(--fg);
  padding:6px 10px;
  border-radius:12px;
  cursor:pointer;
}
.toastBtn:hover{ border-color:var(--accent); }

.tabs{ display:flex; gap:8px; flex-wrap:wrap; }
.tab{
  border:1px solid var(--border);
  background:transparent;
  color:var(--fg);
  padding:6px 10px;
  border-radius:999px;
  cursor:pointer;
  font-size:12px;
}
.tab:hover{ border-color:var(--accent); }
.tab.active{
  border-color: color-mix(in srgb, var(--accent), var(--border) 20%);
  background: color-mix(in srgb, var(--accent), transparent 88%);
}
.tabPanel{ margin-top:12px; }

tr.colHit td{
  background: color-mix(in srgb, var(--accent), transparent 88%);
}
tr.colHit{
  outline: 1px solid color-mix(in srgb, var(--accent), transparent 45%);
  outline-offset: -1px;
}

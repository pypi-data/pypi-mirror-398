<!DOCTYPE html>
<html lang="en">
  {% include head.html %}
  <body class="theme{% if page.body_class %} {{ page.body_class }}{% endif %}">
    <header class="hero">
      <div class="hero__content container">
        <h1>{{ page.hero_title | default: site.title }}</h1>
        <p class="hero__tagline">{{ page.hero_tagline | default: site.description }}</p>
      <div class="hero__cta">
       <a class="btn {% if page.url == '/' %}btn-primary{% else %}btn-secondary{% endif %}"
         {% if page.url == '/' %}aria-current="page"{% endif %}
         href="{{ '/' | relative_url }}">Home</a>
       <a class="btn {% if page.url == '/about/' %}btn-primary{% else %}btn-secondary{% endif %}"
         {% if page.url == '/about/' %}aria-current="page"{% endif %}
         href="{{ '/about/' | relative_url }}">About</a>
       <a class="btn {% if page.url == '/builder/' %}btn-primary{% else %}btn-secondary{% endif %}"
         {% if page.url == '/builder/' %}aria-current="page"{% endif %}
         href="{{ '/builder/' | relative_url }}">Config Builder</a>
       <a class="btn {% if page.url == '/cloud/' %}btn-primary{% else %}btn-secondary{% endif %}"
         {% if page.url == '/cloud/' %}aria-current="page"{% endif %}
         href="{{ '/cloud/' | relative_url }}">Cloud Runner</a>
       <a class="btn btn-secondary" href="https://coord2region.readthedocs.io/en/latest/" target="_blank" rel="noopener">Documentation</a>
       <a class="btn btn-secondary" href="https://github.com/BabaSanfour/Coord2Region" target="_blank" rel="noopener">View on GitHub</a>
      </div>
      </div>
    </header>
    <main class="content container">
      {{ content }}
    </main>
    <footer class="site-footer">
      <div class="container">
        <p class="footnote">&copy; {{ site.time | date: '%Y' }} Coord2Region contributors.</p>
      </div>
    </footer>
    {% assign js_file = site.static_files | where: 'path', '/assets/js/bundle.js' | first %}
    <style>
      .theme-toggle {
        position: fixed;
        top: 14px;
        right: 14px;
        z-index: 1000;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 38px;
        height: 38px;
        border-radius: 999px;
        border: 1px solid rgba(148, 163, 184, 0.35);
        background: var(--bg-alt);
        color: var(--fg);
        box-shadow: 0 10px 25px rgba(0,0,0,0.25);
        cursor: pointer;
      }
      .theme-toggle:hover { border-color: var(--accent); color: var(--accent); }
      .theme-toggle:active { transform: scale(0.96); box-shadow: 0 6px 16px rgba(0,0,0,0.3); }
      .icon { display: none; }
      :root[data-theme='dark'] .icon-moon { display: inline; }
      :root:not([data-theme]), :root[data-theme='dark'] .icon-sun { display: none; }
      :root[data-theme='light'] .icon-sun { display: inline; }
      :root[data-theme='light'] .icon-moon { display: none; }
    </style>
    <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme" title="Toggle theme">
      <svg class="icon icon-sun" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
        <path d="M12 18a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm0 4a1 1 0 0 1-1-1v-1a1 1 0 1 1 2 0v1a1 1 0 0 1-1 1Zm0-20a1 1 0 0 1 1 1v1a1 1 0 1 1-2 0V3a1 1 0 0 1 1-1Zm10 9h-1a1 1 0 1 1 0-2h1a1 1 0 1 1 0 2ZM3 12H2a1 1 0 1 1 0-2h1a1 1 0 1 1 0 2Zm15.657 7.071-.707-.707a1 1 0 1 1 1.414-1.414l.707.707a1 1 0 1 1-1.414 1.414ZM4.636 6.343l-.707-.707A1 1 0 0 1 5.343 4.222l.707.707A1 1 0 0 1 4.636 6.343Zm12.728-2.121-.707.707A1 1 0 0 1 15.243 3.515l.707-.707A1 1 0 0 1 17.364 4.222ZM6.05 19.364l-.707.707A1 1 0 1 1 3.929 18.95l.707-.707A1 1 0 1 1 6.05 19.364Z"/>
      </svg>
      <svg class="icon icon-moon" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79Z"/>
      </svg>
    </button>
    <script>
      (function() {
        try {
          var saved = localStorage.getItem('c2r-theme');
          var apply = function(theme) {
            document.documentElement.setAttribute('data-theme', theme);
            var btn = document.getElementById('theme-toggle');
            if (btn) {
              btn.setAttribute('aria-label', theme === 'light' ? 'Switch to dark theme' : 'Switch to light theme');
              btn.setAttribute('title', theme === 'light' ? 'Switch to dark theme' : 'Switch to light theme');
            }
          };
          if (saved === 'light' || saved === 'dark') {
            apply(saved);
          } else {
            var prefersLight = false;
            try { prefersLight = window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches; } catch (e) {}
            apply(prefersLight ? 'light' : 'dark');
          }
          document.addEventListener('DOMContentLoaded', function () {
            var btn = document.getElementById('theme-toggle');
            if (!btn) return;
            btn.addEventListener('click', function () {
              var current = document.documentElement.getAttribute('data-theme') || 'dark';
              var next = current === 'light' ? 'dark' : 'light';
              apply(next);
              try { localStorage.setItem('c2r-theme', next); } catch (e) {}
            });
          });
        } catch (e) {}
      })();
    </script>
    <script type="module" src="{{ js_file.path | relative_url }}?v={{ js_file.modified_time | date: '%s' }}"></script>
  </body>
</html>

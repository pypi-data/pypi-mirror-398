[project]
name = "kleur"
version = "2.0.8"
description = "Color shades generator"
authors = [{ name = "Huib Piguillet", email = "huib@proton.me" }]
requires-python = ">=3.14"
readme = "README.md"
license = "MIT"
keywords = [
  "color shades generator",
  "cli utility",
]
classifiers = [
  "Intended Audience :: Developers",
  "Topic :: Utilities",
  "Programming Language :: Python :: 3",
  "Programming Language :: Python :: 3.14",
  "Programming Language :: Python :: 3 :: Only",
]
dependencies = [
  "hsluv",
  "based-utils",
]

[dependency-groups]
dev = [
  "mypy",
  "powerchord",
  "pre-commit",
  "pytest",
  "ruff",
]

#[tool.uv.sources]
#based-utils = { path = "../based-utils", editable = true }
#powerchord = { path = "../powerchord", editable = true }

[project.urls]
PyPI = "https://pypi.org/project/kleur/"
Github = "https://github.com/githuib/kleur"

[project.scripts]
kleur = "kleur.cli:main"

[build-system]
requires = ["uv_build>=0.9.3,<0.10.0"]
build-backend = "uv_build"

[tool.powerchord]
tasks = ["ruff check .", "mypy", "pytest"]

[tool.mypy]
files = [
  "src"
]
#color_output = true
implicit_optional = true
warn_redundant_casts = true
warn_unused_ignores = true

[[tool.mypy.overrides]]
module = ["hsluv.*"]
follow_untyped_imports = true

[tool.pytest.ini_options]
addopts = "-ra --doctest-modules"
testpaths = [
  "src/kleur",
  #  "tests",
]

[tool.ruff.format]
docstring-code-format = true
skip-magic-trailing-comma = true

[tool.ruff.lint]
# Enable Pyflakes (`F`) and a subset of the pycodestyle (`E`)  codes by default.
# Unlike Flake8, Ruff doesn't enable pycodestyle warnings (`W`) or
# McCabe complexity (`C901`) by default.
select = ["ALL"]
ignore = [
  # pydocstyle (D)
  "D100", # https://docs.astral.sh/ruff/rules/undocumented-public-module/	Missing docstring in public module
  "D101", # https://docs.astral.sh/ruff/rules/undocumented-public-class/	Missing docstring in public class
  "D102", # https://docs.astral.sh/ruff/rules/undocumented-public-method/	Missing docstring in public method
  "D103", # https://docs.astral.sh/ruff/rules/undocumented-public-function/	Missing docstring in public function
  "D104", # https://docs.astral.sh/ruff/rules/undocumented-public-package/	Missing docstring in public package
  "D105", # https://docs.astral.sh/ruff/rules/undocumented-magic-method/	Missing docstring in magic method
  "D106", # https://docs.astral.sh/ruff/rules/undocumented-public-nested-class/	Missing docstring in public nested class
  "D107", # https://docs.astral.sh/ruff/rules/undocumented-public-init/	Missing docstring in __init__
  # warning: The following rule may cause conflicts when used with the formatter: `D203`. To avoid unexpected behavior, we recommend disabling this rule
  "D203", # https://docs.astral.sh/ruff/rules/incorrect-blank-line-before-class/	1 blank line required before class docstring
  "D211", # https://docs.astral.sh/ruff/rules/blank-line-before-class/	No blank lines allowed before class docstring
  "D212", # https://docs.astral.sh/ruff/rules/multi-line-summary-first-line/	Multi-line docstring summary should start at the first line

  # flake8-commas (COM)
  # warning: The following rule may cause conflicts when used with the formatter: `COM812`
  "COM812", # https://docs.astral.sh/ruff/rules/missing-trailing-comma/	Trailing comma missing

  # flake8-logging-format (G)
  "G004", # https://docs.astral.sh/ruff/rules/logging-f-string/	Logging statement uses f-string

  # Ruff-specific rules (RUF)
  "RUF013", # https://docs.astral.sh/ruff/rules/implicit-optional/	PEP 484 prohibits implicit Optional
]

[tool.ruff.lint.isort]
split-on-trailing-comma = false

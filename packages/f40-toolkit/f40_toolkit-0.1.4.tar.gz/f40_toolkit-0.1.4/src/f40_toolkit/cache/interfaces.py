from __future__ import annotations

from typing import Any, Optional, Protocol


class CacheBackend(Protocol):
    def get(self, key: str) -> Any: ...
    def set(self, key: str, value: Any, timeout: Optional[int] = None) -> None: ...
    def invalidate(self, key: str) -> None: ...
    def clear(self) -> None: ...


class Serializer(Protocol):
    def dumps(self, value: Any) -> bytes: ...
    def loads(self, data: bytes) -> Any: ...

# Paper Search MCP é¡¹ç›®è¯¦è§£

> **é€‚åˆåˆå­¦è€…çš„ MCP (Model Context Protocol) å­¦ä¹ æŒ‡å—**

---

## ç›®å½•

1. [ä»€ä¹ˆæ˜¯ MCPï¼Ÿ](#ä»€ä¹ˆæ˜¯-mcp)
2. [é¡¹ç›®æ¦‚è§ˆ](#é¡¹ç›®æ¦‚è§ˆ)
3. [é¡¹ç›®æ¶æ„](#é¡¹ç›®æ¶æ„)
4. [ç›®å½•ç»“æ„](#ç›®å½•ç»“æ„)
5. [æ ¸å¿ƒç»„ä»¶](#æ ¸å¿ƒç»„ä»¶)
6. [è¿è¡Œæ–¹å¼](#è¿è¡Œæ–¹å¼)
7. [æ ¸å¿ƒä¾èµ–](#æ ¸å¿ƒä¾èµ–)
8. [å¦‚ä½•æ‰©å±•æ–°å¹³å°](#å¦‚ä½•æ‰©å±•æ–°å¹³å°)
9. [å­¦ä¹ è·¯çº¿å›¾](#å­¦ä¹ è·¯çº¿å›¾)

---

## ä»€ä¹ˆæ˜¯ MCPï¼Ÿ

**MCP (Model Context Protocol)** æ˜¯ä¸€ç§å¼€æ”¾æ ‡å‡†ï¼Œç”¨äºå°† AI æ¨¡å‹ï¼ˆå¦‚ Claudeï¼‰ä¸å¤–éƒ¨å·¥å…·å’Œæ•°æ®æºè¿æ¥èµ·æ¥ã€‚

### ç±»æ¯”ç†è§£

æƒ³è±¡ä¸€ä¸‹ï¼š
- **LLM (å¤§è¯­è¨€æ¨¡å‹)** = ä¸€ä¸ªéå¸¸èªæ˜ä½†"è¢«å…³åœ¨æˆ¿é—´é‡Œ"çš„äºº
- **MCP** = ç»™è¿™ä¸ªäººå¼€äº†ä¸€æ‰‡çª—æˆ·ï¼Œè®©ä»–èƒ½çœ‹åˆ°å¤–é¢çš„ä¸–ç•Œå¹¶ä¸ä¹‹äº’åŠ¨
- **MCP Server** = çª—æˆ·å¤–é¢çš„æœåŠ¡å‘˜ï¼Œå¸®åŠ© LLM æ‰§è¡Œå®é™…æ“ä½œ

### MCP çš„å…³é”®æ¦‚å¿µ

| æ¦‚å¿µ | è¯´æ˜ | æœ¬é¡¹ç›®ä¾‹å­ |
|------|------|-----------|
| **Server** | æä¾›å·¥å…·å’Œèµ„æºçš„æœåŠ¡ç¨‹åº | `paper_search_server` |
| **Tools** | LLM å¯ä»¥è°ƒç”¨çš„å‡½æ•° | `search_arxiv`, `download_arxiv` |
| **Resources** | LLM å¯ä»¥è¯»å–çš„æ•°æ® | è®ºæ–‡å†…å®¹ã€æœç´¢ç»“æœ |

---

## é¡¹ç›®æ¦‚è§ˆ

`paper-search-mcp` æ˜¯ä¸€ä¸ª MCP æœåŠ¡å™¨ï¼Œè®© Claude ç­‰ LLM èƒ½å¤Ÿï¼š

1. ğŸ” **æœç´¢è®ºæ–‡** - ä» arXivã€PubMedã€Semantic Scholar ç­‰å¹³å°æœç´¢å­¦æœ¯è®ºæ–‡
2. ğŸ“¥ **ä¸‹è½½ PDF** - ç›´æ¥ä¸‹è½½è®ºæ–‡ PDF æ–‡ä»¶
3. ğŸ“– **é˜…è¯»å…¨æ–‡** - æå– PDF æ–‡æœ¬å†…å®¹ä¾› LLM åˆ†æ

---

## é¡¹ç›®æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Claude Desktop (LLM å®¢æˆ·ç«¯)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â”‚ MCP Protocol (stdio)
                                    â”‚ JSON-RPC æ ¼å¼é€šä¿¡
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         FastMCP Server (server.py)                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  æš´éœ²çš„å·¥å…· (Tools):                                          â”‚   â”‚
â”‚  â”‚  â€¢ search_arxiv()     â€¢ download_arxiv()   â€¢ read_arxiv()    â”‚   â”‚
â”‚  â”‚  â€¢ search_pubmed()    â€¢ search_semantic()  â€¢ ...             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â”‚ è°ƒç”¨å„å¹³å°æœç´¢å™¨
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      å­¦æœ¯å¹³å°æœç´¢å™¨ (academic_platforms/)             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ ArxivSearcher â”‚ â”‚ PubMedSearcher â”‚ â”‚SemanticSearcherâ”‚ â”‚CrossRefSearcherâ”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚         â”‚              â”‚              â”‚              â”‚              â”‚
â”‚         â–¼              â–¼              â–¼              â–¼              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ arXiv API â”‚ â”‚ PubMed APIâ”‚ â”‚Semantic APIâ”‚ â”‚CrossRef APIâ”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â”‚ ç»Ÿä¸€è¿”å›æ ¼å¼
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Paper æ•°æ®æ¨¡å‹ (paper.py)                     â”‚
â”‚  æ‰€æœ‰å¹³å°çš„è®ºæ–‡æ•°æ®éƒ½è½¬æ¢ä¸ºç»Ÿä¸€çš„ Paper å¯¹è±¡                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ç›®å½•ç»“æ„

```
paper-search-mcp/
â”‚
â”œâ”€â”€ paper_search_mcp/              # ğŸ“¦ æ ¸å¿ƒ Python åŒ…
â”‚   â”œâ”€â”€ __init__.py                # åŒ…åˆå§‹åŒ–æ–‡ä»¶
â”‚   â”œâ”€â”€ server.py                  # â­ MCP æœåŠ¡å™¨æ ¸å¿ƒ (å¿…è¯»!)
â”‚   â”œâ”€â”€ paper.py                   # â­ ç»Ÿä¸€æ•°æ®æ¨¡å‹ (å¿…è¯»!)
â”‚   â”‚
â”‚   â””â”€â”€ academic_platforms/        # ğŸ” å„å­¦æœ¯å¹³å°æœç´¢å™¨
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ arxiv.py               # arXiv æœç´¢å™¨
â”‚       â”œâ”€â”€ pubmed.py              # PubMed æœç´¢å™¨
â”‚       â”œâ”€â”€ biorxiv.py             # bioRxiv æœç´¢å™¨
â”‚       â”œâ”€â”€ medrxiv.py             # medRxiv æœç´¢å™¨
â”‚       â”œâ”€â”€ google_scholar.py      # Google Scholar æœç´¢å™¨
â”‚       â”œâ”€â”€ iacr.py                # IACR ePrint æœç´¢å™¨
â”‚       â”œâ”€â”€ semantic.py            # Semantic Scholar æœç´¢å™¨
â”‚       â”œâ”€â”€ crossref.py            # CrossRef æœç´¢å™¨
â”‚       â””â”€â”€ hub.py                 # Sci-Hub (å·²ç¦ç”¨)
â”‚
â”œâ”€â”€ tests/                         # ğŸ§ª æµ‹è¯•æ–‡ä»¶
â”‚   â”œâ”€â”€ test_server.py
â”‚   â”œâ”€â”€ test_arxiv.py
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ docs/                          # ğŸ“š æ–‡æ¡£
â”‚   â””â”€â”€ learning/                  # å­¦ä¹ èµ„æ–™ (ä½ æ­£åœ¨é˜…è¯»çš„æ–‡ä»¶)
â”‚
â”œâ”€â”€ Dockerfile                     # ğŸ³ Docker éƒ¨ç½²é…ç½®
â”œâ”€â”€ pyproject.toml                 # ğŸ“‹ é¡¹ç›®é…ç½® (ä¾èµ–ã€å…ƒæ•°æ®)
â”œâ”€â”€ smithery.yaml                  # Smithery é…ç½®
â”œâ”€â”€ uv.lock                        # ä¾èµ–é”å®šæ–‡ä»¶
â””â”€â”€ README.md                      # é¡¹ç›®è¯´æ˜æ–‡æ¡£
```

---

## æ ¸å¿ƒç»„ä»¶

### 1. Paper æ•°æ®æ¨¡å‹

> ğŸ“„ è¯¦ç»†æ–‡æ¡£: [01_paper_model.md](./01_paper_model.md)

ç»Ÿä¸€çš„è®ºæ–‡æ•°æ®ç»“æ„ï¼Œæ‰€æœ‰å¹³å°è¿”å›çš„æ•°æ®éƒ½ä¼šè½¬æ¢ä¸ºæ­¤æ ¼å¼ã€‚

### 2. MCP Server

> ğŸ“„ è¯¦ç»†æ–‡æ¡£: [02_server.md](./02_server.md)

ä½¿ç”¨ FastMCP æ¡†æ¶å®ç°çš„ MCP æœåŠ¡å™¨ï¼Œå®šä¹‰äº†æ‰€æœ‰å¯ç”¨çš„å·¥å…·ã€‚

### 3. å­¦æœ¯å¹³å°æœç´¢å™¨

> ğŸ“„ è¯¦ç»†æ–‡æ¡£: 
> - [03_arxiv_searcher.md](./03_arxiv_searcher.md)
> - [04_pubmed_searcher.md](./04_pubmed_searcher.md)
> - [05_semantic_searcher.md](./05_semantic_searcher.md)
> - [06_crossref_searcher.md](./06_crossref_searcher.md)

---

## è¿è¡Œæ–¹å¼

### æ–¹å¼ä¸€ï¼šé…ç½® Claude Desktop

ç¼–è¾‘ Claude Desktop é…ç½®æ–‡ä»¶ï¼š
- **Mac**: `~/Library/Application Support/Claude/claude_desktop_config.json`
- **Windows**: `%APPDATA%\Claude\claude_desktop_config.json`

```json
{
  "mcpServers": {
    "paper_search_server": {
      "command": "uv",
      "args": [
        "run",
        "--directory",
        "/path/to/paper-search-mcp",
        "-m",
        "paper_search_mcp.server"
      ],
      "env": {
        "SEMANTIC_SCHOLAR_API_KEY": ""
      }
    }
  }
}
```

### æ–¹å¼äºŒï¼šæœ¬åœ°å¼€å‘æµ‹è¯•

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/openags/paper-search-mcp.git
cd paper-search-mcp

# 2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ (ä½¿ç”¨ uv)
uv venv
source .venv/bin/activate  # Windows: .venv\Scripts\activate

# 3. å®‰è£…ä¾èµ–
uv add -e .

# 4. æµ‹è¯•å•ä¸ªæ¨¡å—
python paper_search_mcp/academic_platforms/arxiv.py

# 5. è¿è¡Œå®Œæ•´æµ‹è¯•
python -m pytest tests/
```

---

## æ ¸å¿ƒä¾èµ–

| åŒ…å | ç‰ˆæœ¬è¦æ±‚ | ç”¨é€” | å­¦ä¹ ä»·å€¼ |
|------|---------|------|---------|
| `fastmcp` | - | FastMCP æ¡†æ¶ | â­â­â­ MCP å¼€å‘æ ¸å¿ƒ |
| `mcp[cli]` | >=1.6.0 | MCP åè®®æ”¯æŒ | â­â­â­ MCP æ ‡å‡†åº“ |
| `requests` | - | åŒæ­¥ HTTP è¯·æ±‚ | â­â­ åŸºç¡€ç½‘ç»œç¼–ç¨‹ |
| `httpx[socks]` | >=0.28.1 | å¼‚æ­¥ HTTP + ä»£ç† | â­â­ ç°ä»£ HTTP å®¢æˆ·ç«¯ |
| `feedparser` | - | è§£æ Atom/RSS | â­ arXiv API è§£æ |
| `beautifulsoup4` | >=4.12.0 | HTML è§£æ | â­â­ ç½‘é¡µçˆ¬è™«åŸºç¡€ |
| `lxml` | >=4.9.0 | é«˜æ•ˆ XML/HTML è§£æå™¨ | â­ BS4 åŠ é€Ÿ |
| `PyPDF2` | >=3.0.0 | PDF æ–‡æœ¬æå– | â­ PDF å¤„ç† |

---

## å¦‚ä½•æ‰©å±•æ–°å¹³å°

å¦‚æœä½ æƒ³æ·»åŠ ä¸€ä¸ªæ–°çš„å­¦æœ¯å¹³å°ï¼ˆå¦‚ IEEE Xploreï¼‰ï¼Œåªéœ€ 3 æ­¥ï¼š

### æ­¥éª¤ 1: åˆ›å»ºæœç´¢å™¨ç±»

åœ¨ `academic_platforms/` ç›®å½•ä¸‹åˆ›å»º `ieee.py`ï¼š

```python
from typing import List
from ..paper import Paper

class PaperSource:
    """æŠ½è±¡åŸºç±»"""
    def search(self, query: str, **kwargs) -> List[Paper]:
        raise NotImplementedError
    def download_pdf(self, paper_id: str, save_path: str) -> str:
        raise NotImplementedError
    def read_paper(self, paper_id: str, save_path: str) -> str:
        raise NotImplementedError

class IEEESearcher(PaperSource):
    def search(self, query: str, max_results: int = 10) -> List[Paper]:
        # å®ç°æœç´¢é€»è¾‘
        pass
    
    def download_pdf(self, paper_id: str, save_path: str) -> str:
        raise NotImplementedError("IEEE ä¸æ”¯æŒç›´æ¥ä¸‹è½½")
    
    def read_paper(self, paper_id: str, save_path: str) -> str:
        return "IEEE è®ºæ–‡éœ€è¦è®¢é˜…æ‰èƒ½é˜…è¯»"
```

### æ­¥éª¤ 2: åœ¨ server.py ä¸­æ³¨å†Œ

```python
from .academic_platforms.ieee import IEEESearcher

ieee_searcher = IEEESearcher()

@mcp.tool()
async def search_ieee(query: str, max_results: int = 10) -> List[Dict]:
    """Search IEEE Xplore for papers."""
    papers = ieee_searcher.search(query, max_results=max_results)
    return [paper.to_dict() for paper in papers]
```

### æ­¥éª¤ 3: æ·»åŠ æµ‹è¯•

åœ¨ `tests/` ç›®å½•ä¸‹åˆ›å»º `test_ieee.py`ã€‚

---

## å­¦ä¹ è·¯çº¿å›¾

ä½œä¸ºåˆå­¦è€…ï¼Œå»ºè®®æŒ‰ä»¥ä¸‹é¡ºåºå­¦ä¹ æœ¬é¡¹ç›®ï¼š

```
1. é˜…è¯»æœ¬æ–‡æ¡£ (00_project_overview.md)
      â†“
2. ç†è§£æ•°æ®æ¨¡å‹ (01_paper_model.md)
      â†“
3. å­¦ä¹  MCP æœåŠ¡å™¨ (02_server.md)  â† æœ€é‡è¦ï¼
      â†“
4. ç ”ç©¶ä¸€ä¸ªç®€å•æœç´¢å™¨ (03_arxiv_searcher.md)
      â†“
5. ç ”ç©¶ä¸€ä¸ªå¤æ‚æœç´¢å™¨ (05_semantic_searcher.md)
      â†“
6. å°è¯•è‡ªå·±æ·»åŠ ä¸€ä¸ªæ–°å¹³å°
```

---

## ä¸‹ä¸€æ­¥

ç»§ç»­é˜…è¯»è¯¦ç»†çš„ä»£ç åˆ†ææ–‡æ¡£ï¼š

- ğŸ“„ [01_paper_model.md](./01_paper_model.md) - Paper æ•°æ®æ¨¡å‹è¯¦è§£
- ğŸ“„ [02_server.md](./02_server.md) - MCP æœåŠ¡å™¨è¯¦è§£
- ğŸ“„ [03_arxiv_searcher.md](./03_arxiv_searcher.md) - arXiv æœç´¢å™¨è¯¦è§£

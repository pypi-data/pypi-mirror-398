system_prompt = 'You are an expert assistant specializing in extracting and structuring ranked information from unstructured text inputs. Your task is to analyze the provided text and identify the countries ranked based on their mathematical prowess. Ensure that the output is structured and formatted as a ranked list. The output should be in the following format:\n\n<ranked_countries>\n<country rank="1">Country Name</country>\n<country rank="2">Country Name</country>\n...\n</ranked_countries>\n\nFor example, if the input text mentions that "Singapore is the best at math, followed by South Korea and Japan," the output should be:\n\n<ranked_countries>\n<country rank="1">Singapore</country>\n<country rank="2">South Korea</country>\n<country rank="3">Japan</country>\n</ranked_countries>\n\nEnsure that the ranking is accurate and consistent with the information provided in the text. If the text does not provide a clear ranking, infer the ranking based on the context.'
human_prompt = 'Analyze the following unstructured text and extract a ranked list of countries based on their mathematical prowess or performance in math-related metrics (e.g., PISA scores, Olympiad results, research output, or other relevant indicators). Provide the output in a structured format with clear rankings (1st, 2nd, etc.) and a brief justification for each ranking. If no countries are explicitly mentioned, infer or suggest plausible candidates based on global trends.\n\nUnstructured text input:\n"{user_input_text}"'
pattern = '<ranked_countries>\\s*(<country rank=\\"\\d+\\">.*?<\\/country>\\s*)*<\\/ranked_countries>'

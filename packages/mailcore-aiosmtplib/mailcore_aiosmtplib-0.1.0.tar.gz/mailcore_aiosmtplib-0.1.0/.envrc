# Use nix-direnv for caching (10-100x faster)
if ! has nix_direnv_version || ! nix_direnv_version 2.3.0; then
  source_url "https://raw.githubusercontent.com/nix-community/nix-direnv/2.3.0/direnvrc" "sha256-Dmd+j63L84wuzgyjITIfSxSD57Tx7v51DMxVZOsiUD8="  # pragma: allowlist secret
fi

# Suppress nix-direnv verbose output
export NIX_DIRENV_SILENT=1

# Load Nix flake environment
use flake

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Knowledge Graph - Rohkun</title>
    <script type="text/javascript" src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="network-container"></div>
    
    <div id="info-panel">
        <h1>ðŸ§  Knowledge Graph</h1>
        <div class="stat"><strong>Project:</strong> <span id="project-name">Loading...</span></div>
        <div class="stat"><strong>Nodes:</strong> <span id="node-count">0</span></div>
        <div class="stat"><strong>Connections:</strong> <span id="edge-count">0</span></div>
        <div class="stat"><strong>High Impact:</strong> <span id="high-impact-count">0</span></div>
    </div>
    
    <div id="legend">
        <h3>Methods</h3>
        <div class="legend-item">
            <div class="legend-color" style="background: #7c3aed;"></div>
            <span>GET</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #00ff41;"></div>
            <span>POST</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #ff9500;"></div>
            <span>PUT</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #ff3333;"></div>
            <span>DELETE / High Impact</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #666666;"></div>
            <span>Unknown</span>
        </div>
    </div>
    
    <div id="search-box">
        <input type="text" id="search-input" placeholder="Search endpoints...">
    </div>
    
    <div id="controls">
        <button onclick="resetView()">Reset View</button>
        <button id="physics-btn" onclick="togglePhysics()">Physics: ON</button>
        <button id="labels-btn" onclick="toggleLabels()" class="active">Labels: ON</button>
        <button onclick="exportScreenshot()">ðŸ“¸ Screenshot</button>
        <button onclick="copyLink()">ðŸ”— Copy Link</button>
    </div>
    
    <div id="node-info"></div>
    
    <div id="toast" class="toast"></div>
    
    <script src="script.js"></script>
    <script>
        // Load data from JSON file or use inline data
        // For designer: Replace this with actual data loading
        fetch('example-data.json')
            .then(response => response.json())
            .then(data => {
                init(data);
            })
            .catch(() => {
                // Fallback: Use inline example data
                const exampleData = {
                    "nodes": [
                        {
                            "id": "node_0",
                            "label": "GET /api/users",
                            "title": "GET /api/users\nFile: routes/users.py\nLine: 42\nConnections: 5",
                            "method": "GET",
                            "path": "/api/users",
                            "file": "routes/users.py",
                            "line": 42,
                            "value": 30,
                            "size": 30,
                            "color": {"background": "#7c3aed", "border": "#7c3aed", "highlight": {"background": "#7c3aed", "border": "#ffffff"}},
                            "font": {"color": "#ffffff", "size": 14, "face": "JetBrains Mono"},
                            "borderWidth": 2,
                            "connections": 5,
                            "high_impact": false
                        },
                        {
                            "id": "node_1",
                            "label": "UNKNOWN /api/unknown",
                            "title": "UNKNOWN /api/unknown\nFile: unknown\nLine: ?\nConnections: 1",
                            "method": "UNKNOWN",
                            "path": "/api/unknown",
                            "file": "unknown",
                            "line": "?",
                            "value": 18,
                            "size": 18,
                            "color": {"background": "#666666", "border": "#666666", "highlight": {"background": "#666666", "border": "#ffffff"}},
                            "font": {"color": "#ffffff", "size": 14, "face": "JetBrains Mono"},
                            "borderWidth": 2,
                            "connections": 1,
                            "high_impact": false
                        }
                    ],
                    "edges": [
                        {"from": "node_0", "to": "node_1", "label": "UNKNOWN", "arrows": "to", "color": {"color": "#666666", "opacity": 0.4}, "width": 1, "smooth": {"type": "continuous", "roundness": 0.5}}
                    ],
                    "summary": {
                        "total_nodes": 2,
                        "total_edges": 1,
                        "endpoints": 2,
                        "high_impact": 0
                    }
                };
                init(exampleData);
            });
    </script>
</body>
</html>















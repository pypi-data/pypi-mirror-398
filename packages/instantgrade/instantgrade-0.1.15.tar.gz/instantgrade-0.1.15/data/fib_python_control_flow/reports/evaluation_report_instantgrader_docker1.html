<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>Evaluator Report</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
    :root {
        --bg: #ffffff;
        --text: #222222;
        --muted: #666666;
        --panel: #f8f9fb;
        --accent: #2b6cb0;
        --pass: #e6ffe6;
        --fail: #fff1f0;
        --error-bg: #fff7f6;
    }
    body.dark {
        --bg: #111216;
        --text: #e6eef8;
        --muted: #9aa7b2;
        --panel: #0f1114;
        --accent: #4aa3ff;
        --pass: #0b2b0b;
        --fail: #3a0f0f;
        --error-bg: #2a0b0b;
    }
    body { background: var(--bg); color: var(--text); font-family: Inter, Arial, sans-serif; margin: 18px; }
    h1, h2, h3, h4 { margin: 6px 0; }
    .controls { display:flex; flex-wrap:wrap; gap:8px; align-items:center; margin-bottom:12px; }
    select, button, input[type="search"] { padding: 8px; font-size:14px; border-radius:6px; border:1px solid #ccc; }
    .controls .spacer { flex:1 1 auto; }
    .panel { background: var(--panel); padding: 12px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.04); margin-bottom: 12px; }
    .student-block { margin-bottom: 12px; padding: 12px; border-radius: 8px; border: 1px solid rgba(0,0,0,0.06); }
    .student-meta { display:flex; gap:12px; flex-wrap:wrap; align-items:center; margin-bottom:8px; }
    .summary-pill { background: #fff; padding:6px 10px; border-radius:999px; font-weight:600; box-shadow:0 1px 4px rgba(0,0,0,0.05); }
    .question-block { margin-top:10px; border-radius:6px; padding:8px; border:1px solid rgba(0,0,0,0.04); background: linear-gradient(90deg, rgba(0,0,0,0.01), transparent); }
    .question-header { display:flex; justify-content:space-between; align-items:center; cursor:pointer; }
    .question-header h4 { margin:0; font-size:15px; }
    .question-details { margin-top:8px; display:none; }
    table { border-collapse: collapse; width:100%; margin-top:8px; }
    th, td { padding: 8px 6px; border-bottom: 1px solid rgba(0,0,0,0.06); text-align:left; font-size:13px; }
    tr.passed td { background: var(--pass); }
    tr.failed td { background: var(--fail); }
    .error-box {
        white-space: normal;
        background: var(--error-bg);
        padding: 8px;
        border-radius: 6px;
        font-family: "Courier New", monospace;
        font-size: 13px;
        line-height: 1.35;
        border: 1px solid rgba(0,0,0,0.06);
    }
    .summary-modal {
        display:none;
        position:fixed;
        left:50%;
        top:10%;
        transform:translateX(-50%);
        width: 80%;
        max-width: 1100px;
        max-height: 78vh;
        overflow:auto;
        background: var(--panel);
        border-radius:10px;
        padding:18px;
        z-index:1002;
        box-shadow: 0 12px 40px rgba(0,0,0,0.3);
    }
    #overlay {
        display:none;
        position:fixed; left:0; top:0; width:100%; height:100%; background:rgba(0,0,0,0.5); z-index:1001;
    }
    .btn { background: var(--accent); color: white; border: none; padding:8px 12px; border-radius:6px; cursor:pointer; }
    .btn.ghost { background: transparent; color:var(--text); border:1px solid rgba(0,0,0,0.08); }
    .toggle { display:inline-flex; align-items:center; gap:8px; }
    .muted { color: var(--muted); font-size:13px; }
    .collapse-indicator { font-size:12px; margin-left:8px; color:var(--muted); }
    @media (max-width: 800px) {
        .controls { flex-direction:column; align-items:stretch; }
    }
</style>

<script>
    function toggleDarkMode() {
        document.body.classList.toggle('dark');
        try { localStorage.setItem('dark', document.body.classList.contains('dark')?'1':'0'); } catch(e){}
    }
    function initDarkModeFromStorage() {
        try {
            if(localStorage.getItem('dark') === '1') document.body.classList.add('dark');
        } catch(e){}
    }
    function filterReports() {
        const studentVal = document.getElementById("studentSelect").value;
        const rollVal = document.getElementById("rollSelect").value;
        const fileVal = document.getElementById("fileSelect").value;
        const searchVal = document.getElementById("searchInput").value.toLowerCase();

        document.querySelectorAll(".student-block").forEach(div => {
            const name = div.dataset.name || "";
            const roll = div.dataset.roll || "";
            const file = div.dataset.file || "";
            const txt = div.innerText.toLowerCase();
            const matches = (
                (studentVal === "" || name === studentVal) &&
                (rollVal === "" || roll === rollVal) &&
                (fileVal === "" || file === fileVal) &&
                (searchVal === "" || txt.indexOf(searchVal) !== -1)
            );
            div.style.display = matches ? "block" : "none";
        });
    }
    function sortStudents() {
        const sortType = document.getElementById("sortSelect").value;
        const container = document.getElementById("reportContainer");
        const blocks = Array.from(container.getElementsByClassName("student-block"));
        blocks.sort((a, b) => {
            const scoreA = parseFloat(a.dataset.total) || 0;
            const scoreB = parseFloat(b.dataset.total) || 0;
            const nameA = (a.dataset.name || "").toLowerCase();
            const nameB = (b.dataset.name || "").toLowerCase();
            const rollA = (a.dataset.roll || "").toLowerCase();
            const rollB = (b.dataset.roll || "").toLowerCase();
            const fileA = (a.dataset.file || "").toLowerCase();
            const fileB = (b.dataset.file || "").toLowerCase();
            switch(sortType) {
                case "marks": return scoreB - scoreA;
                case "name": return nameA.localeCompare(nameB);
                case "roll": return rollA.localeCompare(rollB);
                case "file": return fileA.localeCompare(fileB);
                default: return 0;
            }
        });
        blocks.forEach(b => container.appendChild(b));
    }
    function showSummary() {
        document.getElementById("overlay").style.display = "block";
        document.getElementById("summaryModal").style.display = "block";
    }
    function closeSummary() {
        document.getElementById("overlay").style.display = "none";
        document.getElementById("summaryModal").style.display = "none";
    }
    function toggleDetails(evt, qid) {
        const details = document.getElementById(qid);
        if(!details) return;
        if(details.style.display === "block") {
            details.style.display = "none";
            evt.currentTarget.querySelector(".collapse-indicator").innerText = "+";
        } else {
            details.style.display = "block";
            evt.currentTarget.querySelector(".collapse-indicator").innerText = "−";
        }
    }
    window.addEventListener('DOMContentLoaded', (event) => {
        initDarkModeFromStorage();
        document.querySelectorAll('.question-header').forEach((hdr) => {
            hdr.addEventListener('click', function(e) {
                const qid = this.getAttribute('data-qid');
                toggleDetails({ currentTarget: this }, qid);
            });
        });
    });
</script>
</head>
<body>
<h1>Evaluator Report</h1>

<div class="controls panel">
    <label for="sortSelect">Sort by:</label>
    <select id="sortSelect" onchange="sortStudents()">
        <option value="marks">Total Marks (High → Low)</option>
        <option value="name">Student Name (A → Z)</option>
        <option value="roll">Roll Number (A → Z)</option>
        <option value="file">File Name (A → Z)</option>
    </select>

    <label for="studentSelect">Student:</label>
    <select id="studentSelect" onchange="filterReports()">
        <option value="">-- All Students --</option>
<option value='Anushri'>Anushri</option></select>
    <label for="rollSelect">Roll:</label>
    <select id="rollSelect" onchange="filterReports()">
        <option value="">-- All Rolls --</option>
<option value='2423509'>2423509</option></select>
    <label for="fileSelect">File:</label>
    <select id="fileSelect" onchange="filterReports()">
        <option value="">-- All Files --</option>
<option value='Lohitakksh-2423531-PracticeTest .ipynb'>Lohitakksh-2423531-PracticeTest .ipynb</option></select>
    <input id="searchInput" type="search" placeholder="Search inside reports..." oninput="filterReports()" style="min-width:200px;">
    <div class="spacer"></div>
    <div class="toggle">
        <button class="btn" onclick="showSummary()">Show Summary</button>
        <button class="btn ghost" onclick="sortStudents()">Refresh Sort</button>
        <button class="btn ghost" onclick="filterReports()">Apply Filters</button>
    </div>
    <div style="width:12px;"></div>
    <div style="display:flex; gap:8px; align-items:center;">
        <label class="muted">Dark</label>
        <button class="btn ghost" onclick="toggleDarkMode()">Toggle Dark</button>
    </div>
</div>
<div id="reportContainer">
<div class="student-block panel" data-name="Anushri" data-roll="2423509" data-file="Lohitakksh-2423531-PracticeTest .ipynb" data-total="24.0"><div class='student-meta'><div><h3>Anushri</h3><div class='muted'>Roll: 2423509</div></div><div style='margin-left:auto; display:flex; gap:8px; align-items:center;'><div class='summary-pill'>File: Lohitakksh-2423531-PracticeTest .ipynb</div><div class='summary-pill'>Total: 24.0/24 (100.0%)</div></div></div><div class='question-block'><div class='question-header' data-qid='q_8433308751655592291'><h4>Question: check_number</h4><div class='collapse-indicator'>+</div></div><div class='question-details' id='q_8433308751655592291'><div class='muted' style='margin-bottom:8px;'>Description: **Return:** A string such as `&#x27;Positive&#x27;`, `&#x27;Negative&#x27;`, or `&#x27;Zero&#x27;`</div><table><thead><tr><th style='width:55%'>Assertion</th><th style='width:10%'>Status</th><th style='width:8%'>Score</th><th>Error</th></tr></thead><tbody><tr class='passed'><td>assert check_number(5) == &#x27;Positive&#x27;</td><td>passed</td><td>1.0</td><td></td></tr><tr class='passed'><td>assert check_number(-3) == &#x27;Negative&#x27;</td><td>passed</td><td>1.0</td><td></td></tr><tr class='passed'><td>assert check_number(0) == &#x27;Zero&#x27;</td><td>passed</td><td>1.0</td><td></td></tr></tbody></table></div></div><div class='question-block'><div class='question-header' data-qid='q_6228915513834659199'><h4>Question: numbers_1_to_n</h4><div class='collapse-indicator'>+</div></div><div class='question-details' id='q_6228915513834659199'><div class='muted' style='margin-bottom:8px;'>Description: Example if n = 5 then
**Return:** `[1, 2, 3, 4, 5]`</div><table><thead><tr><th style='width:55%'>Assertion</th><th style='width:10%'>Status</th><th style='width:8%'>Score</th><th>Error</th></tr></thead><tbody><tr class='passed'><td>assert numbers_1_to_n(5) == [1, 2, 3, 4, 5]</td><td>passed</td><td>1.0</td><td></td></tr></tbody></table></div></div><div class='question-block'><div class='question-header' data-qid='q_5224979809036523824'><h4>Question: even_numbers_1_to_n</h4><div class='collapse-indicator'>+</div></div><div class='question-details' id='q_5224979809036523824'><div class='muted' style='margin-bottom:8px;'>Description: Example if n = 11 then
**Return:** `[2, 4, 6, 8, 10]`</div><table><thead><tr><th style='width:55%'>Assertion</th><th style='width:10%'>Status</th><th style='width:8%'>Score</th><th>Error</th></tr></thead><tbody><tr class='passed'><td>assert even_numbers_1_to_n(11) == [2, 4, 6, 8, 10]</td><td>passed</td><td>1.0</td><td></td></tr></tbody></table></div></div><div class='question-block'><div class='question-header' data-qid='q_5658060104704644010'><h4>Question: square_number</h4><div class='collapse-indicator'>+</div></div><div class='question-details' id='q_5658060104704644010'><div class='muted' style='margin-bottom:8px;'>Description: **Example:** For input `4`, return `16`</div><table><thead><tr><th style='width:55%'>Assertion</th><th style='width:10%'>Status</th><th style='width:8%'>Score</th><th>Error</th></tr></thead><tbody><tr class='passed'><td>assert square_number(4) == 16</td><td>passed</td><td>1.0</td><td></td></tr><tr class='passed'><td>assert square_number(0) == 0</td><td>passed</td><td>1.0</td><td></td></tr></tbody></table></div></div><div class='question-block'><div class='question-header' data-qid='q_3439177960892641249'><h4>Question: check_password</h4><div class='collapse-indicator'>+</div></div><div class='question-details' id='q_3439177960892641249'><div class='muted' style='margin-bottom:8px;'>Description: **Example:** Input `&#x27;java&#x27;` → `&#x27;Access Denied&#x27;`; Input `&#x27;python&#x27;` → `&#x27;Access Granted&#x27;`</div><table><thead><tr><th style='width:55%'>Assertion</th><th style='width:10%'>Status</th><th style='width:8%'>Score</th><th>Error</th></tr></thead><tbody><tr class='passed'><td>assert check_password(&#x27;python&#x27;) == &#x27;Access Granted&#x27;</td><td>passed</td><td>1.0</td><td></td></tr><tr class='passed'><td>assert check_password(&#x27;PYTHON&#x27;) == &#x27;Access Denied&#x27;</td><td>passed</td><td>1.0</td><td></td></tr><tr class='passed'><td>assert check_password(&#x27;java&#x27;) == &#x27;Access Denied&#x27;</td><td>passed</td><td>1.0</td><td></td></tr></tbody></table></div></div><div class='question-block'><div class='question-header' data-qid='q_3401718587777316291'><h4>Question: larger_number</h4><div class='collapse-indicator'>+</div></div><div class='question-details' id='q_3401718587777316291'><div class='muted' style='margin-bottom:8px;'>Description: **Example:** Input `(4, 9)` → `9`  
**Return:** The larger number.</div><table><thead><tr><th style='width:55%'>Assertion</th><th style='width:10%'>Status</th><th style='width:8%'>Score</th><th>Error</th></tr></thead><tbody><tr class='passed'><td>assert larger_number(4, 9) == 9</td><td>passed</td><td>1.0</td><td></td></tr><tr class='passed'><td>assert larger_number(10, 3) == 10</td><td>passed</td><td>1.0</td><td></td></tr><tr class='passed'><td>assert larger_number(5, 5) == 5</td><td>passed</td><td>1.0</td><td></td></tr></tbody></table></div></div><div class='question-block'><div class='question-header' data-qid='q_5203996600685270371'><h4>Question: even_or_odd</h4><div class='collapse-indicator'>+</div></div><div class='question-details' id='q_5203996600685270371'><div class='muted' style='margin-bottom:8px;'>Description: **Example:** Input `4` → `&#x27;Even&#x27;`</div><table><thead><tr><th style='width:55%'>Assertion</th><th style='width:10%'>Status</th><th style='width:8%'>Score</th><th>Error</th></tr></thead><tbody><tr class='passed'><td>assert even_or_odd(2) == &#x27;Even&#x27;</td><td>passed</td><td>1.0</td><td></td></tr><tr class='passed'><td>assert even_or_odd(3) == &#x27;Odd&#x27;</td><td>passed</td><td>1.0</td><td></td></tr></tbody></table></div></div><div class='question-block'><div class='question-header' data-qid='q_8496324385824375403'><h4>Question: sum_1_to_n</h4><div class='collapse-indicator'>+</div></div><div class='question-details' id='q_8496324385824375403'><div class='muted' style='margin-bottom:8px;'>Description: **Example:** Input `5` → `15`
because 1+2</div><table><thead><tr><th style='width:55%'>Assertion</th><th style='width:10%'>Status</th><th style='width:8%'>Score</th><th>Error</th></tr></thead><tbody><tr class='passed'><td>assert sum_1_to_n(5) == 15</td><td>passed</td><td>1.0</td><td></td></tr><tr class='passed'><td>assert sum_1_to_n(10) == 55</td><td>passed</td><td>1.0</td><td></td></tr></tbody></table></div></div><div class='question-block'><div class='question-header' data-qid='q_8383885665480895201'><h4>Question: squares_1_to_n</h4><div class='collapse-indicator'>+</div></div><div class='question-details' id='q_8383885665480895201'><div class='muted' style='margin-bottom:8px;'>Description: if n is 5
**Return:** `[1, 4, 9, 16, 25]`</div><table><thead><tr><th style='width:55%'>Assertion</th><th style='width:10%'>Status</th><th style='width:8%'>Score</th><th>Error</th></tr></thead><tbody><tr class='passed'><td>assert squares_1_to_n(5) == [1, 4, 9, 16, 25]</td><td>passed</td><td>1.0</td><td></td></tr></tbody></table></div></div><div class='question-block'><div class='question-header' data-qid='q_6644046717008407536'><h4>Question: count_letter</h4><div class='collapse-indicator'>+</div></div><div class='question-details' id='q_6644046717008407536'><div class='muted' style='margin-bottom:8px;'>Description: **Example:** Input `(&#x27;banana&#x27;, &#x27;a&#x27;)`
**Return:** `3`</div><table><thead><tr><th style='width:55%'>Assertion</th><th style='width:10%'>Status</th><th style='width:8%'>Score</th><th>Error</th></tr></thead><tbody><tr class='passed'><td>assert count_letter(&#x27;banana&#x27;, &#x27;a&#x27;) == 3</td><td>passed</td><td>1.0</td><td></td></tr><tr class='passed'><td>assert count_letter(&#x27;apple&#x27;, &#x27;p&#x27;) == 2</td><td>passed</td><td>1.0</td><td></td></tr><tr class='passed'><td>assert count_letter(&#x27;python&#x27;, &#x27;z&#x27;) == 0</td><td>passed</td><td>1.0</td><td></td></tr></tbody></table></div></div><div class='question-block'><div class='question-header' data-qid='q_4606241309005549009'><h4>Question: average_of_three</h4><div class='collapse-indicator'>+</div></div><div class='question-details' id='q_4606241309005549009'><div class='muted' style='margin-bottom:8px;'>Description: **Example:** Input `(4, 8, 10)` → `7.3333...`  
**Return:** The arithmetic mean of the three numbers.</div><table><thead><tr><th style='width:55%'>Assertion</th><th style='width:10%'>Status</th><th style='width:8%'>Score</th><th>Error</th></tr></thead><tbody><tr class='passed'><td>assert round(average_of_three(4, 8, 10), 2) == 7.33</td><td>passed</td><td>1.0</td><td></td></tr><tr class='passed'><td>assert average_of_three(3, 3, 3) == 3</td><td>passed</td><td>1.0</td><td></td></tr><tr class='passed'><td>assert average_of_three(10, 0, 5) == 5</td><td>passed</td><td>1.0</td><td></td></tr></tbody></table></div></div></div>
</div> <!-- reportContainer -->
<div id="overlay" onclick="closeSummary()"></div>
<div id="summaryModal" class="summary-modal">
    <div style="display:flex; justify-content:space-between; align-items:center;">
        <h2>Student Summary</h2>
        <div><button class="btn ghost" onclick="closeSummary()">Close</button></div>
    </div>
    <div style="margin-top:12px;">
        <table style="width:100%;">
<thead><tr><th>Student</th><th>Roll Number</th><th>Marks Obtained</th><th>Out of</th></tr></thead><tbody><tr><td>Anushri</td><td>2423509</td><td>24.0</td><td>24</td></tr>
            </tbody>
        </table>
    </div>
</div>

<script>
    // small helper to expand all question details if needed
    function expandAll() {
        document.querySelectorAll('.question-details').forEach(d => d.style.display = 'block');
        document.querySelectorAll('.collapse-indicator').forEach(i => i.innerText = '−');
    }
    function collapseAll() {
        document.querySelectorAll('.question-details').forEach(d => d.style.display = 'none');
        document.querySelectorAll('.collapse-indicator').forEach(i => i.innerText = '+');
    }
</script>

</body>
</html>

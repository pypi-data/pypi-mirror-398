Metadata-Version: 2.3
Name: agentic-graph-mem
Version: 1.9.2
Summary: Production-Grade Agent Memory Framework for Agentic AI
Project-URL: Homepage, https://github.com/ameerai/graphmem
Project-URL: Documentation, https://graphmem.readthedocs.io
Project-URL: Repository, https://github.com/ameerai/graphmem
Project-URL: Issues, https://github.com/ameerai/graphmem/issues
Author-email: Ameer AI <ameer@ameerai.com>
License: MIT
License-File: LICENSE
Keywords: agent,agentic-ai,ai,embedding,graphrag,knowledge-graph,llm,memory,neo4j,rag
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Developers
Classifier: Intended Audience :: Science/Research
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Topic :: Scientific/Engineering :: Artificial Intelligence
Classifier: Topic :: Software Development :: Libraries :: Python Modules
Requires-Python: >=3.9
Requires-Dist: networkx>=3.0
Requires-Dist: numpy>=1.21.0
Requires-Dist: pydantic>=2.0.0
Provides-Extra: all
Requires-Dist: anthropic>=0.25.0; extra == 'all'
Requires-Dist: beautifulsoup4>=4.12.0; extra == 'all'
Requires-Dist: libsql>=0.1.0; extra == 'all'
Requires-Dist: neo4j>=5.0.0; extra == 'all'
Requires-Dist: openai>=1.0.0; extra == 'all'
Requires-Dist: pillow>=9.0.0; extra == 'all'
Requires-Dist: psutil>=5.9.0; extra == 'all'
Requires-Dist: pymupdf>=1.23.0; extra == 'all'
Requires-Dist: pytesseract>=0.3.10; extra == 'all'
Requires-Dist: redis>=4.0.0; extra == 'all'
Requires-Dist: requests>=2.31.0; extra == 'all'
Requires-Dist: sentence-transformers>=2.2.0; extra == 'all'
Requires-Dist: torch>=2.0.0; extra == 'all'
Provides-Extra: anthropic
Requires-Dist: anthropic>=0.25.0; extra == 'anthropic'
Provides-Extra: audio
Requires-Dist: openai-whisper>=20231117; extra == 'audio'
Provides-Extra: dev
Requires-Dist: black>=23.0.0; extra == 'dev'
Requires-Dist: mypy>=1.0.0; extra == 'dev'
Requires-Dist: pytest-asyncio>=0.21.0; extra == 'dev'
Requires-Dist: pytest-cov>=4.0.0; extra == 'dev'
Requires-Dist: pytest>=7.0.0; extra == 'dev'
Requires-Dist: ruff>=0.1.0; extra == 'dev'
Provides-Extra: docs
Requires-Dist: beautifulsoup4>=4.12.0; extra == 'docs'
Requires-Dist: openai-whisper>=20231117; extra == 'docs'
Requires-Dist: pillow>=9.0.0; extra == 'docs'
Requires-Dist: pymupdf>=1.23.0; extra == 'docs'
Requires-Dist: pytesseract>=0.3.10; extra == 'docs'
Requires-Dist: requests>=2.31.0; extra == 'docs'
Provides-Extra: gpu
Requires-Dist: psutil>=5.9.0; extra == 'gpu'
Requires-Dist: torch>=2.0.0; extra == 'gpu'
Provides-Extra: libsql
Requires-Dist: libsql>=0.1.0; extra == 'libsql'
Provides-Extra: llm
Requires-Dist: anthropic>=0.25.0; extra == 'llm'
Requires-Dist: openai>=1.0.0; extra == 'llm'
Provides-Extra: local
Requires-Dist: sentence-transformers>=2.2.0; extra == 'local'
Provides-Extra: neo4j
Requires-Dist: neo4j>=5.0.0; extra == 'neo4j'
Provides-Extra: ocr
Requires-Dist: pillow>=9.0.0; extra == 'ocr'
Requires-Dist: pytesseract>=0.3.10; extra == 'ocr'
Provides-Extra: openai
Requires-Dist: openai>=1.0.0; extra == 'openai'
Provides-Extra: pdf
Requires-Dist: pymupdf>=1.23.0; extra == 'pdf'
Provides-Extra: redis
Requires-Dist: redis>=4.0.0; extra == 'redis'
Provides-Extra: storage
Requires-Dist: libsql>=0.1.0; extra == 'storage'
Requires-Dist: neo4j>=5.0.0; extra == 'storage'
Requires-Dist: redis>=4.0.0; extra == 'storage'
Provides-Extra: web
Requires-Dist: beautifulsoup4>=4.12.0; extra == 'web'
Requires-Dist: requests>=2.31.0; extra == 'web'
Description-Content-Type: text/markdown

# ğŸ§  GraphMem

## **The Human Brain for Your AI Agents**

[![PyPI](https://img.shields.io/pypi/v/agentic-graph-mem.svg)](https://pypi.org/project/agentic-graph-mem/)
[![Python 3.9+](https://img.shields.io/badge/python-3.9+-blue.svg)](https://www.python.org/downloads/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![GitHub](https://img.shields.io/badge/github-Al--aminI/GraphMem-blue.svg)](https://github.com/Al-aminI/GraphMem)

> **"Memory is the treasury and guardian of all things."** â€” Cicero

GraphMem is the **first memory system that thinks like a human brain**. It doesn't just store dataâ€”it **forgets**, **consolidates**, **prioritizes**, and **evolves** exactly like biological memory does.

**This is the future of enterprise AI agents.**

---

## ğŸ§¬ Why GraphMem Changes Everything

### The Problem with Current AI Memory

Every production AI agent faces the same crisis:

```
Day 1:     "Who is the CEO?" â†’ "Elon Musk" âœ…
Day 100:   Context window: OVERFLOW ğŸ’¥
Day 365:   "Who is the CEO?" â†’ "John... or was it Jane... maybe Elon?" ğŸ¤¯
```

**Vector databases don't forget.** They accumulate garbage until your agent drowns in irrelevant, conflicting, outdated information.

### The GraphMem Solution: Memory That Thinks

GraphMem implements the **four pillars of human memory**:

| Human Brain | GraphMem | Why It Matters |
|-------------|----------|----------------|
| ğŸ§  **Forgetting Curve** | Memory Decay | Irrelevant memories fade naturally |
| ğŸ”— **Neural Networks** | Knowledge Graph | Relationships between concepts |
| â­ **Importance Weighting** | PageRank Centrality | Hub concepts (Elon Musk) > peripheral ones |
| â° **Episodic Memory** | Temporal Validity | "CEO in 2015" vs "CEO now" |

---

## ğŸš€ Revolutionary Features

### 1. ğŸ•°ï¸ Point-in-Time Memory (Temporal Validity)

**"Who was CEO in 2015?"** â€” No other memory system can answer this.

```python
from datetime import datetime
from graphmem import GraphMem, MemoryConfig

memory = GraphMem(config)

# GraphMem tracks WHEN facts are true
memory.ingest("John Smith was CEO of ACME from 2010 to 2018")
memory.ingest("Jane Doe became CEO of ACME in July 2018")

# Point-in-time queries - like human episodic memory!
memory.query("Who was CEO in 2015?")      # â†’ "John Smith" âœ…
memory.query("Who is CEO now?")           # â†’ "Jane Doe" âœ…
memory.query("Who was CEO in 2019?")      # â†’ "Jane Doe" âœ…
```

**Use Cases:**
- ğŸ“‹ "What contracts were active last quarter?"
- ğŸ‘” "Who was our legal counsel before 2020?"
- ğŸ“ˆ "What was our strategy during COVID?"

### 2. â­ PageRank Centrality (Hub Detection)

GraphMem uses **Google's PageRank algorithm** to identify important entities:

```
Importance Formula: Ï(e) = w1Â·f1 + w2Â·f2 + w3Â·f3 + w4Â·f4

where:
  f1 = Temporal recency    (recent = important)
  f2 = Access frequency    (used often = important)  
  f3 = PageRank centrality (well-connected = important) â† NEW!
  f4 = User feedback       (explicit signals)
```

**Result:** "Elon Musk" (connected to Tesla, SpaceX, Neuralink) scores **3x higher** than "Austin, Texas" (connected only to Tesla HQ).

```python
# PageRank automatically identifies hub entities
Elon Musk:      PR = 1.000 â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  # Hub - many connections
Tesla:          PR = 0.774 â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ       # Important company
Austin:         PR = 0.520 â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ            # Just a location
```

### 3. ğŸ§  Self-Evolution (Like Human Memory)

```python
memory.evolve()  # This single line triggers:
```

| Mechanism | What Happens | Human Equivalent |
|-----------|--------------|------------------|
| **Decay** | Old unused memories fade (importance â†’ 0) | Forgetting curve |
| **Consolidation** | 5 mentions of "user likes Python" â†’ 1 strong memory | Sleep consolidation |
| **Rehydration** | Contradictions resolved ("CEO is John" â†’ "CEO is Jane") | Memory updating |
| **Importance Scoring** | PageRank recalculated | Synaptic strengthening |

**Result:** 80% memory reduction while **keeping what matters**.

### 4. ğŸ¢ Enterprise Multi-Tenant Isolation

**Each user gets their own brain.** Complete data separation.

```python
# Alice's memory
alice = GraphMem(config, user_id="alice", memory_id="chat")
alice.ingest("I work at Google as a senior engineer")

# Bob's memory (COMPLETELY ISOLATED)
bob = GraphMem(config, user_id="bob", memory_id="chat")
bob.ingest("I'm a doctor at Mayo Clinic")

# Alice can NEVER see Bob's data
alice.query("What does Bob do?")  # â†’ "No information found" âœ…

# Bob can NEVER see Alice's data  
bob.query("Where does Alice work?")  # â†’ "No information found" âœ…
```

**Architecture:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Neo4j Global Instance                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚           USER: alice              â”‚            USER: bob                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ¢ Google  â†’ ğŸ‘¤ Alice       â”‚   â”‚   â”‚ ğŸ¥ Mayo Clinic â†’ ğŸ‘¤ Bob     â”‚   â”‚
â”‚  â”‚     â†“                       â”‚   â”‚   â”‚       â†“                     â”‚   â”‚
â”‚  â”‚ ğŸ’¼ Senior Engineer          â”‚   â”‚   â”‚   ğŸ©º Doctor                 â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    Redis Cache (Also Isolated by user_id)                 â”‚
â”‚  alice:query:*  alice:search:*     â”‚     bob:query:*  bob:search:*       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ’¡ The 3-Line API

```python
from graphmem import GraphMem, MemoryConfig

# Initialize (works with ANY OpenAI-compatible API)
config = MemoryConfig(
    llm_provider="openai_compatible",
    llm_api_key="your-key",
    llm_api_base="https://openrouter.ai/api/v1",
    llm_model="google/gemini-2.0-flash-001",
    embedding_provider="openai_compatible",
    embedding_api_key="your-key",
    embedding_api_base="https://openrouter.ai/api/v1",
    embedding_model="openai/text-embedding-3-small",
)

memory = GraphMem(config)

# That's it. 3 methods:
memory.ingest("Tesla is led by CEO Elon Musk...")  # â† Extract knowledge
memory.query("Who is the CEO?")                    # â† Ask questions
memory.evolve()                                    # â† Let memory mature
```

---

## ğŸ—ï¸ Architecture

### High-Level Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                  ğŸ§  GraphMem                                     â”‚
â”‚                         The Human Brain for AI Agents                            â”‚
â”‚                                                                                  â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚   â”‚  ingest()   â”‚        â”‚   query()   â”‚        â”‚  evolve()   â”‚                 â”‚
â”‚   â”‚  Learn new  â”‚        â”‚  Recall +   â”‚        â”‚  Mature     â”‚                 â”‚
â”‚   â”‚  knowledge  â”‚        â”‚  Reasoning  â”‚        â”‚  memories   â”‚                 â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                      â”‚                      â”‚
           â–¼                      â–¼                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           ğŸ” MULTI-TENANT LAYER                                  â”‚
â”‚                                                                                  â”‚
â”‚   Every operation is scoped by: user_id + memory_id                             â”‚
â”‚                                                                                  â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚   â”‚       USER: alice           â”‚    â”‚        USER: bob            â”‚            â”‚
â”‚   â”‚   memory_id: chat_1         â”‚    â”‚    memory_id: chat_1        â”‚            â”‚
â”‚   â”‚   memory_id: notes          â”‚    â”‚    memory_id: work          â”‚            â”‚
â”‚   â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•      â”‚    â”‚    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•     â”‚            â”‚
â”‚   â”‚   Complete isolation âœ…     â”‚    â”‚    Complete isolation âœ…    â”‚            â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ğŸ•¸ï¸ KNOWLEDGE GRAPH ENGINE                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                  â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚   â”‚ ENTITY EXTRACTION â”‚   â”‚   RELATIONSHIP    â”‚   â”‚    COMMUNITY      â”‚         â”‚
â”‚   â”‚                   â”‚   â”‚    DETECTION      â”‚   â”‚    DETECTION      â”‚         â”‚
â”‚   â”‚ â€¢ LLM-powered     â”‚   â”‚                   â”‚   â”‚                   â”‚         â”‚
â”‚   â”‚ â€¢ Named entities  â”‚   â”‚ â€¢ Semantic links  â”‚   â”‚ â€¢ Louvain algo    â”‚         â”‚
â”‚   â”‚ â€¢ Type inference  â”‚   â”‚ â€¢ Temporal bounds â”‚   â”‚ â€¢ Auto-clustering â”‚         â”‚
â”‚   â”‚ â€¢ Descriptions    â”‚   â”‚ â€¢ [t_s, t_e]      â”‚   â”‚ â€¢ LLM summaries   â”‚         â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                                                  â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚   â”‚ ENTITY RESOLUTION â”‚   â”‚    SEMANTIC       â”‚   â”‚   QUERY ENGINE    â”‚         â”‚
â”‚   â”‚                   â”‚   â”‚     SEARCH        â”‚   â”‚                   â”‚         â”‚
â”‚   â”‚ â€¢ Alias merging   â”‚   â”‚                   â”‚   â”‚ â€¢ Multi-hop       â”‚         â”‚
â”‚   â”‚ â€¢ Canonicalizationâ”‚   â”‚ â€¢ Vector index    â”‚   â”‚ â€¢ Cross-cluster   â”‚         â”‚
â”‚   â”‚ â€¢ 95% accuracy    â”‚   â”‚ â€¢ Cosine sim      â”‚   â”‚ â€¢ Context assemblyâ”‚         â”‚
â”‚   â”‚ â€¢ user_id aware   â”‚   â”‚ â€¢ user_id filter  â”‚   â”‚ â€¢ LLM synthesis   â”‚         â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ğŸ”„ EVOLUTION ENGINE                                      â”‚
â”‚                      (Human Memory Simulation)                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                  â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                      â­ PAGERANK CENTRALITY                              â”‚   â”‚
â”‚   â”‚                                                                          â”‚   â”‚
â”‚   â”‚   PR(A) = (1-d) + d Ã— Î£(PR(Ti)/C(Ti))    where d = 0.85                 â”‚   â”‚
â”‚   â”‚                                                                          â”‚   â”‚
â”‚   â”‚   Hub Detection:                                                         â”‚   â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚   â”‚   â”‚ Elon Musk â”€â”€â”€â”€â”€â”¬â”€â”€â”€â†’ Tesla â”€â”€â”€â†’ Austin                          â”‚   â”‚   â”‚
â”‚   â”‚   â”‚    (HUB)       â”œâ”€â”€â”€â†’ SpaceX â”€â”€â”€â†’ Hawthorne                      â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   PR=1.00      â””â”€â”€â”€â†’ Neuralink                                  â”‚   â”‚   â”‚
â”‚   â”‚   â”‚                                                                  â”‚   â”‚   â”‚
â”‚   â”‚   â”‚ PageRank: Elon(1.00) > Tesla(0.77) > SpaceX(0.77) > Austin(0.52)â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                                  â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚    MEMORY DECAY      â”‚  â”‚   CONSOLIDATION      â”‚  â”‚ TEMPORAL VALIDITY  â”‚    â”‚
â”‚   â”‚                      â”‚  â”‚                      â”‚  â”‚                    â”‚    â”‚
â”‚   â”‚ Ebbinghaus Curve:    â”‚  â”‚ LLM-based merging:   â”‚  â”‚ Time bounds:       â”‚    â”‚
â”‚   â”‚                      â”‚  â”‚                      â”‚  â”‚                    â”‚    â”‚
â”‚   â”‚ I(t) = Iâ‚€Â·e^(-Î»t)    â”‚  â”‚ 5 mentions â†’         â”‚  â”‚ valid_from: t_s    â”‚    â”‚
â”‚   â”‚                      â”‚  â”‚ 1 strong memory      â”‚  â”‚ valid_until: t_e   â”‚    â”‚
â”‚   â”‚ Î» = decay rate       â”‚  â”‚                      â”‚  â”‚                    â”‚    â”‚
â”‚   â”‚                      â”‚  â”‚ 80% reduction        â”‚  â”‚ is_valid_at(t)     â”‚    â”‚
â”‚   â”‚ Unused â†’ archived    â”‚  â”‚ while keeping value  â”‚  â”‚ supersede(end)     â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                                  â”‚
â”‚   Importance Formula: Ï(e) = w1Â·f1 + w2Â·f2 + w3Â·f3 + w4Â·f4                      â”‚
â”‚   â”œâ”€â”€ f1: Recency (0.3)     - Recent access = important                         â”‚
â”‚   â”œâ”€â”€ f2: Frequency (0.3)   - Used often = important                            â”‚
â”‚   â”œâ”€â”€ f3: PageRank (0.2)    - Well-connected = important (HUB)                  â”‚
â”‚   â””â”€â”€ f4: User signal (0.2) - Explicit importance                               â”‚
â”‚                                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            ğŸ’¾ STORAGE LAYER                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                       CHOOSE YOUR STORAGE BACKEND                           â”‚â”‚
â”‚  â”‚                                                                             â”‚â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚â”‚
â”‚  â”‚   â”‚  InMemory   â”‚     â”‚   ğŸ”¥ TURSO ğŸ”¥    â”‚     â”‚      NEO4J          â”‚      â”‚â”‚
â”‚  â”‚   â”‚  (Default)  â”‚     â”‚    (Embedded)   â”‚     â”‚    (Enterprise)     â”‚      â”‚â”‚
â”‚  â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”‚â”‚
â”‚  â”‚   â”‚ No persist  â”‚     â”‚ SQLite file     â”‚     â”‚ Full graph DB       â”‚      â”‚â”‚
â”‚  â”‚   â”‚ Zero config â”‚     â”‚ Works offline   â”‚     â”‚ ACID + clustering   â”‚      â”‚â”‚
â”‚  â”‚   â”‚ Dev/testing â”‚     â”‚ Cloud sync opt  â”‚     â”‚ Native Cypher       â”‚      â”‚â”‚
â”‚  â”‚   â”‚ Python vec  â”‚     â”‚ Native vec ğŸš€   â”‚     â”‚ HNSW vec ğŸš€         â”‚      â”‚â”‚
â”‚  â”‚   â”‚             â”‚     â”‚ ~10ms search    â”‚     â”‚ ~5ms search         â”‚      â”‚â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚â”‚
â”‚  â”‚         â”‚                     â”‚                        â”‚                    â”‚â”‚
â”‚  â”‚         â”‚      ALL BACKENDS GET THE SAME FEATURES:     â”‚                    â”‚â”‚
â”‚  â”‚         â”‚   âœ… Multi-tenant  âœ… Temporal validity       â”‚                    â”‚â”‚
â”‚  â”‚         â”‚   âœ… PageRank      âœ… Memory evolution         â”‚                    â”‚â”‚
â”‚  â”‚         â”‚   âœ… Communities   âœ… Entity resolution        â”‚                    â”‚â”‚
â”‚  â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚â”‚
â”‚  â”‚                               â”‚                                             â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                                  â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚         ğŸ—ƒï¸ NEO4J GRAPH                 â”‚   â”‚         âš¡ REDIS CACHE        â”‚ â”‚
â”‚   â”‚         (Enterprise Option)            â”‚   â”‚        (Optional Layer)       â”‚ â”‚
â”‚   â”‚                                        â”‚   â”‚                               â”‚ â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚   â”‚  â”‚      ENTITY NODES               â”‚  â”‚   â”‚  â”‚   EMBEDDING CACHE      â”‚   â”‚ â”‚
â”‚   â”‚  â”‚  â€¢ id, name, type               â”‚  â”‚   â”‚  â”‚                        â”‚   â”‚ â”‚
â”‚   â”‚  â”‚  â€¢ embedding[1536]              â”‚  â”‚   â”‚  â”‚  Key: emb:{text_hash}  â”‚   â”‚ â”‚
â”‚   â”‚  â”‚  â€¢ user_id â† ISOLATION          â”‚  â”‚   â”‚  â”‚  TTL: 24 hours         â”‚   â”‚ â”‚
â”‚   â”‚  â”‚  â€¢ memory_id                    â”‚  â”‚   â”‚  â”‚  3x faster embeddings  â”‚   â”‚ â”‚
â”‚   â”‚  â”‚  â€¢ importance, access_count     â”‚  â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚                               â”‚ â”‚
â”‚   â”‚                                        â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚  â”‚   QUERY CACHE          â”‚   â”‚ â”‚
â”‚   â”‚  â”‚    RELATIONSHIP EDGES           â”‚  â”‚   â”‚  â”‚   (Multi-Tenant!)      â”‚   â”‚ â”‚
â”‚   â”‚  â”‚  â€¢ valid_from  â† TEMPORAL       â”‚  â”‚   â”‚  â”‚                        â”‚   â”‚ â”‚
â”‚   â”‚  â”‚  â€¢ valid_until â† VALIDITY       â”‚  â”‚   â”‚  â”‚  Key: query:{user}:*   â”‚   â”‚ â”‚
â”‚   â”‚  â”‚  â€¢ user_id â† ISOLATION          â”‚  â”‚   â”‚  â”‚  TTL: 5 minutes        â”‚   â”‚ â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚  â”‚  Instant repeat: 0ms   â”‚   â”‚ â”‚
â”‚   â”‚                                        â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚                               â”‚ â”‚
â”‚   â”‚  â”‚  VECTOR INDEX (HNSW)            â”‚  â”‚   â”‚  Auto-Invalidation:           â”‚ â”‚
â”‚   â”‚  â”‚  Dimension: 1536, cosine        â”‚  â”‚   â”‚  â€¢ ingest() â†’ clear cache     â”‚ â”‚
â”‚   â”‚  â”‚  ~5ms similarity search         â”‚  â”‚   â”‚  â€¢ evolve() â†’ clear cache     â”‚ â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚  â€¢ clear()  â†’ clear cache     â”‚ â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                                  â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚   ğŸ”¥ TURSO (SQLite) - RECOMMENDED!    â”‚   â”‚      ğŸ”¥ TURSO CACHE           â”‚ â”‚
â”‚   â”‚      (Edge/Offline Option)            â”‚   â”‚     (Built-in to TursoStore)  â”‚ â”‚
â”‚   â”‚                                        â”‚   â”‚                               â”‚ â”‚
â”‚   â”‚  pip install "agentic-graph-mem[libsql]"  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚   â”‚                                        â”‚   â”‚  â”‚ No Redis needed!       â”‚   â”‚ â”‚
â”‚   â”‚  âœ… Persists to local .db file         â”‚   â”‚  â”‚ SQLite-based cache     â”‚   â”‚ â”‚
â”‚   â”‚  âœ… Works completely offline           â”‚   â”‚  â”‚ TTL support            â”‚   â”‚ â”‚
â”‚   â”‚  âœ… Optional Turso Cloud sync          â”‚   â”‚  â”‚ Multi-tenant keys      â”‚   â”‚ â”‚
â”‚   â”‚  âœ… Native F32_BLOB vector search      â”‚   â”‚  â”‚ Survives restarts      â”‚   â”‚ â”‚
â”‚   â”‚  âœ… ~10ms vector similarity            â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚   â”‚                                        â”‚   â”‚                               â”‚ â”‚
â”‚   â”‚  SAME FEATURES AS NEO4J:              â”‚   â”‚  Great for:                   â”‚ â”‚
â”‚   â”‚  â€¢ Temporal validity âœ…                â”‚   â”‚  â€¢ Edge AI devices           â”‚ â”‚
â”‚   â”‚  â€¢ PageRank centrality âœ…              â”‚   â”‚  â€¢ Offline agents            â”‚ â”‚
â”‚   â”‚  â€¢ Multi-tenant isolation âœ…           â”‚   â”‚  â€¢ Mobile apps               â”‚ â”‚
â”‚   â”‚  â€¢ Point-in-time queries âœ…            â”‚   â”‚  â€¢ Cost-sensitive deploys    â”‚ â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           ğŸ¤– LLM PROVIDERS                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                  â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚  OpenAI  â”‚ â”‚  Azure   â”‚ â”‚Anthropic â”‚ â”‚  Groq    â”‚ â”‚ Together â”‚ â”‚  Ollama  â”‚ â”‚
â”‚   â”‚  GPT-4o  â”‚ â”‚  OpenAI  â”‚ â”‚  Claude  â”‚ â”‚  Llama   â”‚ â”‚    AI    â”‚ â”‚  Local   â”‚ â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                                  â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                    OpenRouter (100+ Models)                              â”‚   â”‚
â”‚   â”‚   google/gemini-2.0-flash â”‚ anthropic/claude-3.5 â”‚ meta-llama/llama-3   â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Data Flow: Ingest â†’ Query â†’ Evolve

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              INGEST FLOW                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Input Document                    Knowledge Extraction                  Storage
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚ "Tesla is    â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶   â”‚ LLM extracts:    â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶  â”‚ Neo4j OR  â”‚
 â”‚  led by CEO  â”‚                  â”‚                  â”‚               â”‚ ğŸ”¥Turso   â”‚
 â”‚  Elon Musk"  â”‚                  â”‚ Entities:        â”‚               â”‚           â”‚
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚ â€¢ Tesla [Org]    â”‚               â”‚ (Tesla)â”€â”€â”€â”‚
        â”‚                          â”‚ â€¢ Elon Musk [Per]â”‚               â”‚     â”‚     â”‚
        â”‚                          â”‚                  â”‚               â”‚     â–¼     â”‚
        â”‚                          â”‚ Relations:       â”‚               â”‚ CEO_OF    â”‚
        â”‚                          â”‚ â€¢ (Elon)â”€CEOâ”€â–¶   â”‚               â”‚     â”‚     â”‚
        â”‚                          â”‚   (Tesla)        â”‚               â”‚     â–¼     â”‚
        â”‚                          â”‚                  â”‚               â”‚ (Elon)    â”‚
        â”‚                          â”‚ Temporal:        â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                          â”‚ â€¢ valid_from=now â”‚                     â”‚
        â”‚                          â”‚ â€¢ valid_until=âˆ  â”‚                     â–¼
        â”‚                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                                   â”‚                         â”‚ Redis OR  â”‚
        â”‚                                   â”‚                         â”‚ TursoCacheâ”‚
        â”‚                                   â–¼                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                          â”‚ Entity Resolutionâ”‚
        â”‚                          â”‚                  â”‚
        â”‚                          â”‚ "Elon" = "Musk"  â”‚
        â”‚                          â”‚ = "Elon Musk"    â”‚
        â”‚                          â”‚ â†’ Canonical: "Elon Musk"
        â”‚                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â””â”€â”€â”€ user_id + memory_id tagged on ALL nodes/edges


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                               QUERY FLOW                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  User Question              Cache Check           Retrieval              Answer
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚ "Who is the  â”‚   â”€â”€â”€â–¶   â”‚  Redis    â”‚  HIT   â”‚           â”‚   â”€â”€â”€â–¶  â”‚ "Elon    â”‚
 â”‚  CEO?"       â”‚          â”‚  Cache    â”‚  â”€â”€â”€â–¶  â”‚  SKIP!    â”‚         â”‚  Musk"   â”‚
 â”‚              â”‚          â”‚           â”‚        â”‚           â”‚         â”‚          â”‚
 â”‚ user: alice  â”‚          â”‚ Key:      â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 â”‚ mem: chat_1  â”‚          â”‚ query:    â”‚
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚ alice:    â”‚  MISS
        â”‚                  â”‚ chat_1:   â”‚  â”€â”€â”€â–¶  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                  â”‚ {hash}    â”‚        â”‚         RETRIEVAL              â”‚
        â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚                                â”‚
        â”‚                                       â”‚  1. Embed query                â”‚
        â”‚                                       â”‚  2. Vector search (Neo4j/Turso)â”‚
        â”‚                                       â”‚     WHERE user_id = 'alice'    â”‚
        â”‚                                       â”‚     AND memory_id = 'chat_1'   â”‚
        â”‚                                       â”‚  3. Get related edges          â”‚
        â”‚                                       â”‚  4. Filter by temporal         â”‚
        â”‚                                       â”‚     is_valid_at(now) âœ…        â”‚
        â”‚                                       â”‚  5. Rank by importance         â”‚
        â”‚                                       â”‚     (PageRank score)           â”‚
        â”‚                                       â”‚  6. Build context              â”‚
        â”‚                                       â”‚  7. LLM generates answer       â”‚
        â”‚                                       â”‚  8. Cache result in Redis      â”‚
        â”‚                                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â””â”€â”€â”€ user_id ensures Alice NEVER sees Bob's data


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              EVOLVE FLOW                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Trigger                    Evolution Cycle                         Result
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚ memory       â”‚   â”€â”€â”€â–¶   â”‚                                â”‚     â”‚            â”‚
 â”‚ .evolve()    â”‚          â”‚  1. PAGERANK RECALCULATION     â”‚     â”‚ â€¢ Hubs     â”‚
 â”‚              â”‚          â”‚     Build graph from edges     â”‚     â”‚   identifiedâ”‚
 â”‚ user: alice  â”‚          â”‚     Compute PR scores          â”‚     â”‚            â”‚
 â”‚              â”‚          â”‚     Update importance          â”‚     â”‚ â€¢ 80%      â”‚
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚                                â”‚     â”‚   memory   â”‚
        â”‚                  â”‚  2. MEMORY DECAY               â”‚     â”‚   reduced  â”‚
        â”‚                  â”‚     I(t) = Iâ‚€ Ã— e^(-Î»t)        â”‚     â”‚            â”‚
        â”‚                  â”‚     Archive if I < 0.1         â”‚     â”‚ â€¢ Conflictsâ”‚
        â”‚                  â”‚                                â”‚     â”‚   resolved â”‚
        â”‚                  â”‚  3. CONSOLIDATION              â”‚     â”‚            â”‚
        â”‚                  â”‚     Find similar memories      â”‚     â”‚ â€¢ Cache    â”‚
        â”‚                  â”‚     LLM merges duplicates      â”‚     â”‚   cleared  â”‚
        â”‚                  â”‚                                â”‚     â”‚            â”‚
        â”‚                  â”‚  4. REHYDRATION                â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                  â”‚     Update contradictions      â”‚
        â”‚                  â”‚     "CEO=John" â†’ "CEO=Jane"    â”‚
        â”‚                  â”‚                                â”‚
        â”‚                  â”‚  5. CACHE INVALIDATION         â”‚
        â”‚                  â”‚     Clear Redis for user       â”‚
        â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â””â”€â”€â”€ Only evolves Alice's data (user_id scoped)
```

### Multi-Tenant Data Isolation

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ğŸ” MULTI-TENANT ARCHITECTURE                                 â”‚
â”‚              (Works identically with Neo4j, Turso, or InMemory)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                  â”‚
â”‚                    STORAGE BACKEND (Neo4j / Turso / InMemory)                    â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                       GLOBAL VECTOR INDEX                                â”‚   â”‚
â”‚   â”‚                    (Entity.embedding, HNSW)                              â”‚   â”‚
â”‚   â”‚                                                                          â”‚   â”‚
â”‚   â”‚   Query: db.index.vector.queryNodes(                                     â”‚   â”‚
â”‚   â”‚            'entity_embedding_index',                                     â”‚   â”‚
â”‚   â”‚            $top_k * 10,     â† Fetch extra for filtering                  â”‚   â”‚
â”‚   â”‚            $query_embedding                                              â”‚   â”‚
â”‚   â”‚          )                                                               â”‚   â”‚
â”‚   â”‚          WHERE node.user_id = $user_id   â† ISOLATION                     â”‚   â”‚
â”‚   â”‚          AND node.memory_id = $memory_id                                 â”‚   â”‚
â”‚   â”‚          RETURN node LIMIT $top_k                                        â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                                  â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚   â”‚         USER: alice           â”‚   â”‚          USER: bob                â”‚     â”‚
â”‚   â”‚                               â”‚   â”‚                                   â”‚     â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚     â”‚
â”‚   â”‚  â”‚    memory: chat_1       â”‚  â”‚   â”‚  â”‚    memory: chat_1           â”‚  â”‚     â”‚
â”‚   â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”     â”‚  â”‚   â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”        â”‚  â”‚     â”‚
â”‚   â”‚  â”‚  â”‚Aliceâ”‚â”€â”€â”€â–¶â”‚Googleâ”‚    â”‚  â”‚   â”‚  â”‚  â”‚ Bob â”‚â”€â”€â”€â–¶â”‚Mayo  â”‚       â”‚  â”‚     â”‚
â”‚   â”‚  â”‚  â””â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”˜     â”‚  â”‚   â”‚  â”‚  â””â”€â”€â”€â”€â”€â”˜    â”‚Clinicâ”‚       â”‚  â”‚     â”‚
â”‚   â”‚  â”‚     â”‚                   â”‚  â”‚   â”‚  â”‚     â”‚       â””â”€â”€â”€â”€â”€â”˜        â”‚  â”‚     â”‚
â”‚   â”‚  â”‚     â–¼                   â”‚  â”‚   â”‚  â”‚     â–¼                      â”‚  â”‚     â”‚
â”‚   â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚  â”‚   â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”                  â”‚  â”‚     â”‚
â”‚   â”‚  â”‚  â”‚Engineerâ”‚             â”‚  â”‚   â”‚  â”‚  â”‚Doctorâ”‚                  â”‚  â”‚     â”‚
â”‚   â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚  â”‚   â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”˜                  â”‚  â”‚     â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚     â”‚
â”‚   â”‚                               â”‚   â”‚                                   â”‚     â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚     â”‚
â”‚   â”‚  â”‚    memory: notes        â”‚  â”‚   â”‚  â”‚    memory: work             â”‚  â”‚     â”‚
â”‚   â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”     â”‚  â”‚   â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”      â”‚  â”‚     â”‚
â”‚   â”‚  â”‚  â”‚Pythonâ”‚â”€â”€â–¶â”‚ ML  â”‚     â”‚  â”‚   â”‚  â”‚  â”‚Patientâ”‚â”€â”€â–¶â”‚Recordâ”‚      â”‚  â”‚     â”‚
â”‚   â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”˜     â”‚  â”‚   â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”˜      â”‚  â”‚     â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚     â”‚
â”‚   â”‚                               â”‚   â”‚                                   â”‚     â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                           REDIS CACHE (ISOLATED)                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                                                                          â”‚   â”‚
â”‚   â”‚   Alice's Keys:                      Bob's Keys:                         â”‚   â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                      â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                          â”‚   â”‚
â”‚   â”‚   query:alice:chat_1:abc123          query:bob:chat_1:xyz789             â”‚   â”‚
â”‚   â”‚   search:alice:chat_1:def456         search:bob:chat_1:uvw321            â”‚   â”‚
â”‚   â”‚   search:alice:notes:ghi789          search:bob:work:rst654              â”‚   â”‚
â”‚   â”‚                                                                          â”‚   â”‚
â”‚   â”‚   Shared (same text = same embedding):                                   â”‚   â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                  â”‚   â”‚
â”‚   â”‚   emb:sha256_of_text â†’ [0.1, 0.2, ...]                                   â”‚   â”‚
â”‚   â”‚                                                                          â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                                  â”‚
â”‚   âœ… Alice can NEVER access Bob's cached queries                                â”‚
â”‚   âœ… Bob can NEVER access Alice's cached queries                                â”‚
â”‚   âœ… Embeddings shared (efficiency) - no sensitive data in embeddings           â”‚
â”‚                                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Temporal Validity Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       â° TEMPORAL VALIDITY                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                  â”‚
â”‚   Every RELATIONSHIP has a time interval: [valid_from, valid_until]             â”‚
â”‚                                                                                  â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                         CEO TRANSITIONS                                  â”‚   â”‚
â”‚   â”‚                                                                          â”‚   â”‚
â”‚   â”‚   Timeline:  2010      2015      2018      2020      2025               â”‚   â”‚
â”‚   â”‚              â”‚         â”‚         â”‚         â”‚         â”‚                   â”‚   â”‚
â”‚   â”‚              â–¼         â–¼         â–¼         â–¼         â–¼                   â”‚   â”‚
â”‚   â”‚                                                                          â”‚   â”‚
â”‚   â”‚   John â”€â”€CEO_OFâ”€â”€â–¶ ACME   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—                             â”‚   â”‚
â”‚   â”‚   valid: [2010-01-01, 2018-06-30]         â•‘                             â”‚   â”‚
â”‚   â”‚                                            â•‘                             â”‚   â”‚
â”‚   â”‚   Jane â”€â”€CEO_OFâ”€â”€â–¶ ACME                   â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•     â”‚   â”‚
â”‚   â”‚   valid: [2018-07-01, NULL]                â† NULL = still current       â”‚   â”‚
â”‚   â”‚                                                                          â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                                  â”‚
â”‚   Point-in-Time Queries:                                                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                                                                          â”‚   â”‚
â”‚   â”‚   Q: "Who was CEO in 2015?"                                              â”‚   â”‚
â”‚   â”‚                                                                          â”‚   â”‚
â”‚   â”‚   1. Find edges WHERE relation_type = 'CEO_OF'                           â”‚   â”‚
â”‚   â”‚   2. Filter: is_valid_at(datetime(2015, 6, 1))                           â”‚   â”‚
â”‚   â”‚      â”œâ”€â”€ John: valid_from=2010 â‰¤ 2015 â‰¤ valid_until=2018 âœ…             â”‚   â”‚
â”‚   â”‚      â””â”€â”€ Jane: valid_from=2018 > 2015 âŒ                                 â”‚   â”‚
â”‚   â”‚   3. Return: "John Smith"                                                â”‚   â”‚
â”‚   â”‚                                                                          â”‚   â”‚
â”‚   â”‚   Q: "Who is CEO now?"                                                   â”‚   â”‚
â”‚   â”‚                                                                          â”‚   â”‚
â”‚   â”‚   1. Filter: is_valid_at(datetime.utcnow())                              â”‚   â”‚
â”‚   â”‚      â”œâ”€â”€ John: valid_until=2018 < now âŒ                                 â”‚   â”‚
â”‚   â”‚      â””â”€â”€ Jane: valid_from=2018 â‰¤ now, valid_until=NULL âœ…                â”‚   â”‚
â”‚   â”‚   2. Return: "Jane Doe"                                                  â”‚   â”‚
â”‚   â”‚                                                                          â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                                  â”‚
â”‚   API:                                                                           â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                                                                          â”‚   â”‚
â”‚   â”‚   # Check validity at any point in time                                  â”‚   â”‚
â”‚   â”‚   edge.is_valid_at(datetime(2015, 6, 1))  # True/False                   â”‚   â”‚
â”‚   â”‚                                                                          â”‚   â”‚
â”‚   â”‚   # Mark relationship as ended                                           â”‚   â”‚
â”‚   â”‚   edge.supersede(end_time=datetime(2018, 6, 30))                         â”‚   â”‚
â”‚   â”‚                                                                          â”‚   â”‚
â”‚   â”‚   # Query edges at specific time                                         â”‚   â”‚
â”‚   â”‚   store.query_edges_at_time(                                             â”‚   â”‚
â”‚   â”‚       memory_id="company_kb",                                            â”‚   â”‚
â”‚   â”‚       query_time=datetime(2015, 6, 1),                                   â”‚   â”‚
â”‚   â”‚       relation_type="CEO_OF"                                             â”‚   â”‚
â”‚   â”‚   )                                                                      â”‚   â”‚
â”‚   â”‚                                                                          â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### File Structure

```
graphmem/
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ memory.py              # GraphMem main class
â”‚   â”œâ”€â”€ memory_types.py        # MemoryNode, MemoryEdge (+ temporal validity)
â”‚   â””â”€â”€ exceptions.py          # Custom exceptions
â”‚
â”œâ”€â”€ graph/
â”‚   â”œâ”€â”€ knowledge_graph.py     # LLM-based extraction
â”‚   â”œâ”€â”€ entity_resolver.py     # Deduplication (user_id aware)
â”‚   â””â”€â”€ community_detector.py  # Topic clustering
â”‚
â”œâ”€â”€ evolution/
â”‚   â”œâ”€â”€ memory_evolution.py    # Evolution orchestrator
â”‚   â”œâ”€â”€ importance_scorer.py   # PageRank + multi-factor scoring
â”‚   â”œâ”€â”€ decay.py               # Ebbinghaus forgetting curve
â”‚   â”œâ”€â”€ consolidation.py       # LLM-based merging (user_id aware)
â”‚   â””â”€â”€ rehydration.py         # Contradiction resolution
â”‚
â”œâ”€â”€ retrieval/
â”‚   â”œâ”€â”€ query_engine.py        # Multi-hop + cross-cluster
â”‚   â”œâ”€â”€ retriever.py           # Context retrieval
â”‚   â””â”€â”€ semantic_search.py     # Vector search (user_id filtered)
â”‚
â”œâ”€â”€ stores/
â”‚   â”œâ”€â”€ neo4j_store.py         # Graph + temporal + HNSW vector index
â”‚   â”œâ”€â”€ turso_store.py         # SQLite + temporal + native vector (NEW!)
â”‚   â”œâ”€â”€ memory_store.py        # In-memory (default)
â”‚   â””â”€â”€ redis_cache.py         # Multi-tenant cache
â”‚
â”œâ”€â”€ llm/
â”‚   â”œâ”€â”€ providers.py           # 10+ LLM providers
â”‚   â””â”€â”€ embeddings.py          # Embedding + cache
â”‚
â””â”€â”€ context/
    â”œâ”€â”€ context_engine.py      # Context assembly
    â”œâ”€â”€ chunker.py             # Semantic chunking
    â””â”€â”€ multimodal.py          # JSON, CSV, Markdown, Code, Web
```

---

## ğŸ“Š Why Enterprise Teams Choose GraphMem

### Production Scale Performance

| Metric | Naive RAG | GraphMem | Advantage |
|--------|-----------|----------|-----------|
| **1K conversations** | ğŸ’¥ Context overflow | âœ… Bounded | Handles growth |
| **10K entities** | O(n) = 2.3s | O(1) = 50ms | **46x faster** |
| **1 year history** | 3,650 entries | ~100 consolidated | **97% reduction** |
| **Entity conflicts** | Duplicates | Auto-resolved | Clean data |
| **Temporal queries** | âŒ Impossible | âœ… Native | Unique capability |

### Cost Efficiency

```
Naive RAG:  Send entire history every query    = $$$$$
GraphMem:   Retrieve only relevant subgraph    = $
                                                 â”€â”€â”€â”€â”€
                                                 99% savings
```

### Enterprise Requirements

| Requirement | GraphMem |
|-------------|----------|
| Multi-tenant isolation | âœ… `user_id` on every node |
| ACID transactions | âœ… Neo4j backend |
| Horizontal scaling | âœ… Neo4j cluster + Redis |
| Audit trail | âœ… Temporal validity history |
| Data sovereignty | âœ… Self-hosted option |

---

## ğŸ”§ Installation

```bash
# Core only (in-memory, for development)
pip install agentic-graph-mem

# ğŸ”¥ RECOMMENDED: Turso (SQLite persistence + offline)
pip install "agentic-graph-mem[libsql]"

# Enterprise: Neo4j + Redis (full graph power)
pip install "agentic-graph-mem[all]"
```

### ğŸ¯ Which Backend Should You Choose?

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         STORAGE BACKEND DECISION TREE                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                  â”‚
â”‚   "Do you need data to persist between restarts?"                               â”‚
â”‚                           â”‚                                                      â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                        â”‚
â”‚              â”‚                         â”‚                                        â”‚
â”‚              NO                       YES                                       â”‚
â”‚              â”‚                         â”‚                                        â”‚
â”‚              â–¼                         â–¼                                        â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    "Do you need complex graph queries                    â”‚
â”‚    â”‚   InMemory      â”‚     (multi-hop traversals, GDS algorithms)?"             â”‚
â”‚    â”‚                 â”‚                 â”‚                                        â”‚
â”‚    â”‚ â€¢ Development   â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚    â”‚ â€¢ Testing       â”‚    â”‚                         â”‚                          â”‚
â”‚    â”‚ â€¢ Quick POCs    â”‚   NO                        YES                         â”‚
â”‚    â”‚ â€¢ Zero config   â”‚    â”‚                         â”‚                          â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â–¼                         â–¼                          â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚                    â”‚   ğŸ”¥ TURSO       â”‚    â”‚   NEO4J         â”‚                  â”‚
â”‚                    â”‚                 â”‚    â”‚                 â”‚                  â”‚
â”‚                    â”‚ â€¢ Edge/offline  â”‚    â”‚ â€¢ Enterprise    â”‚                  â”‚
â”‚                    â”‚ â€¢ Mobile apps   â”‚    â”‚ â€¢ Complex graphsâ”‚                  â”‚
â”‚                    â”‚ â€¢ Single-user   â”‚    â”‚ â€¢ Multi-tenant  â”‚                  â”‚
â”‚                    â”‚ â€¢ No server     â”‚    â”‚ â€¢ Horizontal    â”‚                  â”‚
â”‚                    â”‚ â€¢ Simple setup  â”‚    â”‚   scaling       â”‚                  â”‚
â”‚                    â”‚ â€¢ SQLite-based  â”‚    â”‚ â€¢ ACID + clusterâ”‚                  â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                                                    â”‚                            â”‚
â”‚                                      "Add high-performance caching?"            â”‚
â”‚                                                    â”‚                            â”‚
â”‚                                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚                                          YES              NO                    â”‚
â”‚                                           â”‚               â”‚                    â”‚
â”‚                                           â–¼               â–¼                    â”‚
â”‚                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚                                    â”‚  + REDIS  â”‚    â”‚ Neo4j onlyâ”‚              â”‚
â”‚                                    â”‚  Cache    â”‚    â”‚ (still    â”‚              â”‚
â”‚                                    â”‚           â”‚    â”‚  great!)  â”‚              â”‚
â”‚                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Feature Comparison

| Feature | InMemory | Turso ğŸ”¥ | Neo4j |
|---------|----------|----------|-------|
| **Persistence** | âŒ | âœ… SQLite file | âœ… Server |
| **Works Offline** | âœ… | âœ… | âŒ |
| **Vector Search** | Python | Native `F32_BLOB` | Native HNSW |
| **Cloud Sync** | âŒ | âœ… Optional | âœ… |
| **Setup Complexity** | None | One file path | Server required |
| **Multi-hop Queries** | âœ… NetworkX | âœ… NetworkX | âœ… Native Cypher |
| **PageRank** | âœ… | âœ… | âœ… |
| **Temporal Validity** | âœ… | âœ… | âœ… |
| **Multi-tenant** | âœ… | âœ… | âœ… |
| **Best For** | Dev/Test | Edge/Offline | Enterprise |

---

## ğŸ“– Complete Examples

### Basic Usage (In-Memory)

```python
from graphmem import GraphMem, MemoryConfig

config = MemoryConfig(
    llm_provider="openai_compatible",
    llm_api_key="sk-or-v1-your-key",
    llm_api_base="https://openrouter.ai/api/v1",
    llm_model="google/gemini-2.0-flash-001",
    embedding_provider="openai_compatible",
    embedding_api_key="sk-or-v1-your-key",
    embedding_api_base="https://openrouter.ai/api/v1",
    embedding_model="openai/text-embedding-3-small",
)

memory = GraphMem(config)

# Learn
memory.ingest("Tesla is led by CEO Elon Musk. Founded in 2003.")
memory.ingest("SpaceX, founded by Elon Musk in 2002, builds rockets.")
memory.ingest("Neuralink develops brain-computer interfaces.")

# Recall
response = memory.query("What companies does Elon Musk lead?")
print(response.answer)  # "Elon Musk leads Tesla, SpaceX, and Neuralink."

# Mature
memory.evolve()  # Consolidates, decays, re-ranks importance
```

### With Turso (SQLite Persistence + Offline Support) ğŸ†•

```python
from graphmem import GraphMem, MemoryConfig

# Turso gives you persistence without running Neo4j!
# Data survives restarts, works offline, can sync to cloud

config = MemoryConfig(
    llm_provider="openai_compatible",
    llm_api_key="sk-or-v1-your-key",
    llm_api_base="https://openrouter.ai/api/v1",
    llm_model="google/gemini-2.0-flash-001",
    embedding_provider="openai_compatible",
    embedding_api_key="sk-or-v1-your-key",
    embedding_api_base="https://openrouter.ai/api/v1",
    embedding_model="openai/text-embedding-3-small",
    
    # ğŸ”¥ Just add a file path - that's it!
    turso_db_path="my_agent_memory.db",
    
    # Optional: Sync to Turso Cloud for backups/multi-device
    # turso_url="https://your-db.turso.io",
    # turso_auth_token="your-token",
)

memory = GraphMem(config, user_id="alice")

# All data persists in my_agent_memory.db
memory.ingest("Alice is a software engineer at Google.")
memory.save()  # Data survives restart!

# Later, in a new session:
memory2 = GraphMem(config, user_id="alice")
response = memory2.query("Where does Alice work?")  # Still knows! âœ…
```

**Why Turso over InMemory?**
- âœ… Data survives restarts (SQLite file)
- âœ… Works offline (no network needed)
- âœ… Optional cloud sync (Turso Cloud)
- âœ… No server to manage (unlike Neo4j)
- âœ… Per-user database files (true isolation)

### Production: Multi-Tenant Chat System

```python
from graphmem import GraphMem, MemoryConfig

# Base config (shared across all users)
base_config = MemoryConfig(
    llm_provider="openai_compatible",
    llm_api_key="sk-or-v1-your-key",
    llm_api_base="https://openrouter.ai/api/v1",
    llm_model="google/gemini-2.0-flash-001",
    embedding_provider="openai_compatible",
    embedding_api_key="sk-or-v1-your-key",
    embedding_api_base="https://openrouter.ai/api/v1",
    embedding_model="openai/text-embedding-3-small",
    # Production storage
    neo4j_uri="neo4j+ssc://xxx.databases.neo4j.io",
    neo4j_username="neo4j",
    neo4j_password="your-password",
    redis_url="redis://default:password@your-redis.cloud.redislabs.com:17983",
)

class ChatService:
    def get_memory(self, user_id: str, session_id: str) -> GraphMem:
        """Each user gets isolated memory."""
        return GraphMem(
            base_config,
            user_id=user_id,      # â† Complete isolation
            memory_id=session_id,  # â† Per-session memory
        )
    
    def chat(self, user_id: str, session_id: str, message: str) -> str:
        memory = self.get_memory(user_id, session_id)
        
        # Store user message as memory
        memory.ingest(message)
        
        # Generate response using memory
        response = memory.query(message)
        
        return response.answer

# Usage
service = ChatService()

# Alice's session (isolated)
alice_response = service.chat("alice", "session_1", "I'm a software engineer at Google")
alice_response = service.chat("alice", "session_1", "What do I do?")  # â†’ "Software engineer at Google"

# Bob's session (completely separate)
bob_response = service.chat("bob", "session_1", "I'm a doctor")
bob_response = service.chat("bob", "session_1", "What does Alice do?")  # â†’ "No information found"
```

### Temporal Queries: Track Changes Over Time

```python
from datetime import datetime
from graphmem.core.memory_types import MemoryEdge
from graphmem.stores.neo4j_store import Neo4jStore

store = Neo4jStore(uri, user, password)

# Track CEO transitions
john_ceo = MemoryEdge(
    id="john_ceo",
    source_id="john_smith",
    target_id="acme_corp",
    relation_type="CEO_OF",
    valid_from=datetime(2010, 1, 1),
    valid_until=datetime(2018, 6, 30),  # John left
)

jane_ceo = MemoryEdge(
    id="jane_ceo",
    source_id="jane_doe",
    target_id="acme_corp",
    relation_type="CEO_OF",
    valid_from=datetime(2018, 7, 1),
    valid_until=None,  # Current CEO
)

# Query by time period
ceo_2015 = store.query_edges_at_time(
    memory_id="company_kb",
    query_time=datetime(2015, 6, 1),
    relation_type="CEO_OF"
)
# â†’ Returns John Smith's edge

ceo_now = store.query_edges_at_time(
    memory_id="company_kb",
    query_time=datetime.utcnow(),
    relation_type="CEO_OF"
)
# â†’ Returns Jane Doe's edge

# Mark relationship as ended
store.supersede_relationship(
    memory_id="company_kb",
    edge_id="jane_ceo",
    end_time=datetime(2025, 12, 31)  # Jane leaves
)
```

---

## ğŸ§ª Run the Evaluation

```bash
cd graphmem/evaluation
python run_eval.py
```

Uses [MultiHopRAG dataset](https://huggingface.co/datasets/yixuantt/MultiHopRAG) (2,556 QA samples, 609 documents).

---

## ğŸ”¬ The Science Behind GraphMem

### Ebbinghaus Forgetting Curve
```
importance(t) = importance_0 Ã— e^(-Î» Ã— (t - last_access))
```
Just like human memory, unused information fades exponentially.

### PageRank for Entity Importance
```
PR(A) = (1-d) + d Ã— Î£(PR(Ti)/C(Ti))
```
Hub entities (connected to many concepts) are more importantâ€”exactly like neural hubs in the brain.

### Temporal Validity
```
valid(r, t) = 1[t_s(r) â‰¤ t â‰¤ t_e(r)]
```
Every relationship has a time interval, enabling episodic memory recall.

---

## ğŸ­ Deployment Tiers

| Scale | Users | Strategy | Infrastructure |
|-------|-------|----------|----------------|
| **Development** | 1 | InMemory (no persistence) | Nothing required |
| **Personal/Edge** | 1-10 | ğŸ”¥ Turso (local SQLite) | Single `.db` file per user |
| **Startup** | 1-100 | Turso + Cloud sync | Turso Cloud (free tier) |
| **Growth** | 100-10K | Neo4j + Redis | Neo4j Aura Pro + Redis Cloud |
| **Enterprise** | 10K-100K | Sharded by region | Neo4j Enterprise Cluster |
| **Global** | 100K+ | Database per tenant | Multi-region Neo4j Fabric |

### When to Use Each Storage

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           STORAGE SELECTION GUIDE                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                  â”‚
â”‚  ğŸ§ª DEVELOPMENT / TESTING                                                       â”‚
â”‚     â””â”€â–¶ InMemory (default)                                                      â”‚
â”‚         â€¢ pip install agentic-graph-mem                                         â”‚
â”‚         â€¢ config = MemoryConfig(...)  # No storage params needed                â”‚
â”‚                                                                                  â”‚
â”‚  ğŸ“± EDGE / OFFLINE / SIMPLE APPS                                                â”‚
â”‚     â””â”€â–¶ ğŸ”¥ Turso (RECOMMENDED)                                                  â”‚
â”‚         â€¢ pip install "agentic-graph-mem[libsql]"                               â”‚
â”‚         â€¢ config = MemoryConfig(..., turso_db_path="agent.db")                  â”‚
â”‚         â€¢ Works offline, data persists, no server!                              â”‚
â”‚                                                                                  â”‚
â”‚  ğŸ¢ ENTERPRISE / HIGH-SCALE                                                     â”‚
â”‚     â””â”€â–¶ Neo4j + Redis                                                           â”‚
â”‚         â€¢ pip install "agentic-graph-mem[all]"                                  â”‚
â”‚         â€¢ config = MemoryConfig(..., neo4j_uri=..., redis_url=...)              â”‚
â”‚         â€¢ Complex graph queries, horizontal scaling, ACID                       â”‚
â”‚                                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¦ Dependencies

```bash
# Core (no external services, in-memory only)
pip install agentic-graph-mem

# With Turso (SQLite persistence, offline-first) - SIMPLEST OPTION!
pip install agentic-graph-mem libsql

# With Neo4j persistence (full graph database)
pip install "agentic-graph-mem[neo4j]"

# With Redis caching (high-performance cache)
pip install "agentic-graph-mem[redis]"

# Full production stack (Neo4j + Redis)
pip install "agentic-graph-mem[all]"
```

### Storage Backend Comparison

| Backend | Persistence | Vector Search | Graph Algorithms | Offline | Use Case |
|---------|-------------|---------------|------------------|---------|----------|
| **InMemory** | âŒ | âœ… (in Python) | âœ… (NetworkX) | âœ… | Development, testing |
| **Turso** | âœ… | âœ… (native) | âœ… (NetworkX) | âœ… | Edge/offline AI, simple deploys |
| **Neo4j** | âœ… | âœ… (HNSW) | âœ… (GDS, native) | âŒ | Enterprise, complex graphs |
| **Redis** | âš ï¸ (volatile) | âŒ | âŒ | âŒ | Caching layer only |

---

## ğŸ¯ The Future of AI Memory

GraphMem isn't just another vector database wrapper. It's a **paradigm shift**:

| Old Way | GraphMem Way |
|---------|--------------|
| Store everything | Remember what matters |
| Static forever | Evolves over time |
| No relationships | Rich knowledge graph |
| "Who is CEO?" | "Who was CEO in 2015?" |
| One user fits all | Enterprise multi-tenant |
| Hope for the best | PageRank prioritization |

**The agents of tomorrow will have memories that think.**

---

## ğŸ¤ Contributing

We're building the future of AI memory. Join us!

- ğŸ› [Report bugs](https://github.com/Al-aminI/GraphMem/issues)
- ğŸ’¡ [Request features](https://github.com/Al-aminI/GraphMem/issues)
- ğŸ”€ [Submit PRs](https://github.com/Al-aminI/GraphMem/pulls)

---

## ğŸ“„ License

MIT License - see [LICENSE](LICENSE).

---

## ğŸ™ Acknowledgments

- Inspired by cognitive neuroscience research on human memory
- Built on Neo4j, Redis, Turso (libSQL), and OpenAI
- PageRank algorithm by Larry Page and Sergey Brin
- Turso team for the amazing embedded SQLite with vector search

---

<div align="center">

**Made with ğŸ§  by Al-Amin Ibrahim**

[![GitHub](https://img.shields.io/badge/GitHub-Al--aminI/GraphMem-blue?style=for-the-badge&logo=github)](https://github.com/Al-aminI/GraphMem)
[![PyPI](https://img.shields.io/badge/PyPI-agentic--graph--mem-green?style=for-the-badge&logo=pypi)](https://pypi.org/project/agentic-graph-mem/)

*"Give your AI agents the memory they deserve."*

</div>

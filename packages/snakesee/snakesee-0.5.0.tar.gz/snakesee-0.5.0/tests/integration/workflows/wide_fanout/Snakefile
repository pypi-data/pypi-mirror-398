# Test workflow with wide fan-out (1 -> 20 parallel jobs)
# Tests: many concurrent jobs, parallel event handling

CHUNKS = list(range(1, 21))

rule all:
    input: expand("output/chunk_{n}.done", n=CHUNKS)

rule create_input:
    output: "output/input.txt"
    shell: "echo 'source data' > {output}"

rule process_chunk:
    input: "output/input.txt"
    output: "output/chunk_{n}.done"
    shell: "echo 'processed chunk {wildcards.n}' > {output}"

# Test workflow with grouped jobs
# Tests: GROUP_INFO/GROUP_ERROR events, job grouping

SAMPLES = ["A", "B", "C", "D"]

rule all:
    input: expand("output/{sample}.done", sample=SAMPLES)

rule step1:
    output: "output/{sample}.step1.txt"
    group: "sample_group"
    shell: "echo 'step1 {wildcards.sample}' > {output}"

rule step2:
    input: "output/{sample}.step1.txt"
    output: "output/{sample}.done"
    group: "sample_group"
    shell: "cat {input} > {output} && echo 'step2' >> {output}"

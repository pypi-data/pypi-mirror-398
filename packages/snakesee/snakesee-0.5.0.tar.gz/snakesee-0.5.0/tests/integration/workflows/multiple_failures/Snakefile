# Multiple jobs that fail
# Tests handling of multiple failures in one workflow

rule all:
    input:
        "output/success.txt",
        "output/fail_1.txt",
        "output/fail_2.txt"

rule success_job:
    output:
        "output/success.txt"
    shell:
        """
        echo "This succeeds" > {output}
        """

rule failing_job_1:
    output:
        "output/fail_1.txt"
    shell:
        """
        echo "Failing job 1"
        exit 1
        """

rule failing_job_2:
    output:
        "output/fail_2.txt"
    shell:
        """
        echo "Failing job 2"
        exit 42
        """

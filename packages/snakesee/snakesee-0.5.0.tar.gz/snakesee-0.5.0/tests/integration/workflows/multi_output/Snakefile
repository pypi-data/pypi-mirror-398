# Test workflow with rules that produce multiple outputs
# Tests: output_files handling, multi-output event reporting

SAMPLES = ["A", "B", "C"]

rule all:
    input:
        expand("output/{sample}.stats.txt", sample=SAMPLES),
        expand("output/{sample}.filtered.txt", sample=SAMPLES)

rule process_sample:
    """Rule that produces multiple output files at once."""
    output:
        stats="output/{sample}.stats.txt",
        filtered="output/{sample}.filtered.txt",
        log="output/{sample}.log"
    shell:
        """
        echo 'Stats for {wildcards.sample}' > {output.stats}
        echo 'Filtered data for {wildcards.sample}' > {output.filtered}
        echo 'Processing log' > {output.log}
        """

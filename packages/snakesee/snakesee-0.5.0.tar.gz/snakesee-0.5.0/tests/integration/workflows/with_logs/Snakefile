# Test workflow with log directive (creates separate log files)
# Tests: log file handling, stderr capture

SAMPLES = ["A", "B", "C"]

rule all:
    input: expand("output/{sample}.done", sample=SAMPLES)

rule process_with_log:
    output: "output/{sample}.done"
    log: "logs/{sample}.log"
    shell:
        """
        echo 'Processing {wildcards.sample}...' >&2
        echo 'Step 1' >> {log}
        echo 'Step 2' >> {log}
        echo 'Done {wildcards.sample}' > {output}
        echo 'Completed {wildcards.sample}' >> {log}
        """

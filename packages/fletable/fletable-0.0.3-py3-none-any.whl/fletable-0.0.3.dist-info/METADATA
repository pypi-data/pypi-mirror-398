Metadata-Version: 2.4
Name: fletable
Version: 0.0.3
Summary: Tables that take data from SQL database
Home-page: https://github.com/RichCake/fletable
Author: RichCake
Author-email: abs2016123@gmail.com
Project-URL: GitHub, https://github.com/RichCake/fletable
Keywords: flet sql table
Classifier: Programming Language :: Python :: 3.12
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Requires-Python: >=3.9
Description-Content-Type: text/markdown
Requires-Dist: flet==0.28.3
Requires-Dist: flet-cli==0.28.3
Requires-Dist: flet-desktop==0.28.3
Requires-Dist: flet-web==0.28.3
Dynamic: author
Dynamic: author-email
Dynamic: classifier
Dynamic: description
Dynamic: description-content-type
Dynamic: home-page
Dynamic: keywords
Dynamic: project-url
Dynamic: requires-dist
Dynamic: requires-python
Dynamic: summary

# Fletable

**Fletable** ‚Äî Python-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü —Å –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ SQL-–±–∞–∑ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö –Ω–∞ Flet. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –≤–Ω–µ—à–Ω–∏—Ö –∫–ª—é—á–µ–π –∏ —É–¥–æ–±–Ω—É—é —Ä–∞–±–æ—Ç—É —Å —Ñ–æ—Ä–º–∞–º–∏.

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üìù **–†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º—ã–µ —Ç–∞–±–ª–∏—Ü—ã** ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏–µ, –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π –ø—Ä—è–º–æ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
- üëÄ **–¢–∞–±–ª–∏—Ü—ã —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è** ‚Äî –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –≤—ã–±–æ—Ä–∞ —Å—Ç—Ä–æ–∫
- üîó **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤–Ω–µ—à–Ω–∏—Ö –∫–ª—é—á–µ–π** ‚Äî dropdown-—Å–ø–∏—Å–∫–∏ –¥–ª—è —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü
- üìÖ **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–∞—Ç –∏ –≤—Ä–µ–º–µ–Ω–∏** ‚Äî DatePicker –∏ TimePicker –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –≤–≤–æ–¥–∞ –¥–∞—Ç/–≤—Ä–µ–º–µ–Ω–∏
- üá∑üá∫ **–†–æ—Å—Å–∏–π—Å–∫–∏–π —Ñ–æ—Ä–º–∞—Ç –¥–∞—Ç** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç (dd.mm.yyyy HH:MM)
- ‚úÖ **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≤—ã–±–æ—Ä** ‚Äî —á–µ–∫–±–æ–∫—Å—ã –¥–ª—è –≤—ã–¥–µ–ª–µ–Ω–∏—è —Å—Ç—Ä–æ–∫
- üîç **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö** ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∫–∞ WHERE-—É—Å–ª–æ–≤–∏–π –¥–ª—è –≤—ã–±–æ—Ä–∫–∏
- üîê **–í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Ñ–æ—Ä–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏** ‚Äî –≥–æ—Ç–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –≤—Ö–æ–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- üé® **–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –ø–æ–¥–ø–∏—Å–∏ –ø–æ–ª–µ–π** ‚Äî —É–¥–æ–±–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–º–µ–Ω –∫–æ–ª–æ–Ω–æ–∫

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
pip install fletable
```

–ò–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏–∑ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞:

```bash
git clone <repository-url>
cd fletable
pip install -e .
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º–∞—è —Ç–∞–±–ª–∏—Ü–∞

```python
import flet as ft
import psycopg2
from fletable import EditableTable, FieldConfig, ForeignKeyConfig

def main(page: ft.Page):
    # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
    conn = psycopg2.connect(
        host="localhost",
        database="mydb",
        user="user",
        password="password"
    )
    cursor = conn.cursor()
    
    # –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã
    table = EditableTable(
        cursor=cursor,
        table_name="employees",
        field_mapping={
            "employee_id": "ID",
            "name": "–ò–º—è",
            "email": "Email",
            "department_id": FieldConfig(
                label="–û—Ç–¥–µ–ª",
                foreign_key=ForeignKeyConfig(
                    table="departments",
                    id_column="department_id",
                    label_column="department_name"
                )
            ),
            "hire_date": FieldConfig(label="–î–∞—Ç–∞ –ø—Ä–∏—ë–º–∞", field_type="date"),
            "birth_date": FieldConfig(label="–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è", field_type="date")
        },
        where_clause="active = %s",
        where_params=(True,)
    )
    
    # –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
    add_form, handle_add = table.create_add_form()
    
    def add_record(e):
        success, message = handle_add()
        if success:
            # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
            container.content = table.create_table()
            page.update()
    
    add_button = ft.ElevatedButton("–î–æ–±–∞–≤–∏—Ç—å", on_click=add_record)
    
    # –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å —Ç–∞–±–ª–∏—Ü–µ–π
    container = ft.Container(
        content=table.create_table(),
        padding=10
    )
    
    page.add(
        ft.Column([
            ft.Text("–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏", size=24, weight="bold"),
            add_form,
            add_button,
            container
        ])
    )

ft.app(target=main)
```

### 2. –¢–∞–±–ª–∏—Ü–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è

```python
import flet as ft
from fletable import SqlTable, FieldConfig

def main(page: ft.Page):
    # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
    cursor = conn.cursor()
    
    # –°–æ–∑–¥–∞–Ω–∏–µ read-only —Ç–∞–±–ª–∏—Ü—ã
    table = SqlTable(
        cursor=cursor,
        table_name="products",
        field_mapping={
            "product_id": "ID",
            "product_name": "–ù–∞–∑–≤–∞–Ω–∏–µ",
            "price": "–¶–µ–Ω–∞",
            "category_id": "–ö–∞—Ç–µ–≥–æ—Ä–∏—è",
            "created_at": FieldConfig(label="–°–æ–∑–¥–∞–Ω–æ", field_type="datetime")
        },
        where_clause="price > %s",
        where_params=(100,)
    )
    
    # –ö–Ω–æ–ø–∫–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –≤—ã–¥–µ–ª–µ–Ω–Ω—ã—Ö —Å—Ç—Ä–æ–∫
    def show_selected(e):
        selected = table.get_selected_rows()
        print("–í—ã–±—Ä–∞–Ω–æ –∑–∞–ø–∏—Å–µ–π:", len(selected))
        for row in selected:
            print(row)
    
    page.add(
        ft.Column([
            ft.Container(content=table.create_table(), padding=10),
            ft.ElevatedButton("–ü–æ–∫–∞–∑–∞—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ", on_click=show_selected)
        ])
    )

ft.app(target=main)
```

### 3. –§–æ—Ä–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

```python
import flet as ft
from fletable import LoginView

def main(page: ft.Page):
    def after_login(page):
        # –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—Ö–æ–¥–∞
        page.views.append(
            ft.View("/home", [
                ft.Text("–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!")
            ])
        )
        page.update()
    
    login_view = LoginView(
        page=page,
        user_table="users",
        user_login_col="login",
        user_password_col="password",
        dbapi_cursor=cursor,
        next=after_login,
        user_role_col="role",
        user_role_key="user_role",
        user_id_col="user_id",
        user_id_key="current_user_id"
    )
    
    page.views.append(login_view)
    page.update()

ft.app(target=main)
```

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

### EditableTable

–ö–ª–∞—Å—Å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º—ã—Ö —Ç–∞–±–ª–∏—Ü —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π CRUD-–æ–ø–µ—Ä–∞—Ü–∏–π.

#### –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä

```python
EditableTable(
    cursor,                          # –ö—É—Ä—Å–æ—Ä –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (DB-API 2.0)
    table_name: str,                 # –ò–º—è —Ç–∞–±–ª–∏—Ü—ã –≤ –ë–î
    field_mapping: dict,             # –ú–∞–ø–ø–∏–Ω–≥ –ø–æ–ª–µ–π {column: label –∏–ª–∏ FieldConfig}
    width: int = 800,                # –®–∏—Ä–∏–Ω–∞ —Ç–∞–±–ª–∏—Ü—ã (–ø–∏–∫—Å–µ–ª–µ–π)
    height: int = 400,               # –í—ã—Å–æ—Ç–∞ —Ç–∞–±–ª–∏—Ü—ã (–ø–∏–∫—Å–µ–ª–µ–π)
    where_clause: str | None = None, # WHERE-—É—Å–ª–æ–≤–∏–µ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
    where_params: tuple | None = None # –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è WHERE-—É—Å–ª–æ–≤–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
)
```

#### –ú–µ—Ç–æ–¥—ã

- **`create_table()`** ‚Äî —Å–æ–∑–¥–∞–µ—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `ft.DataTable` —Å –¥–∞–Ω–Ω—ã–º–∏
- **`create_add_form()`** ‚Äî —Å–æ–∑–¥–∞–µ—Ç —Ñ–æ—Ä–º—É –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –∑–∞–ø–∏—Å–µ–π, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `(form_row, handle_add)`
- **`get_selected_rows()`** ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Å–ª–æ–≤–∞—Ä–µ–π —Å –¥–∞–Ω–Ω—ã–º–∏ –≤—ã–¥–µ–ª–µ–Ω–Ω—ã—Ö —Å—Ç—Ä–æ–∫

### SqlTable

–ö–ª–∞—Å—Å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –≤—ã–±–æ—Ä–∞ —Å—Ç—Ä–æ–∫.

#### –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä

```python
SqlTable(
    cursor,                          # –ö—É—Ä—Å–æ—Ä –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
    table_name: str,                 # –ò–º—è —Ç–∞–±–ª–∏—Ü—ã
    field_mapping: dict,             # –ú–∞–ø–ø–∏–Ω–≥ –ø–æ–ª–µ–π
    width: int = 800,
    height: int = 400,
    where_clause: str | None = None, # WHERE-—É—Å–ª–æ–≤–∏–µ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
    where_params: tuple | None = None # –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è WHERE-—É—Å–ª–æ–≤–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
)
```

#### –ú–µ—Ç–æ–¥—ã

- **`create_table()`** ‚Äî —Å–æ–∑–¥–∞–µ—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `ft.DataTable`
- **`get_selected_rows()`** ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏

### FieldConfig

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ–ª–µ–π.

```python
@dataclass
class FieldConfig:
    label: str                                   # –û—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–æ–ª—è
    foreign_key: ForeignKeyConfig | None = None  # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤–Ω–µ—à–Ω–µ–≥–æ –∫–ª—é—á–∞
    field_type: str | None = None                # –¢–∏–ø –ø–æ–ª—è: "text", "date", "datetime", "time"
```

### ForeignKeyConfig

–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–Ω–µ—à–Ω–µ–≥–æ –∫–ª—é—á–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è dropdown-—Å–ø–∏—Å–∫–æ–≤.

```python
@dataclass
class ForeignKeyConfig:
    table: str                       # –ò–º—è —Å–≤—è–∑–∞–Ω–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã
    id_column: str                   # –ö–æ–ª–æ–Ω–∫–∞ —Å ID
    label_column: str                # –ö–æ–ª–æ–Ω–∫–∞ —Å –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º
```

### LoginView

–ì–æ—Ç–æ–≤–∞—è —Ñ–æ—Ä–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

```python
LoginView(
    page: ft.Page,                   # –û–±—ä–µ–∫—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã Flet
    user_table: str,                 # –¢–∞–±–ª–∏—Ü–∞ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
    user_login_col: str,             # –ö–æ–ª–æ–Ω–∫–∞ —Å –ª–æ–≥–∏–Ω–æ–º
    user_password_col: str,          # –ö–æ–ª–æ–Ω–∫–∞ —Å –ø–∞—Ä–æ–ª–µ–º
    dbapi_cursor,                    # –ö—É—Ä—Å–æ—Ä –ë–î
    next: callable,                  # –§—É–Ω–∫—Ü–∏—è –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—Ö–æ–¥–∞
    user_role_col: str = None,       # –ö–æ–ª–æ–Ω–∫–∞ —Å —Ä–æ–ª—å—é (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
    user_role_key: str = None,       # –ö–ª—é—á –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–æ–ª–∏ –≤ page.client_storage
    user_id_col: str = None,         # –ö–æ–ª–æ–Ω–∫–∞ —Å ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
    user_id_key: str = None          # –ö–ª—é—á –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è ID –≤ page.client_storage
)
```

## üîß –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤–Ω–µ—à–Ω–∏—Ö –∫–ª—é—á–µ–π

Fletable –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç dropdown-—Å–ø–∏—Å–∫–∏ –¥–ª—è –ø–æ–ª–µ–π —Å –∏–º–µ–Ω–∞–º–∏, –∑–∞–∫–∞–Ω—á–∏–≤–∞—é—â–∏–º–∏—Å—è –Ω–∞ `_id` (–∫—Ä–æ–º–µ –ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞ —Ç–∞–±–ª–∏—Ü—ã).

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

- –ü–æ–ª–µ –¥–æ–ª–∂–Ω–æ –∑–∞–∫–∞–Ω—á–∏–≤–∞—Ç—å—Å—è –Ω–∞ `_id` (–Ω–∞–ø—Ä–∏–º–µ—Ä: `user_id`, `category_id`)
- –ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å primary key —Å–∞–º–æ–π —Ç–∞–±–ª–∏—Ü—ã (`task_id` –≤ —Ç–∞–±–ª–∏—Ü–µ `tasks` –Ω–µ —Å—Ç–∞–Ω–µ—Ç FK)
- –û–∂–∏–¥–∞–µ—Ç—Å—è —Ç–∞–±–ª–∏—Ü–∞ —Å –∏–º–µ–Ω–µ–º –±–µ–∑ `_id`: `user_id` ‚Üí —Ç–∞–±–ª–∏—Ü–∞ `user`
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—â–µ—Ç –∫–æ–ª–æ–Ω–∫–∏: `user_id` (id) –∏ `user` (–Ω–∞–∑–≤–∞–Ω–∏–µ) –≤ —Ç–∞–±–ª–∏—Ü–µ `user`

### –ü—Ä–∏–º–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏

```python
field_mapping = {
    "order_id": "ID –∑–∞–∫–∞–∑–∞",        # Primary key - –Ω–µ –±—É–¥–µ—Ç dropdown
    "customer_id": "–ö–ª–∏–µ–Ω—Ç",        # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç dropdown –∏–∑ —Ç–∞–±–ª–∏—Ü—ã "customer"
    "product_id": "–¢–æ–≤–∞—Ä"           # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç dropdown –∏–∑ —Ç–∞–±–ª–∏—Ü—ã "product"
}
```

### –ö–∞—Å—Ç–æ–º–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å ForeignKeyConfig

–î–ª—è –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `ForeignKeyConfig`:

```python
field_mapping = {
    "order_id": "ID –∑–∞–∫–∞–∑–∞",
    "customer_id": FieldConfig(
        label="–ö–ª–∏–µ–Ω—Ç",
        foreign_key=ForeignKeyConfig(
            table="customers",           # –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç —à–∞–±–ª–æ–Ω–∞
            id_column="customer_id",     # –ö–æ–ª–æ–Ω–∫–∞ —Å ID
            label_column="full_name"     # –ö–æ–ª–æ–Ω–∫–∞ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è (–Ω–µ "customer")
        )
    )
}
```

## üìÖ –†–∞–±–æ—Ç–∞ —Å –¥–∞—Ç–∞–º–∏ –∏ –≤—Ä–µ–º–µ–Ω–µ–º

Fletable –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —É–¥–æ–±–Ω—ã–π –≤–≤–æ–¥ –¥–∞—Ç –∏ –≤—Ä–µ–º–µ–Ω–∏ —á–µ—Ä–µ–∑ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –ø–∏–∫–µ—Ä—ã —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º.

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–∏–ø—ã

```python
field_mapping = {
    "event_date": FieldConfig(label="–î–∞—Ç–∞ —Å–æ–±—ã—Ç–∏—è", field_type="date"),       # –¢–æ–ª—å–∫–æ –¥–∞—Ç–∞: 13.12.2025
    "created_at": FieldConfig(label="–°–æ–∑–¥–∞–Ω–æ", field_type="datetime"),        # –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è: 13.12.2025 14:30
    "start_time": FieldConfig(label="–í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞", field_type="time")        # –¢–æ–ª—å–∫–æ –≤—Ä–µ–º—è: 14:30
}
```

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **DatePicker** –¥–ª—è –ø–æ–ª–µ–π —Ç–∏–ø–∞ `date` –∏ `datetime`
- **TimePicker** –¥–ª—è –ø–æ–ª–µ–π —Ç–∏–ø–∞ `time` –∏ `datetime`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ —Ä–æ—Å—Å–∏–π—Å–∫–æ–º —Ñ–æ—Ä–º–∞—Ç–µ (dd.mm.yyyy HH:MM)
  - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î –≤ —Ñ–æ—Ä–º–∞—Ç–µ ISO (YYYY-MM-DD HH:MM:SS)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏ –∏–∑ –ë–î

### –ü—Ä–∏–º–µ—Ä —Å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º

```python
table = EditableTable(
    cursor=cursor,
    table_name="schedule",
    field_mapping={
        "id": "ID",
        "event_name": "–°–æ–±—ã—Ç–∏–µ",
        "event_date": FieldConfig(label="–î–∞—Ç–∞", field_type="date"),
        "start_time": FieldConfig(label="–ù–∞—á–∞–ª–æ", field_type="time"),
        "end_time": FieldConfig(label="–ö–æ–Ω–µ—Ü", field_type="time"),
        "created_at": FieldConfig(label="–°–æ–∑–¥–∞–Ω–æ", field_type="datetime")
    }
)
```

## üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

```python
def refresh_table(e):
    container.content = table.create_table()
    page.update()

refresh_button = ft.IconButton(
    icon=ft.Icons.REFRESH,
    on_click=refresh_table
)
```

### –†–∞–±–æ—Ç–∞ —Å –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–º–∏ —Å—Ç—Ä–æ–∫–∞–º–∏

```python
def process_selected(e):
    selected = table.get_selected_rows()
    for row in selected:
        print(f"ID: {row['employee_id']}, Name: {row['name']}")
```

### –ú–∞—Å—Å–æ–≤–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ

```python
def delete_selected(e):
    selected = table.get_selected_rows()
    for row in selected:
        cursor.execute(
            "DELETE FROM employees WHERE employee_id = %s",
            (row['employee_id'],)
        )
    conn.commit()
    refresh_table(e)
```

### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö —Å WHERE

```python
# –ü–æ–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∏–∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –æ—Ç–¥–µ–ª–∞
table = EditableTable(
    cursor=cursor,
    table_name="employees",
    field_mapping={
        "employee_id": "ID",
        "name": "–ò–º—è",
        "department_id": "–û—Ç–¥–µ–ª",
        "active": "–ê–∫—Ç–∏–≤–µ–Ω"
    },
    where_clause="active = %s AND department_id = %s",
    where_params=(True, 5)
)
```

### –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Å–º–µ–Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞

```python
def filter_by_department(e):
    department_id = department_dropdown.value
    
    # –°–æ–∑–¥–∞—ë–º –Ω–æ–≤—É—é —Ç–∞–±–ª–∏—Ü—É —Å —Ñ–∏–ª—å—Ç—Ä–æ–º
    new_table = EditableTable(
        cursor=cursor,
        table_name="employees",
        field_mapping=field_mapping,
        where_clause="department_id = %s",
        where_params=(department_id,)
    )
    
    # –û–±–Ω–æ–≤–ª—è–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
    table_container.content = new_table.create_table()
    page.update()
```

## üóÑÔ∏è –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

Fletable —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±—ã–º–∏ –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–º–∏ DB-API 2.0:

- PostgreSQL (psycopg2)
- MySQL (mysql-connector-python)
- SQLite (sqlite3)
- Oracle
- Microsoft SQL Server

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python >= 3.6
- flet >= 0.28.3
- –î—Ä–∞–π–≤–µ—Ä –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (psycopg2, mysql-connector, –∏ —Ç.–¥.)

## ü§ù –£—á–∞—Å—Ç–∏–µ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

–ú—ã –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ–º –≤–∞—à–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –∏ pull request'—ã!

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

## üë®‚Äçüíª –ê–≤—Ç–æ—Ä

**RichCake**
Email: arseniikarpov.evro@gmail.com

---

‚≠ê –ï—Å–ª–∏ –≤–∞–º –ø–æ–Ω—Ä–∞–≤–∏–ª—Å—è –ø—Ä–æ–µ–∫—Ç, –ø–æ—Å—Ç–∞–≤—å—Ç–µ –∑–≤–µ–∑–¥—É –Ω–∞ GitHub!


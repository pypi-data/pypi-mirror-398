Metadata-Version: 2.4
Name: wrapper-vjwhats
Version: 0.0.6
Summary: Wrapper for vjwhats library to send messages and sent messages
Home-page: https://github.com/Renan-RodriguesDEV/wrapper-vjwhats
Author: Renan Rodrigues
Author-email: renanrodrigues7110@gmail.com
License: MIT
Classifier: Programming Language :: Python :: 3
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Requires-Python: >=3.13.0
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: selenium>=4.39.0
Requires-Dist: pyperclip>=1.11.0
Dynamic: author
Dynamic: author-email
Dynamic: classifier
Dynamic: description
Dynamic: description-content-type
Dynamic: home-page
Dynamic: license
Dynamic: license-file
Dynamic: requires-dist
Dynamic: requires-python
Dynamic: summary

# üì± Wrapper VJWhats

<div align="center">

[![MIT License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)
[![Python](https://img.shields.io/badge/Python-3.13+-blue.svg)](https://www.python.org/)
[![Selenium](https://img.shields.io/badge/Selenium-4.39+-orange.svg)](https://www.selenium.dev/)
[![Version](https://img.shields.io/badge/version-0.0.6-brightgreen.svg)](https://github.com/Renan-RodriguesDEV/wrapper-vjwhats)

**Uma biblioteca Python poderosa para automa√ß√£o do WhatsApp Web via Selenium**

Desenvolvida por [Renan Rodrigues](https://github.com/Renan-RodriguesDEV)
Utilizada principalmente pela VJ Bots para solu√ß√µes de automa√ß√£o

[Instala√ß√£o](#-instala√ß√£o) ‚Ä¢ [Uso R√°pido](#-uso-r√°pido) ‚Ä¢ [Documenta√ß√£o](#-documenta√ß√£o-da-api) ‚Ä¢ [Exemplos](#-exemplos-pr√°ticos)

</div>

---

## ‚ú® Funcionalidades

- üîç **Buscar contatos** - Localizar e abrir conversas por nome de usu√°rio ou n√∫mero
- üí¨ **Enviar mensagens** - Envio program√°tico de mensagens de texto
- üìé **Compartilhar arquivos** - Suporte a imagens, v√≠deos e documentos
- üì• **Baixar imagens** - Download autom√°tico de imagens enviadas no dia
- üì± **Iniciar conversas** - Abrir chat com n√∫meros n√£o salvos
- üóëÔ∏è **Limpar conversas** - Apagar todo hist√≥rico de mensagens de um contato
- üîÑ **Sess√£o persistente** - Manter login usando perfis do Chrome
- üìä **Logging completo** - Sistema de logs detalhado para debugging

## üìã Requisitos

- Python 3.13 ou superior
- Google Chrome instalado
- ChromeDriver compat√≠vel com sua vers√£o do Chrome

## üöÄ Instala√ß√£o

### Via Git (Desenvolvimento)

```bash
# Clone o reposit√≥rio
git clone https://github.com/Renan-RodriguesDEV/wrapper-vjwhats.git
cd wrapper-vjwhats

# Instale as depend√™ncias
pip install -r requirements.txt

# Ou instale em modo desenvolvimento
pip install -e .
```

### Via pip (Futuro)

```bash
pip install wrapper-vjwhats
```

## üéØ Uso R√°pido

```python
from wrapper_vjwhats import WhatsApp
from selenium import webdriver
from selenium.webdriver.chrome.options import Options

# Configurar Chrome com perfil existente (para manter sess√£o do WhatsApp)
chrome_options = Options()
chrome_options.add_argument("user-data-dir=C:/Users/SEU_USUARIO/AppData/Local/Google/Chrome/User Data")
chrome_options.add_argument("profile-directory=Default")

# Inicializar WebDriver
driver = webdriver.Chrome(options=chrome_options)

# Criar inst√¢ncia do WhatsApp
wpp = WhatsApp(browser=driver, time_out=300)

# Enviar mensagem
wpp.find_by_username("Jo√£o Silva")
wpp.send_message("Ol√°! Esta √© uma mensagem autom√°tica.")

# Enviar arquivo
wpp.send_file("./documento.pdf", which=1)

# Fechar quando terminar
# driver.quit()
```

## üìö Documenta√ß√£o da API

### Classe `WhatsApp`

#### Inicializa√ß√£o

```python
WhatsApp(browser: WebDriver = None, time_out: int = 300)
```

**Par√¢metros:**

- `browser`: Inst√¢ncia do Selenium WebDriver
- `time_out`: Tempo limite em segundos para opera√ß√µes de espera (padr√£o: 300)

---

### üîß M√©todos Principais

#### `find_by_username(username: str) -> bool`

Localiza e abre uma conversa com um contato espec√≠fico.

**Par√¢metros:**

- `username`: Nome do contato ou n√∫mero de telefone

**Retorna:** `True` se o contato foi encontrado, `False` caso contr√°rio

**Exemplo:**

```python
if wpp.find_by_username("Maria Santos"):
    print("Conversa aberta com sucesso!")
```

---

#### `send_message(message: str) -> str`

Envia uma mensagem de texto para o chat atual.

**Par√¢metros:**

- `message`: Texto da mensagem a ser enviada

**Retorna:** C√≥digo de status:

- `"1"`: Mensagem enviada com sucesso
- `"3"`: Erro ao enviar
- `"4"`: Contato n√£o encontrado

**Exemplo:**

```python
status = wpp.send_message("Ol√°, tudo bem?")
if status == "1":
    print("Mensagem enviada!")
```

---

#### `send_file(attachment: str, which: int) -> int`

Envia um arquivo no chat atual.

**Par√¢metros:**

- `attachment`: Caminho do arquivo (string)
- `which`: Tipo de arquivo
  - `1`: Documento (PDF, TXT, DOCX, etc.)
  - `2`: Imagem ou v√≠deo (JPG, PNG, MP4, etc.)

**Retorna:**

- `1`: Arquivo enviado com sucesso
- `-1`: Erro ao enviar
- `0`: Opera√ß√£o n√£o conclu√≠da

**Exemplo:**

```python
# Enviar documento
wpp.send_file("./relatorio.pdf", which=1)

# Enviar imagem
wpp.send_file("./foto.jpg", which=2)
```

---

#### `start_conversation(mobile: str) -> bool`

Inicia uma nova conversa com um n√∫mero de telefone (mesmo n√£o salvo).

**Par√¢metros:**

- `mobile`: N√∫mero completo com c√≥digo do pa√≠s (ex: `+5511999887766`)

**Retorna:** `True` se a conversa foi iniciada, `False` caso contr√°rio

**Timeout:** 30 segundos

**Exemplo:**

```python
if wpp.start_conversation("+5511999887766"):
    wpp.send_message("Ol√°, esta √© uma mensagem autom√°tica!")
```

---

#### `get_images_sent(limit_images: int = 0) -> int`

Baixa imagens enviadas hoje no chat atual.

**Par√¢metros:**

- `limit_images`: N√∫mero m√°ximo de imagens para baixar (0 = sem limite)

**Retorna:** N√∫mero de imagens baixadas

**Exemplo:**

```python
# Baixar at√© 10 imagens
num_images = wpp.get_images_sent(limit_images=10)
print(f"{num_images} imagens baixadas")
```

---

#### `clear_messages(contact: str)`

Limpa todo o hist√≥rico de mensagens de um contato.

**Par√¢metros:**

- `contact`: Nome do contato

**Exemplo:**

```python
wpp.clear_messages("Grupo Teste")
```

---

#### `clear_search_box()`

Limpa o campo de busca de contatos.

**Exemplo:**

```python
wpp.clear_search_box()
```

---

## üí° Exemplos Pr√°ticos

### Envio em Massa

```python
contatos = ["Jo√£o", "Maria", "Pedro"]
mensagem = "Feliz Natal! üéÑ"

for contato in contatos:
    if wpp.find_by_username(contato):
        wpp.send_message(mensagem)
        print(f"Mensagem enviada para {contato}")
```

### Enviar Documento com Verifica√ß√£o

```python
arquivo = "./relatorio_mensal.pdf"

if arquivo.exists():
    wpp.find_by_username("Gerente")
    resultado = wpp.send_file(arquivo, which=1)

    if resultado == 1:
        print("Relat√≥rio enviado com sucesso!")
    else:
        print("Erro ao enviar relat√≥rio")
```

### Backup de Imagens

```python
# Abrir conversa e baixar todas as imagens de hoje
wpp.find_by_username("Trabalho - Fotos")
total = wpp.get_images_sent()
print(f"Backup conclu√≠do: {total} imagens salvas")
```

### Limpar Conversas Antigas

```python
conversas_antigas = ["Grupo Tempor√°rio", "Chat Teste"]

for conversa in conversas_antigas:
    wpp.clear_messages(conversa)
    print(f"Conversa '{conversa}' limpa")
```

## üîí Melhores Pr√°ticas

### 1. Manter Sess√£o Ativa

```python
# Use sempre um perfil do Chrome para evitar escanear QR code a cada execu√ß√£o
chrome_options = Options()
chrome_options.add_argument("user-data-dir=C:/Users/SEU_USUARIO/AppData/Local/Google/Chrome/User Data")
chrome_options.add_argument("profile-directory=Default")
```

### 2. Tratamento de Erros

```python
try:
    wpp.find_by_username("Contato")
    wpp.send_message("Mensagem")
except Exception as e:
    print(f"Erro: {e}")
```

### 3. Aguardar Carregamento

```python
import time

# D√™ tempo para o WhatsApp Web carregar completamente antes de interagir
time.sleep(5)
```

### 4. Fechar Adequadamente

```python
# Sempre feche o driver ao finalizar
try:
    # ... suas opera√ß√µes ...
finally:
    driver.quit()
```

## üìù Logs

A biblioteca gera logs autom√°ticos em `logs/whatsapp_[PID]_[DATA].log` com informa√ß√µes detalhadas sobre todas as opera√ß√µes.

Exemplo de log:

```
2025-12-24 10:30:15 - whatsapp -- [INFO] >> Successfully fetched chat "Jo√£o Silva"
2025-12-24 10:30:17 - whatsapp -- [INFO] >> 1
2025-12-24 10:30:20 - whatsapp -- [INFO] >> Attachment has been successfully sent to Jo√£o Silva
```

## ü§ù Contribuindo

Contribui√ß√µes s√£o bem-vindas! Siga estes passos:

1. Fork o projeto
2. Crie uma branch para sua feature (`git checkout -b feature/MinhaFeature`)
3. Commit suas mudan√ßas (`git commit -m 'Adiciona MinhaFeature'`)
4. Push para a branch (`git push origin feature/MinhaFeature`)
5. Abra um Pull Request

## ‚ö†Ô∏è Avisos Importantes

- Esta biblioteca interage com o WhatsApp Web, que pode ter seus seletores alterados pelo WhatsApp a qualquer momento
- O uso de automa√ß√£o pode violar os Termos de Servi√ßo do WhatsApp
- Use com responsabilidade e em conformidade com as pol√≠ticas do WhatsApp
- Recomendado para uso pessoal e educacional

## üìÑ Licen√ßa

Este projeto est√° licenciado sob a Licen√ßa MIT - veja o arquivo [LICENSE](LICENSE) para detalhes.

## üë®‚Äçüíª Autor

**Renan Rodrigues**

- GitHub: [@Renan-RodriguesDEV](https://github.com/Renan-RodriguesDEV)
- Email: renanrodrigues7110@gmail.com

## üîó Links √öteis

- [Documenta√ß√£o do Selenium](https://www.selenium.dev/documentation/)
- [WhatsApp Web](https://web.whatsapp.com/)
- [Reposit√≥rio do Projeto](https://github.com/Renan-RodriguesDEV/wrapper-vjwhats)

---

<div align="center">

**Se este projeto foi √∫til para voc√™, considere dar uma ‚≠ê no reposit√≥rio!**

Desenvolvido com ‚ù§Ô∏è por Renan Rodrigues

</div>

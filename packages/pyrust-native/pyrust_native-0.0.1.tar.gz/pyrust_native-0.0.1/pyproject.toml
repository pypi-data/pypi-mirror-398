[build-system]
requires = ["maturin>=1.6,<2.0"]
build-backend = "maturin"

[project]
name = "pyrust-native"
version = "0.0.1"
description = "Python-first auto-optimizer that rustifies hotspots (skeleton repo)"
readme = { file = "README.md", content-type = "text/markdown" }
requires-python = ">=3.10"
license = { text = "MIT" }
authors = [{ name = "PyRust Contributors" }]
maintainers = [{ name = "PyRust Maintainers" }]
keywords = ["rust", "pyo3", "maturin", "cython", "jit", "optimizer"]
classifiers = [
  "Programming Language :: Python :: 3",
  "Programming Language :: Python :: 3.10",
  "Programming Language :: Python :: 3.11",
  "Programming Language :: Python :: 3.12",
  "Programming Language :: Rust",
  "License :: OSI Approved :: MIT License",
  "Operating System :: OS Independent",
]
dependencies = []

[project.urls]
Homepage = "https://github.com/pyrust-dev/pyrust"
Repository = "https://github.com/pyrust-dev/pyrust"
Issues = "https://github.com/pyrust-dev/pyrust/issues"
Documentation = "https://pyrust-dev.github.io/pyrust/"
Changelog = "https://github.com/pyrust-dev/pyrust/blob/main/CHANGELOG.md"
Discussions = "https://github.com/pyrust-dev/pyrust/discussions"
"Release Notes" = "https://github.com/pyrust-dev/pyrust/releases"

[project.scripts]
pyrust-profile = "pyrust.profiler.cli:main"
pyrust-analyze = "pyrust.analyzer.cli:main"

[project.optional-dependencies]
# Paquete recomendado para contributors: linting, pruebas y toolchain de build nativo.
dev = [
  "build>=1.2",
  "pytest>=8",
  "ruff>=0.5",
  "mypy>=1.10",
  "maturin>=1.6,<2.0",
  "ipython>=8",
]
# Tooling mínimo para compilar el módulo nativo.
rust = [
  "maturin>=1.6,<2.0",
]
# Utilidades de consola para ejemplos y debugging rápido.
examples = [
  "ipython>=8",
  "rich>=13",
]
# Tooling para documentación estática.
docs = [
  "mkdocs>=1.5",
  "mkdocs-material>=9.5",
]

[tool.maturin]
include= ["README.md", "LICENSE"]
# Our Rust crate is in ./rust
manifest-path = "rust/Cargo.toml"
# The compiled extension module name (must match rust/src/lib.rs #[pymodule] name)
module-name = "pyrust._native"
python-source = "."
features = ["pyo3/extension-module"]

[tool.ruff]
line-length = 100
target-version = "py310"

[tool.pytest.ini_options]
testpaths = ["tests"]

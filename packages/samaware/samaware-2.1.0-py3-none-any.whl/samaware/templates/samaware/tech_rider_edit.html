{% extends "orga/base.html" %}

{% load i18n %}

{% block extra_title %}{% translate 'Tech Rider' %} :: SamAware :: {% endblock extra_title %}

{% block content %}

<h2 class="d-flex align-items-center">
    {% if object %}
    <span>{% translate 'Tech Rider for' %} {{ quotation_open }}{{ object.submission.title }}{{ quotation_close }}</span>
    <p class="ml-auto">
        <a href="{% url 'plugins:samaware:talk_overview' event=request.event.slug code=object.submission.code %}" class="btn btn-outline-info mt-2">
            <i class="fa fa-info-circle" aria-hidden="true"></i>
            &nbsp;{% translate 'Show Talk' %}
        </a>
    </p>
    {% else %}
    <span>{% translate 'New Tech Rider' %}</span>
    {% endif %}
</h2>

<form method="POST" class="mt-3" novalidate="novalidate">
    {% if object %}
    <div class="row mb-3">
        <div class="col-md-3 text-right pr-0"><strong>{% translate 'Author' %}</strong></div>
        <div class="col-md-9">{{ object.author }}</div>
    </div>
    <div class="row mb-3">
        <div class="col-md-3 text-right pr-0"><strong>{% translate 'Last updated' %}</strong></div>
        <div class="col-md-9">{{ object.updated|date:'l, j M Y, H:i' }}</div>
    </div>
    {% endif %}

    {% csrf_token %}
    {{ form }}

    <div class="submit-group">
        {% if object %}
        <a href="{% url 'plugins:samaware:tech_rider_delete' event=object.event.slug pk=object.pk %}" class="btn btn-lg btn-danger">
            {% translate 'Delete' %}
        </a>
        {% endif %}

        <button type="submit" class="btn btn-lg btn-success ml-auto">
            <i class="fa fa-check" aria-hidden="true"></i>
            {% translate 'Save' %}
        </button>
    </div>
</form>

{% endblock content %}

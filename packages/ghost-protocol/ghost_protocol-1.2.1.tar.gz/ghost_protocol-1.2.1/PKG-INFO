Metadata-Version: 2.4
Name: ghost-protocol
Version: 1.2.1
Summary: The automated guardian of your sanity. Auto-ignores junk & protects repos.
Author-email: Adrena1ine <ghost@vibe.com>
License-Expression: MIT
Project-URL: Homepage, https://github.com/Adrena1ine-ai/Ghost-Protocol
Project-URL: Repository, https://github.com/Adrena1ine-ai/Ghost-Protocol
Project-URL: Bug Tracker, https://github.com/Adrena1ine-ai/Ghost-Protocol/issues
Keywords: git,automation,pre-commit,developer-tools,vibe,cursor,ai-assistant
Classifier: Development Status :: 5 - Production/Stable
Classifier: Environment :: Console
Classifier: Intended Audience :: Developers
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Topic :: Software Development :: Version Control :: Git
Classifier: Topic :: Software Development :: Libraries :: Python Modules
Classifier: Topic :: Utilities
Requires-Python: >=3.8
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: rich>=13.0.0
Requires-Dist: watchdog>=3.0.0
Requires-Dist: pyperclip>=1.8.0
Requires-Dist: google-genai>=0.3.0
Provides-Extra: dev
Requires-Dist: pytest; extra == "dev"
Requires-Dist: black; extra == "dev"
Requires-Dist: mypy; extra == "dev"
Dynamic: license-file

<div align="center">

# ğŸ‘» Ghost Protocol

### *The silent guardian of your AI-assisted workflow*

[![Python 3.8+](https://img.shields.io/badge/python-3.8+-3776AB?style=for-the-badge&logo=python&logoColor=white)](https://www.python.org)
[![License: MIT](https://img.shields.io/badge/license-MIT-green?style=for-the-badge)](LICENSE)
[![PRs Welcome](https://img.shields.io/badge/PRs-welcome-brightgreen?style=for-the-badge)](http://makeapullrequest.com)

<br>

**Stop wasting tokens on garbage files.**<br>
**Stop committing 50MB SQLite databases.**<br>
**Stop explaining to AI why your project has 847 PNG files.**

<br>

[Installation](#-installation) â€¢
[Quick Start](#-quick-start) â€¢
[Features](#-features) â€¢
[Configuration](#%EF%B8%8F-configuration)

<br>

[![PyPI version](https://img.shields.io/pypi/v/ghost-protocol?style=for-the-badge)](https://pypi.org/project/ghost-protocol/)

</div>

---

## ğŸ¤” The Problem

You're vibe-coding with Claude/Cursor/Copilot. Life is good.

Then you notice:
- ğŸ’¸ Token costs are through the roof
- ğŸŒ AI responses are slow because context is bloated  
- ğŸ˜± You accidentally committed a 200MB video file
- ğŸ”„ AI keeps "seeing" your `node_modules` or `__pycache__`

**Ghost Protocol fixes all of this. Automatically. In the background.**

---

## âœ¨ Features

| Feature | What it does |
|---------|--------------|
| ğŸš« **Auto-Ignore** | Detects heavy files (images, videos, databases) and adds them to `.gitignore` + `.cursorignore` |
| ğŸ§¹ **Self-Cleaning** | Removes stale entries when you delete the original files |
| ğŸ›¡ï¸ **Commit Guard** | Blocks `git commit` if you try to push oversized source files |
| ğŸ“Š **Live Monitor** | Beautiful TUI dashboard showing token count & estimated API cost |
| âš¡ **Zero Config** | Works out of the box. Sensible defaults. |
| ğŸ”‡ **Silent** | Runs in background. No notifications. No interruptions. |

---

## ğŸ“¦ Installation

### From PyPI (Recommended)

```bash
pip install ghost-protocol
```

After installation, the `ghost` command will be available globally.

### From Source

```bash
# Clone the repo
git clone https://github.com/Adrena1ine-ai/Ghost-Protocol.git
cd Ghost-Protocol

# Install in development mode
pip install -e .
```

---

## ğŸš€ Quick Start

**Three commands. That's it.**

```bash
# 1. Install the git hook (one time only)
ghost --install

# 2. Start the guardian daemon (run in background)
ghost --ghost

# 3. (Optional) Open the monitor in another terminal
ghost --monitor
```

Now forget about it. Ghost Protocol handles the rest.

---

## ğŸ“Š The Monitor

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ‘» Ghost Protocol v21.0.0 | Status: ACTIVE                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“Š Project Stats           â”‚  ğŸ§  The Brain                  â”‚
â”‚                             â”‚                                â”‚
â”‚  Total Tokens    1,247,832  â”‚  â€¢ Writer: IgnoreManager (DRY) â”‚
â”‚  Files Tracked        342   â”‚  â€¢ Scanner: Auto-updating (30s)â”‚
â”‚  Est. Cost ($3/M)  $3.74    â”‚  â€¢ Config: Cached & Valid      â”‚
â”‚                             â”‚                                â”‚
â”‚                             â”‚  Press Ctrl+C to exit.         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âš™ï¸ Configuration

Create `ghost_config.json` in your project root:

```json
{
  "limits": {
    "max_asset_size_mb": 1.0,
    "max_code_size_mb": 0.5,
    "debounce_seconds": 0.5
  },
  "skip_dirs": ["my_custom_folder", "secrets"],
  "extensions": {
    "garbage": [".custom", ".mybigfile"],
    "code": [".mycode"]
  }
}
```

### Default Settings

| Setting | Default | Description |
|---------|---------|-------------|
| `max_asset_size_mb` | 1.0 | Auto-ignore assets larger than this |
| `max_code_size_mb` | 0.5 | Warn/block code files larger than this |
| `debounce_seconds` | 0.5 | Wait time before processing file changes |

### Pre-configured Skip Directories

```
venv, .venv, node_modules, __pycache__, .git, 
.idea, .vscode, dist, build, coverage, target...
```

### Pre-configured Garbage Extensions

```
.log, .sqlite, .db, .zip, .mp4, .mp3, .pdf, 
.png, .jpg, .gif, .exe, .dll, .bin...
```

---

## ğŸ—ï¸ How It Works

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Watchdog   â”‚â”€â”€â”€â”€â–¶â”‚   Queue     â”‚â”€â”€â”€â”€â–¶â”‚  IgnoreManager  â”‚
â”‚  (Events)   â”‚     â”‚  (Debounce) â”‚     â”‚  (Atomic Write) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                               â”‚
                                               â–¼
                                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                        â”‚ .gitignore  â”‚
                                        â”‚.cursorignoreâ”‚
                                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Key Design Decisions:**
- **Singleton Config** â€” Thread-safe, cached sets for O(1) lookups
- **File Locking** â€” Cross-platform advisory locks (fcntl/msvcrt)
- **Atomic Writes** â€” temp file â†’ os.replace() for data integrity
- **Fail-Closed** â€” Git hook blocks commit on any error

---

## ğŸ§‘â€ğŸ’» For Developers

```bash
# Project structure
ghost-protocol/
â”œâ”€â”€ main.py              # Entry point & CLI
â”œâ”€â”€ requirements.txt     # Dependencies
â””â”€â”€ src/
    â”œâ”€â”€ config.py        # Singleton configuration
    â”œâ”€â”€ core.py          # Logger & console
    â”œâ”€â”€ utils.py         # Atomic write, file locking
    â”œâ”€â”€ watcher.py       # File system events â†’ queue
    â”œâ”€â”€ scanner.py       # Project stats & git integration
    â”œâ”€â”€ pruner.py        # Cleanup stale ignore entries
    â”œâ”€â”€ ignore_manager.py # DRY: single source for ignore logic
    â””â”€â”€ monitor.py       # Rich TUI dashboard
```

---

## ğŸ¤ Contributing

PRs are welcome! Please:

1. Fork the repo
2. Create a feature branch (`git checkout -b feature/amazing`)
3. Commit your changes (`git commit -m 'Add amazing feature'`)
4. Push to the branch (`git push origin feature/amazing`)
5. Open a Pull Request

---

## ğŸ†˜ Troubleshooting

### Command `ghost` not found (Windows)

This is a common issue on Windows when Python Scripts folder is not in PATH.

**Quick fix - Use Python module instead:**
```bash
python -m src --install
python -m src --ghost
```

**Permanent fix - Add Scripts to PATH:**

1. Find your Scripts folder:
   ```powershell
   python -c "import site; import os; print(os.path.join(site.getuserbase(), 'Scripts'))"
   ```

2. Add to PATH temporarily:
   ```powershell
   $env:Path += ";C:\Users\YourName\AppData\Roaming\Python\Python314\Scripts"
   ```

3. Add to PATH permanently:
   - Press `Win + R`, type `sysdm.cpl`, press Enter
   - Go to **Advanced** â†’ **Environment Variables**
   - Under **User variables**, find `Path` â†’ **Edit**
   - Click **New** and add the Scripts path
   - Click **OK** and restart your terminal

### Other Issues

- **Not a git repo**: Make sure you're in a git repository (`git init` if needed)
- **Import errors**: Reinstall with `pip install --upgrade ghost-protocol`

---

## ğŸ“„ License

MIT Â© 2024 â€” Do whatever you want with it.

---

<div align="center">

**Made for vibe coders, by a vibe coder.**

*Because life's too short to manually edit .gitignore*

<br>

â­ Star this repo if Ghost saved your tokens â­

</div>

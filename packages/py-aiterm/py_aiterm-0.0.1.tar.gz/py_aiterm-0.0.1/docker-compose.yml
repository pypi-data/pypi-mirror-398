services:
  stt:
    build:
      context: .
      dockerfile: src/ai_term/stt/Dockerfile
    ports:
      - "8901:8001"
    volumes:
      # Mount models cache to avoid redownloading on every restart
      - ~/.cache/whisper:/root/.cache/whisper
    restart: unless-stopped

  tts:
    build:
      context: .
      dockerfile: src/ai_term/tts/Dockerfile
    ports:
      - "8902:8002"
    volumes:
      # Mount models cache
      - ~/.local/share/tts:/root/.local/share/tts
    restart: unless-stopped

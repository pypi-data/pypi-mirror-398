# SPDX-FileCopyrightText: Peter Pentchev <roam@ringlet.net>
# SPDX-License-Identifier: BSD-2-Clause

[package]
name = "media-type-version"
version = "0.2.1"
rust-version = "1.87"
edition = "2024"
authors = ["Peter Pentchev <roam@ringlet.net>"]
description = "Extract the format version from a media type string"
license = "BSD-2-Clause"
readme = "../../README.md"
repository = "https://gitlab.com/ppentchev/media-type-version"
keywords = ["mediaType", "media-type", "version"]
categories = ["config", "data-structures", "no-std", "no-std::no-alloc", "parser-implementations"]

[package.metadata.cargo-feature-combinations]
exclude_feature_sets = [
  ["facet030-unstable", "facet032-unstable"],
]

[features]
alloc = []
facet030-unstable = ["dep:facet030"]
facet032-unstable = ["dep:facet032"]
extract-from-table = []
json-serialzero0-unstable = ["extract-from-table", "dep:serialzero0"]
toml-boml1 = ["extract-from-table", "dep:boml"]

[dependencies]
boml = { version = "1.0.2", optional = true }
facet030 = { package = "facet", version = "0.30.0", default-features = false, optional = true }
facet032 = { package = "facet", version = "0.32.3", default-features = false, features = ["alloc"], optional = true }
log = { version = "0.4.27", default-features = false }
serialzero0 = { package = "serialzero", version = "0.1", optional = true }

[dev-dependencies]
eyre = "0.6.12"
facet-pretty030 = { package = "facet-pretty", version = "0.30.0", default-features = false }
facet-pretty032 = { package = "facet-pretty", version = "0.32.3", default-features = false }
facet-testhelpers = "0.32.3"

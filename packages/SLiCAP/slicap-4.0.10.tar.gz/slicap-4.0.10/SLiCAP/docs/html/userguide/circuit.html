

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Create a SLiCAP circuit object &mdash; SLiCAP 4.0.10 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=b8a5ba81"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Schematic capture for SLiCAP" href="schematics.html" />
    <link rel="prev" title="Download, install, configure and test SLiCAP" href="install.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            SLiCAP
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction/SLiCAPintroduction.html">SLiCAP Version 4.0</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="SLiCAPuserguide.html">SLiCAP User Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="install.html">Download, install, configure and test SLiCAP</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Create a SLiCAP circuit object</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#netlist">Netlist</a></li>
<li class="toctree-l3"><a class="reference internal" href="#configuring-schematic-capture-programs">Configuring schematic capture programs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id1">KiCAD</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id2">LTspice</a></li>
<li class="toctree-l4"><a class="reference internal" href="#gschem">gSchem</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id4">Lepton-EDA</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#reserved-component-names">Reserved component names</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#noise-analysis-donoise">noise analysis: doNoise()</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dcvar-analysis-dodcvar">dcvar analysis: doDCvar()</a></li>
<li class="toctree-l4"><a class="reference internal" href="#time-analysis-dotime">time analysis: doTime()</a></li>
<li class="toctree-l4"><a class="reference internal" href="#balanced-circuits">balanced circuits</a></li>
<li class="toctree-l4"><a class="reference internal" href="#slicap-reserved-variables">SLiCAP reserved variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="#slicap-global-parameters">SLiCAP global parameters</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#display-schematics-on-html-pages-and-in-latex-reports">Display schematics on html pages and in LaTeX reports</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#converting-and-scaling-pdf-images">Converting and scaling pdf images</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#schematic-file-locations">Schematic file locations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#obtain-circuit-elements-information">Obtain circuit elements information</a></li>
<li class="toctree-l3"><a class="reference internal" href="#display-circuit-data-on-html-pages-and-in-latex-documents">Display circuit data on HTML pages and in LaTeX documents</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="schematics.html">Schematic capture for SLiCAP</a></li>
<li class="toctree-l2"><a class="reference internal" href="specifications.html">Work with specifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="parameters.html">Work with parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="models.html">Work with models</a></li>
<li class="toctree-l2"><a class="reference internal" href="subcircuit.html">Work with subcircuits</a></li>
<li class="toctree-l2"><a class="reference internal" href="analysis.html">Perform analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="matrices.html">SLiCAP circuit matrix equation</a></li>
<li class="toctree-l2"><a class="reference internal" href="laplace.html">SLiCAP Laplace analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="pz.html">SLiCAP pole-zero analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="time.html">SLiCAP time-domain analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="noise.html">SLiCAP noise analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="dcvar.html">SLiCAP DC and dcvar analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="feedback.html">Work with feedback circuits</a></li>
<li class="toctree-l2"><a class="reference internal" href="balanced.html">Work with balanced circuits</a></li>
<li class="toctree-l2"><a class="reference internal" href="math.html">Work with analysis results</a></li>
<li class="toctree-l2"><a class="reference internal" href="ngspice.html">Interface with NGspice</a></li>
<li class="toctree-l2"><a class="reference internal" href="plots.html">Create plots</a></li>
<li class="toctree-l2"><a class="reference internal" href="reports.html">Create reports</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/SLiCAPtutorials.html">SLiCAP Examples and Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../syntax/SLiCAPnetlistSyntax.html">SLiCAP Netlist Syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/SLiCAPreference.html">SLiCAP Reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">SLiCAP</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="SLiCAPuserguide.html">SLiCAP User Guide</a></li>
      <li class="breadcrumb-item active">Create a SLiCAP circuit object</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/userguide/circuit.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="create-a-slicap-circuit-object">
<h1>Create a SLiCAP circuit object<a class="headerlink" href="#create-a-slicap-circuit-object" title="Link to this heading"></a></h1>
<img alt="../_images/colorCode.svg" src="../_images/colorCode.svg" />
<p>SLiCAP output displayed on this manual page, is generated with the script: <code class="docutils literal notranslate"><span class="pre">circuit.py</span></code>, imported by <code class="docutils literal notranslate"><span class="pre">Manual.py</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="ch">#!/usr/bin/env python3</span>
<span class="linenos">2</span><span class="c1"># -*- coding: utf-8 -*-</span>
<span class="linenos">3</span>
<span class="linenos">4</span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">5</span><span class="sd">circuit.py: SLiCAP script for the HTML help file</span>
<span class="linenos">6</span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">7</span><span class="kn">import</span><span class="w"> </span><span class="nn">SLiCAP</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sl</span>
</pre></div>
</div>
<section id="netlist">
<h2>Netlist<a class="headerlink" href="#netlist" title="Link to this heading"></a></h2>
<p>SLiCAP accepts SPICE-like netlists as input. SLiCAP can create netlist files from schematic files created with:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.kicad.org/">KiCAD</a> (preferred)</p></li>
<li><p><a class="reference external" href="https://www.analog.com/en/resources/design-tools-and-calculators/ltspice-simulator.html">LTspice</a></p></li>
<li><p><a class="reference external" href="https://elektroniq.iqo.uni-hannover.de/doku.php?id=english:geda_for_ms-windows">gSchem for MSWindows</a></p></li>
<li><p><a class="reference external" href="https://github.com/lepton-eda/lepton-eda">Lepton-EDA</a></p></li>
</ul>
<p>To this end, SLiCAP provides symbol libraries for the above programs (see program sections below).</p>
<p>Netlists files can also be created manually using a plain ascii editor.</p>
<p>The SLiCAP netlist syntax slightly deviates from the SPICE netlist syntax; it is described in section <a class="reference external" href="../syntax/SLiCAPnetlistSyntax.html#slicap-netlist-syntax">Device Models</a>.</p>
<p>Creation of a <a class="reference external" href="../reference/SLiCAPprotos.html#SLiCAP.SLiCAPprotos.circuit">SLiCAP circuit object</a> from a schematic file or a netlist file or from a schematic file is performed with the instruction <code class="docutils literal notranslate"><span class="pre">makeCircuit()</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 9</span><span class="c1"># Create a SLiCAP circuit object from a kicad schematic file</span>
<span class="linenos">10</span><span class="c1">#############################################################</span>
<span class="linenos">11</span>
<span class="linenos">12</span><span class="c1"># &#39;makeCircuit()`&#39; also creates an HTML page with circuit data</span>
<span class="linenos">13</span><span class="n">cir</span> <span class="o">=</span> <span class="n">sl</span><span class="o">.</span><span class="n">makeCircuit</span><span class="p">(</span><span class="s2">&quot;kicad/Transimpedance/Transimpedance.kicad_sch&quot;</span><span class="p">,</span> <span class="n">imgWidth</span><span class="o">=</span><span class="mi">350</span><span class="p">)</span>
</pre></div>
</div>
<p>SLiCAP netlist files will obtain the extension “.cir” and are placed in the <code class="docutils literal notranslate"><span class="pre">ini.cir_path</span></code> directory. If a file with extension “.cir” is passed to <code class="docutils literal notranslate"><span class="pre">makeCircuit()</span></code>, no netlist is generated, but the circuit object is created from the existing netlist file.</p>
<p>Below the netlist file created with the above script.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;Transimpedance&quot;</span>
<span class="n">C1</span> <span class="ow">in</span> <span class="mi">0</span> <span class="n">C</span> <span class="n">value</span><span class="o">=</span><span class="p">{</span><span class="n">C_s</span><span class="p">}</span> <span class="n">vinit</span><span class="o">=</span><span class="mi">0</span>
<span class="n">I1</span> <span class="mi">0</span> <span class="ow">in</span> <span class="n">I</span> <span class="n">value</span><span class="o">=</span><span class="p">{</span><span class="n">I_s</span><span class="p">}</span> <span class="n">noise</span><span class="o">=</span><span class="p">{</span><span class="mi">2</span><span class="o">*</span><span class="n">q</span><span class="o">*</span><span class="n">I_D</span><span class="p">}</span> <span class="n">dc</span><span class="o">=</span><span class="p">{</span><span class="o">-</span><span class="n">I_D</span><span class="p">}</span> <span class="n">dcvar</span><span class="o">=</span><span class="p">{</span><span class="n">sigma_ID</span><span class="o">^</span><span class="mi">2</span><span class="p">}</span>
<span class="n">N1</span> <span class="n">out</span> <span class="mi">0</span> <span class="ow">in</span> <span class="mi">0</span> <span class="n">N</span>
<span class="n">R1</span> <span class="ow">in</span> <span class="n">out</span> <span class="n">R</span> <span class="n">value</span><span class="o">=</span><span class="p">{</span><span class="n">R_t</span><span class="p">}</span> <span class="n">noisetemp</span><span class="o">=</span><span class="p">{</span><span class="n">T</span><span class="p">}</span> <span class="n">noiseflow</span><span class="o">=</span><span class="mi">0</span> <span class="n">dcvar</span><span class="o">=</span><span class="p">{</span><span class="n">sigma_R</span><span class="o">^</span><span class="mi">2</span><span class="p">}</span> <span class="n">dcvarlot</span><span class="o">=</span><span class="mi">0</span>
<span class="o">.</span><span class="n">end</span>
</pre></div>
</div>
<p>When using KiCAD or Lepton-EDA, drawing-size images in <code class="docutils literal notranslate"><span class="pre">pdf</span></code> and <code class="docutils literal notranslate"><span class="pre">svg</span></code> format are placed in the <code class="docutils literal notranslate"><span class="pre">img/</span></code> folder of the project directory.</p>
<p>Below the <code class="docutils literal notranslate"><span class="pre">svg</span></code> image file created with the above script.</p>
<a class="reference internal image-reference" href="../_images/Transimpedance.svg"><img alt="../_images/Transimpedance.svg" src="../_images/Transimpedance.svg" style="width: 450px;" />
</a>
<p>SLiCAP selects the netlister from the file extension and the operating system.</p>
<table class="docutils align-default" id="id5">
<caption><span class="caption-number">Table 1 </span><span class="caption-text">Netlist generation</span><a class="headerlink" href="#id5" title="Link to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>File Extension</p></th>
<th class="head"><p>MSWindows netlister</p></th>
<th class="head"><p>Linux and MacOS netlister</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>.kicad_sch</p></td>
<td><p>KiCAD</p></td>
<td><p>KiCAD</p></td>
</tr>
<tr class="row-odd"><td><p>.asc</p></td>
<td><p>LTspice</p></td>
<td><p>LTspice</p></td>
</tr>
<tr class="row-even"><td><p>.sch</p></td>
<td><p>gschem gnetlist noqsi</p></td>
<td><p>Lepton-EDA gnetlist noqsi</p></td>
</tr>
<tr class="row-odd"><td><p>.cir</p></td>
<td><p>Use exsisting netlist</p></td>
<td><p>Use exsisting netlist</p></td>
</tr>
</tbody>
</table>
<p>For a complete description of the function <code class="docutils literal notranslate"><span class="pre">makeCircuit()</span></code> see <a class="reference external" href="../reference/SLiCAPshell.html#SLiCAP.SLiCAPshell.makeCircuit">makeCircuit</a>.</p>
</section>
<section id="configuring-schematic-capture-programs">
<h2>Configuring schematic capture programs<a class="headerlink" href="#configuring-schematic-capture-programs" title="Link to this heading"></a></h2>
<p>Below some notes for configuring schematic capture software for working with SLiCAP.</p>
<section id="id1">
<h3>KiCAD<a class="headerlink" href="#id1" title="Link to this heading"></a></h3>
<p><strong>KiCAD</strong> is the preferred schematic capture tool for SLiCAP. This is because it works on all platforms and supports creation of both <code class="docutils literal notranslate"><span class="pre">pdf</span></code> and <code class="docutils literal notranslate"><span class="pre">svg</span></code> image files.</p>
<div class="admonition-important admonition">
<p class="admonition-title">Important</p>
<p>SLiCAP schematics created with KiCAD, should only comprise symbols from the SLiCAP KiCAD symbol library:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">SLiCAP</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sl</span><span class="o">.</span><span class="n">ini</span><span class="o">.</span><span class="n">kicad_syms</span>
<span class="go">&#39;/home/USR/ENV/lib/python3.12/site-packages/SLiCAP/files/kicad/SLiCAP.kicad_sym&#39;</span>
</pre></div>
</div>
</div>
<p>This library must be added to the KiCAD project.</p>
<ol class="arabic simple">
<li><p>In the KiCAD schematic editor select: Preferences &gt; Manage Symbol Libraries. This will bring up the ‘Symbol Libraries’ Dialog Box.</p></li>
<li><p>There you select the tab: “Project Specific Libraries”</p></li>
<li><p>Click add “+” to add the library</p></li>
<li><p>Enter a Nickname: “SLiCAP” and select the above library path.</p></li>
</ol>
<p>Since this library contains all symbols that can be handled by the netlister, it is good practice to deactivate other libraries. This is done in the ‘Global Libraries’ tab of the ‘Symbol Libraries’ Dialog Box.</p>
<p>For more information see: <a class="reference external" href="schematics.html#kicad">schematic capture with KiCAD</a></p>
</section>
<section id="id2">
<h3>LTspice<a class="headerlink" href="#id2" title="Link to this heading"></a></h3>
<p><strong>LTspice</strong> can also be used for netlist generation.</p>
<div class="admonition-important admonition">
<p class="admonition-title">Important</p>
<p>SLiCAP schematics created with LTspice, should only comprise symbols from the SLiCAP LTspice symbol library:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">SLiCAP</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sl</span><span class="o">.</span><span class="n">ini</span><span class="o">.</span><span class="n">ltspice_syms</span>
<span class="go">&#39;/home/USR/ENV/lib/python3.12/site-packages/SLiCAP/files/LTspice/&#39;</span>
</pre></div>
</div>
<p>This path must be added as LTspice symbol library path.</p>
</div>
<p>LTspice works with Windows and Linux (under Wine). A version for MAC is also available. The MAC version of LTspice differs from the windows version and netlist generation from within the SLiCAP (python) environment for this version is not supported. Netlists can also be generated manually.</p>
<p>Go to <a class="reference external" href="https://www.analog.com/en/resources/design-tools-and-calculators/ltspice-simulator.html">LTspice</a> for the latest version.</p>
<p>For an overview of SLiCAP symbols for LTspice, please view the <a class="reference external" href="../syntax/schematics.html#LTSpice">LTSpice</a> section.</p>
<p><strong>Configure LTspice for use with SLiCAP</strong></p>
<p>SLiCAP circuits should be made with SLiCAP symbols (and not with the default LTspice symbols). LTspice symbols for SLiCAP are placed in the ~/SLiCAP/LTspice folder.</p>
<ol class="arabic">
<li><p>Start LTspice</p></li>
<li><p>On the menu bar click Tools &gt; Control Panel. This will bring up the LTspice control panel:</p>
<img alt="../_images/LTspiceControlPanel.png" src="../_images/LTspiceControlPanel.png" />
</li>
<li><p>On this control panel select the Netlist Options tab and select the options as shown below:</p>
<img alt="../_images/LTspiceControlPanelNetlistOptions.png" src="../_images/LTspiceControlPanelNetlistOptions.png" />
</li>
<li><p>Then select the <code class="docutils literal notranslate"><span class="pre">Sym.</span> <span class="pre">&amp;</span> <span class="pre">Lib.</span> <span class="pre">Search</span> <span class="pre">Paths</span></code> tab and enter the full path to ~/SLiCAP/ltspice. This directory contains all the SLiCAP symbol definitions (‘.asy’ files) for LTspice:</p>
<img alt="../_images/LTspiceControlPanelSymbolPath.png" src="../_images/LTspiceControlPanelSymbolPath.png" />
</li>
<li><p>Then select the Drafting Options tab and change the font size and deselect the “Bold” checkbox as shown below. If you want, you can also select different colors for your schematics.</p>
<img alt="../_images/LTspiceControlPanelFontSettings.png" src="../_images/LTspiceControlPanelFontSettings.png" />
</li>
</ol>
<p>More information about <a class="reference external" href="schematics.html#ltspice">schematic capture with LTspice</a></p>
</section>
<section id="gschem">
<h3>gSchem<a class="headerlink" href="#gschem" title="Link to this heading"></a></h3>
<p>The open source <strong>gSchem</strong> package can also be used in conjunction with SLiCAP. The use of gSchem as front-end for SLiCAP has been tested under Linux and Windows. However, for Linux please use Lepton-EDA instead.</p>
<p>An MSWindows installer for gSchem can be downloaded from: <a class="reference external" href="https://elektroniq.iqo.uni-hannover.de/doku.php?id=english:geda_for_ms-windows">gEDA-20130122.zip</a>. Netlist generation requires the <a class="reference external" href="https://github.com/noqsi/gnet-spice-noqsi/tree/geda-gaf">gnet-spice-noqsi spice netlister</a>. SLiCAP has built-in netlist generation with gSchem and this netlister.</p>
<p>MSWindows installation of gSchem is straightforward: simply extract the downloaded gEDA-20130122.zip archive and run the installer. In the drop down menu of the “Select Components” dialog box select “Program only”, for the rest accept default settings.</p>
<p>The netlister is installed by copying ‘gnet-spice-noqsi.scm’ from the downloaded and extracted archive to: <code class="docutils literal notranslate"><span class="pre">C:\Program</span> <span class="pre">Files</span> <span class="pre">(x86)\gEDA\gEDA\share\gEDA\scheme\gnet-spice-noqsi</span></code>.</p>
<p>You also need to create or modify the file ‘gafrc’ in the <code class="docutils literal notranslate"><span class="pre">~\.gEDA\</span></code> directory. It should have the following content:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>(reset-component-library)
(component-library &quot;C:/Program Files (x86)/gEDA/gEDA/share/gEDA/sym/slicap&quot;)
</pre></div>
</div>
<div class="admonition-important admonition">
<p class="admonition-title">Important</p>
<p>SLiCAP schematics created with gSchem, should only comprise symbols from the SLiCAP gSchem symbol library:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">SLiCAP</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sl</span><span class="o">.</span><span class="n">ini</span><span class="o">.</span><span class="n">ini</span><span class="o">.</span><span class="n">gnetlist_syms</span>
<span class="go">&#39;/home/USER/USER/lib/python3.12/site-packages/SLiCAP/files/gSchem/&#39;</span>
</pre></div>
</div>
</div>
<p>Create a folder <code class="docutils literal notranslate"><span class="pre">C:\Program</span> <span class="pre">Files</span> <span class="pre">(x86)\gEDA\gEDA\share\gEDA\sym\slicap</span></code> and copy the contents of the above the gSchem symbol library to this folder.</p>
<p>If you wish to have a light background you can create or modify the file <code class="docutils literal notranslate"><span class="pre">gschemrc</span></code> in the <code class="docutils literal notranslate"><span class="pre">~\.gEDA\</span></code> directory. Its contents must be:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>(load (build-path geda-rc-path &quot;gschem-colormap-lightbg&quot;)) ; light background
</pre></div>
</div>
<p>Be sure you save these two files <code class="docutils literal notranslate"><span class="pre">gafrc</span></code> and <code class="docutils literal notranslate"><span class="pre">gschemrc</span></code> without any file extension.</p>
<p>For more information see: <a class="reference external" href="schematics.html#gschem">schematic capture with gSchem</a></p>
</section>
<section id="id4">
<h3>Lepton-EDA<a class="headerlink" href="#id4" title="Link to this heading"></a></h3>
<p>Lepton-EDA is a fork of geda-gaf. Please visit <a class="reference external" href="https://github.com/lepton-eda/lepton-eda">https://github.com/lepton-eda/lepton-eda</a> for more information.</p>
<p>For an overview of SLiCAP symbols for Lepton-EDA, please view the above <a class="reference external" href="../syntax/schematics.html#gSchem">gSchem</a> section.</p>
<div class="admonition-important admonition">
<p class="admonition-title">Important</p>
<p>SLiCAP schematics created with Lepton-EDA, should only comprise symbols from the SLiCAP lepton-eda symbol library:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">SLiCAP</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ini</span><span class="o">.</span><span class="n">lepton_eda_syms</span>
<span class="go">&#39;/home/USR/ENV/lib/python3.12/site-packages/SLiCAP/files/lepton-eda/&#39;.</span>
</pre></div>
</div>
<p>This library must be added to lepton-eda.</p>
</div>
<p>Create or modify the file: <code class="docutils literal notranslate"><span class="pre">~/.config/lepton-eda/gafrc</span></code> with the contents:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>(reset-component-library)
(component-library &quot;&lt;path to SLiCAP symbol Library&gt;&quot; &quot;SLiCAP&quot;)
</pre></div>
</div>
<p>If you wish to have a light background, you can create or modify the file <code class="docutils literal notranslate"><span class="pre">~/.config/lepton-eda/gschemrc</span></code> in your home directory with the contents:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>(load (build-path geda-rc-path &quot;gschem-colormap-lightbg&quot;)) ; light background
</pre></div>
</div>
<p>Be sure you save these two files <code class="docutils literal notranslate"><span class="pre">gafrc</span></code> and <code class="docutils literal notranslate"><span class="pre">gschemrc</span></code> without any file extension.</p>
<p>SLiCAP uses the <strong>gnet-spice-noqsi</strong> spice netlister. It is included in the latest version of lepton-eda.</p>
<p>For compact node names (important for use in symbolic expressions) you need to reconfigure the default <em>net name prefix</em>.</p>
<p>This is how it should be done under Linux:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>lepton-cli<span class="w"> </span>config<span class="w"> </span>--system<span class="w"> </span><span class="s2">&quot;netlist&quot;</span><span class="w"> </span><span class="s2">&quot;default-net-name&quot;</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
</pre></div>
</div>
<p>For more information see: <a class="reference external" href="schematics.html#gschem">schematic capture with Lepton-EDA</a></p>
</section>
</section>
<section id="reserved-component-names">
<h2>Reserved component names<a class="headerlink" href="#reserved-component-names" title="Link to this heading"></a></h2>
<p>Below some restrictions for the <strong>reference designators</strong> of current sources in combination with specific analysis modes.</p>
<section id="noise-analysis-donoise">
<h3>noise analysis: doNoise()<a class="headerlink" href="#noise-analysis-donoise" title="Link to this heading"></a></h3>
<p>SLiCAP adds noise current sources in parallel with resistors that have a nonzero positive noise temperature. These current sources obtain the reference designator <code class="docutils literal notranslate"><span class="pre">I_noise_&lt;resID&gt;</span></code>, where <code class="docutils literal notranslate"><span class="pre">resID</span></code> is the reference designator of the resistor. After the noise analysis, these sources are removed from the circuit.</p>
<div class="warning admonition">
<p class="admonition-title">noise analysis</p>
<p>After noise analysis <code class="docutils literal notranslate"><span class="pre">doNoise()</span></code>, all independent current sources with reference designators starting with <code class="docutils literal notranslate"><span class="pre">I_noise_</span></code> will be removed from the circuit.</p>
</div>
</section>
<section id="dcvar-analysis-dodcvar">
<h3>dcvar analysis: doDCvar()<a class="headerlink" href="#dcvar-analysis-dodcvar" title="Link to this heading"></a></h3>
<p>SLiCAP adds dc error current sources in parallel with resistors that have a nonzero dcvar value. These current sources obtain the reference designator <code class="docutils literal notranslate"><span class="pre">I_dcvar_&lt;resID&gt;</span></code>, where <code class="docutils literal notranslate"><span class="pre">resID</span></code> is the reference designator of the resistor. After the dcvar analysis, these sources are removed from the circuit.</p>
<div class="warning admonition">
<p class="admonition-title">dcvar analysis</p>
<p>After dcvar analysis <code class="docutils literal notranslate"><span class="pre">doDCvar()</span></code>, all independent current sources with reference designators starting with <code class="docutils literal notranslate"><span class="pre">I_dcvar_</span></code> will be removed from the circuit.</p>
</div>
</section>
<section id="time-analysis-dotime">
<h3>time analysis: doTime()<a class="headerlink" href="#time-analysis-dotime" title="Link to this heading"></a></h3>
<p>In future versions, SLiCAP will add current sources with the Laplace transform of the initial conditions in parallel with capacitors and inductors taht have nonzero initial conditions. These current sources obtain the reference designator <code class="docutils literal notranslate"><span class="pre">I_init_&lt;elID&gt;</span></code>, where <code class="docutils literal notranslate"><span class="pre">elID</span></code> is the reference designator of the capacitor or inductor.</p>
<div class="warning admonition">
<p class="admonition-title">time analysis</p>
<p>In future versions, after time analysis <code class="docutils literal notranslate"><span class="pre">doTime()</span></code>, all independent current sources with reference designators starting with <code class="docutils literal notranslate"><span class="pre">I_init_</span></code> will be removed from the circuit.</p>
</div>
</section>
<section id="balanced-circuits">
<h3>balanced circuits<a class="headerlink" href="#balanced-circuits" title="Link to this heading"></a></h3>
<p>SLiCAP can decompose balanced circuits into (unbalanced) differential-mode and common-mode equivalent circuits. This decomposition is based upon pairing of nodes and branches. Paired nodes and branches receive new names with extensions <code class="docutils literal notranslate"><span class="pre">_C</span></code> and <code class="docutils literal notranslate"><span class="pre">_D</span></code> for common-mode and differential-mode equivalent networks, respectively.</p>
<div class="warning admonition">
<p class="admonition-title">balanced circuits</p>
<p>The use of the extensions <code class="docutils literal notranslate"><span class="pre">_C</span></code> and <code class="docutils literal notranslate"><span class="pre">_D</span></code> in node names and device names in combination with the instruction argument <code class="docutils literal notranslate"><span class="pre">convtype!=None</span></code> should be avoided. This conflicts with the built-in decomposition method. For more information see: <a class="reference external" href="balanced.html">Work with Balanced circuits</a>.</p>
</div>
<p>SLiCAP built-in parameters and Sympy reserved symbols
=====================================================.</p>
</section>
<section id="slicap-reserved-variables">
<h3>SLiCAP reserved variables<a class="headerlink" href="#slicap-reserved-variables" title="Link to this heading"></a></h3>
<p>SLiCAP reserved variables are the frequency variable and the Laplace variable.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">SLiCAP</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sl</span><span class="o">.</span><span class="n">ini</span><span class="o">.</span><span class="n">frequency</span>
<span class="go">f</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sl</span><span class="o">.</span><span class="n">ini</span><span class="o">.</span><span class="n">laplace</span>
<span class="go">s</span>
</pre></div>
</div>
<div class="note admonition">
<p class="admonition-title">Important</p>
<p>Conflicts between <em>function names</em> in different packages can be prevented from by importing each package in its own namespace:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">SLiCAP</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">sympy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
</pre></div>
</div>
</div>
</section>
<section id="slicap-global-parameters">
<h3>SLiCAP global parameters<a class="headerlink" href="#slicap-global-parameters" title="Link to this heading"></a></h3>
<div class="note admonition">
<p class="admonition-title">Global Parameters</p>
<p>Global parameters are defined in the file <code class="docutils literal notranslate"><span class="pre">SLiCAPmodels.lib</span></code> in the folder given by <code class="docutils literal notranslate"><span class="pre">ini.main_lib_path</span></code>. If global parameters are found in circuit element expressions or in circuit parameter definitions, SLiCAP automatically adds their global definition to the circuit parameter definitions.</p>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="s2">&quot;SLiCAPmodels&quot;</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="o">*</span> <span class="n">Physical</span> <span class="n">constants</span>
<span class="linenos"> 4</span><span class="o">********************</span>
<span class="linenos"> 5</span>
<span class="linenos"> 6</span><span class="o">.</span><span class="n">param</span> 
<span class="linenos"> 7</span><span class="o">+</span> <span class="n">q</span>             <span class="o">=</span> <span class="mf">1.60217662e-19</span>    <span class="p">;</span> <span class="n">Electron</span> <span class="n">charge</span> <span class="ow">in</span> <span class="p">[</span><span class="n">C</span><span class="p">]</span>
<span class="linenos"> 8</span><span class="o">+</span> <span class="n">c</span>             <span class="o">=</span> <span class="mf">2.99792458e+08</span>    <span class="p">;</span> <span class="n">Speed</span> <span class="n">of</span> <span class="n">light</span> <span class="ow">in</span> <span class="p">[</span><span class="n">m</span><span class="o">/</span><span class="n">s</span><span class="p">]</span>
<span class="linenos"> 9</span><span class="o">+</span> <span class="n">mu_0</span>          <span class="o">=</span> <span class="p">{</span><span class="mi">4</span><span class="o">*</span><span class="n">pi</span><span class="o">*</span><span class="mf">1e-7</span><span class="p">}</span>       <span class="p">;</span> <span class="n">Permeability</span> <span class="n">of</span> <span class="n">vacuum</span> <span class="ow">in</span> <span class="p">[</span><span class="n">H</span><span class="o">/</span><span class="n">m</span><span class="p">]</span>
<span class="linenos">10</span><span class="o">+</span> <span class="n">epsilon_SiO2</span>  <span class="o">=</span> <span class="mf">3.9</span>               <span class="p">;</span> <span class="n">Relative</span> <span class="n">permittivity</span> <span class="n">of</span> <span class="n">SiO2</span> <span class="p">[</span><span class="o">-</span><span class="p">]</span>
<span class="linenos">11</span><span class="o">+</span> <span class="n">k</span>             <span class="o">=</span> <span class="mf">1.38064852e-23</span>    <span class="p">;</span> <span class="n">Boltzmann</span> <span class="n">constant</span> <span class="ow">in</span> <span class="p">[</span><span class="n">J</span><span class="o">/</span><span class="n">K</span><span class="p">]</span>
<span class="linenos">12</span><span class="o">+</span> <span class="n">epsilon_0</span>     <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="o">/</span><span class="n">mu_0</span><span class="o">/</span><span class="n">c</span><span class="o">^</span><span class="mi">2</span><span class="p">}</span>      <span class="p">;</span> <span class="n">permittivity</span> <span class="n">of</span> <span class="n">vacuum</span> <span class="ow">in</span> <span class="p">[</span><span class="n">F</span><span class="o">/</span><span class="n">m</span><span class="p">]</span>
<span class="linenos">13</span>
<span class="linenos">14</span><span class="o">*</span> <span class="n">Temperature</span> <span class="ow">and</span> <span class="n">thermal</span> <span class="n">voltage</span>
<span class="linenos">15</span><span class="o">*********************************</span>
<span class="linenos">16</span>
<span class="linenos">17</span><span class="o">.</span><span class="n">param</span>
<span class="linenos">18</span><span class="o">+</span> <span class="n">T</span>             <span class="o">=</span> <span class="mi">300</span>               <span class="p">;</span> <span class="n">Default</span> <span class="n">value</span> <span class="n">of</span> <span class="n">the</span> <span class="n">absolute</span> <span class="n">temperature</span> <span class="ow">in</span> <span class="p">[</span><span class="n">K</span><span class="p">]</span>
<span class="linenos">19</span><span class="o">+</span> <span class="n">U_T</span>           <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="o">*</span><span class="n">T</span><span class="o">/</span><span class="n">q</span><span class="p">}</span>           <span class="p">;</span> <span class="n">Thermal</span> <span class="n">voltage</span> <span class="p">[</span><span class="n">V</span><span class="p">]</span>
</pre></div>
</div>
<div class="note admonition">
<p class="admonition-title">CMOS18 EKV model parameters</p>
<p>Built-in CMOS18 EKV model parameter definitions are included in <code class="docutils literal notranslate"><span class="pre">SLiCAP.lib</span></code> in the folder given by <code class="docutils literal notranslate"><span class="pre">ini.main_lib_path</span></code>.</p>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="o">*</span> <span class="n">Semiconductor</span> <span class="n">subcircuit</span> <span class="n">models</span> <span class="n">EKV</span>
<span class="linenos"> 2</span><span class="o">*************************************</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="o">*</span> <span class="n">CMOS18</span> <span class="n">technology</span> <span class="n">parameters</span> <span class="k">for</span> <span class="n">EKV</span> <span class="n">models</span> <span class="p">(</span><span class="n">SI</span> <span class="n">units</span><span class="p">)</span>
<span class="linenos"> 5</span><span class="o">*</span> <span class="n">DEFAULT</span> <span class="n">EQUATIONS</span> <span class="n">AND</span> <span class="n">PARAMETERS</span> <span class="n">taken</span> <span class="kn">from</span><span class="w"> </span><span class="nn">Binkley</span><span class="p">:</span>
<span class="linenos"> 6</span><span class="o">*</span> <span class="s2">&quot;Tradeoffs and Optimization in Analog CMOS Design&quot;</span>
<span class="linenos"> 7</span><span class="o">*</span> <span class="n">Table</span> <span class="mf">3.2</span>
<span class="linenos"> 8</span><span class="o">*</span> <span class="n">Overlap</span> <span class="n">capacitances</span> <span class="nb">set</span> <span class="n">to</span> <span class="n">typical</span> <span class="n">values</span>
<span class="linenos"> 9</span><span class="o">*</span> <span class="n">Early</span> <span class="n">voltage</span> <span class="n">per</span> <span class="n">unit</span> <span class="n">of</span> <span class="n">length</span> <span class="nb">set</span> <span class="n">to</span> <span class="n">typical</span> <span class="n">value</span>
<span class="linenos">10</span><span class="o">********************************************************</span>
<span class="linenos">11</span>
<span class="linenos">12</span><span class="o">.</span><span class="n">param</span>
<span class="linenos">13</span><span class="o">+</span> <span class="n">TOX_N18</span>        <span class="o">=</span> <span class="mf">4.1</span><span class="n">n</span>    <span class="p">;</span> <span class="n">oxide</span> <span class="n">thickness</span> <span class="p">[</span><span class="n">m</span><span class="p">]</span>
<span class="linenos">14</span><span class="o">+</span> <span class="n">Vth_N18</span>        <span class="o">=</span> <span class="mf">0.42</span>    <span class="p">;</span> <span class="n">threshold</span> <span class="n">voltage</span> <span class="p">[</span><span class="n">V</span><span class="p">]</span>
<span class="linenos">15</span><span class="o">+</span> <span class="n">N_s_N18</span>        <span class="o">=</span> <span class="mf">1.35</span>    <span class="p">;</span> <span class="n">substrate</span> <span class="n">factor</span> <span class="p">[</span><span class="o">-</span><span class="p">]</span>
<span class="linenos">16</span><span class="o">+</span> <span class="n">Theta_N18</span>      <span class="o">=</span> <span class="mf">0.28</span>    <span class="p">;</span> <span class="n">vertical</span> <span class="n">field</span> <span class="n">mobility</span> <span class="n">reduction</span> <span class="n">coefficient</span> <span class="p">[</span><span class="mi">1</span><span class="o">/</span><span class="n">V</span><span class="p">]</span>
<span class="linenos">17</span><span class="o">+</span> <span class="n">E_CRIT_N18</span>     <span class="o">=</span> <span class="mf">5.6</span><span class="n">M</span>    <span class="p">;</span> <span class="n">lateral</span> <span class="n">field</span> <span class="n">strength</span> <span class="k">for</span> <span class="n">velocity</span> <span class="n">saturation</span> <span class="p">[</span><span class="n">V</span><span class="o">/</span><span class="n">m</span><span class="p">]</span>
<span class="linenos">18</span><span class="o">+</span> <span class="n">u_0_N18</span>        <span class="o">=</span> <span class="mf">42.2</span><span class="n">m</span>   <span class="p">;</span> <span class="n">zero</span> <span class="n">field</span> <span class="n">carrier</span> <span class="n">mobility</span> <span class="p">[</span><span class="n">m</span><span class="o">^</span><span class="mi">2</span><span class="o">/</span><span class="n">V</span><span class="o">/</span><span class="n">s</span><span class="p">]</span>
<span class="linenos">19</span><span class="o">+</span> <span class="n">CGBO_N18</span>       <span class="o">=</span> <span class="mi">1</span><span class="n">p</span>      <span class="p">;</span> <span class="n">gate</span><span class="o">-</span><span class="n">bulk</span> <span class="n">overlap</span> <span class="n">capacitance</span> <span class="p">[</span><span class="n">F</span><span class="o">/</span><span class="n">m</span><span class="p">]</span>
<span class="linenos">20</span><span class="o">+</span> <span class="n">CGSO_N18</span>       <span class="o">=</span> <span class="mi">300</span><span class="n">p</span>    <span class="p">;</span> <span class="n">gate</span><span class="o">-</span><span class="n">source</span> <span class="ow">and</span> <span class="n">gate</span><span class="o">-</span><span class="n">drain</span> <span class="n">overlap</span> <span class="n">capacitance</span> <span class="p">[</span><span class="n">F</span><span class="o">/</span><span class="n">m</span><span class="p">]</span>
<span class="linenos">21</span><span class="o">+</span> <span class="n">CJB0_N18</span>       <span class="o">=</span> <span class="mi">1</span><span class="n">m</span>      <span class="p">;</span> <span class="n">source</span><span class="o">/</span><span class="n">bulk</span> <span class="n">drain</span><span class="o">/</span><span class="n">bulk</span> <span class="n">capacitance</span> <span class="p">[</span><span class="n">F</span><span class="o">/</span><span class="n">m</span><span class="o">^</span><span class="mi">2</span><span class="p">]</span>
<span class="linenos">22</span><span class="o">+</span> <span class="n">LDS_N18</span>        <span class="o">=</span> <span class="mi">180</span><span class="n">n</span>    <span class="p">;</span> <span class="n">length</span> <span class="n">of</span> <span class="n">drain</span> <span class="ow">and</span> <span class="n">source</span> <span class="p">[</span><span class="n">m</span><span class="p">]</span>
<span class="linenos">23</span><span class="o">+</span> <span class="n">KF_N18</span>         <span class="o">=</span> <span class="mf">3.2e-27</span> <span class="p">;</span> <span class="n">flicker</span> <span class="n">noise</span> <span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">f</span> <span class="n">noise</span><span class="p">)</span> <span class="n">coefficient</span><span class="p">,</span> <span class="n">zero</span> <span class="k">for</span> <span class="n">f_ell</span><span class="o">=</span><span class="mi">0</span> <span class="p">[</span><span class="n">C</span><span class="o">/</span><span class="n">m</span><span class="o">^</span><span class="mi">2</span><span class="p">]</span>
<span class="linenos">24</span><span class="o">+</span> <span class="n">AF_N18</span>         <span class="o">=</span> <span class="mf">0.85</span>    <span class="p">;</span> <span class="n">flicker</span> <span class="n">noise</span> <span class="n">exponent</span> <span class="p">[</span><span class="o">-</span><span class="p">]</span>
<span class="linenos">25</span><span class="o">+</span> <span class="n">V_KF_N18</span>       <span class="o">=</span> <span class="mi">1</span>       <span class="p">;</span> <span class="n">flicker</span> <span class="n">noise</span> <span class="n">voltage</span> <span class="n">dependency</span> <span class="n">factor</span> <span class="p">[</span><span class="n">V</span><span class="p">]</span>
<span class="linenos">26</span><span class="o">+</span> <span class="n">VAL_N18</span>        <span class="o">=</span> <span class="mi">20</span><span class="n">M</span>     <span class="p">;</span> <span class="n">Early</span> <span class="n">voltage</span> <span class="n">per</span> <span class="n">unit</span> <span class="n">of</span> <span class="n">length</span> <span class="p">[</span><span class="n">V</span><span class="o">/</span><span class="n">m</span><span class="p">]</span>
<span class="linenos">27</span><span class="o">+</span> <span class="n">DVTDIBL_N18</span>    <span class="o">=</span> <span class="o">-</span><span class="mf">0.008</span>  <span class="p">;</span> <span class="n">dVth</span><span class="o">/</span><span class="n">dVDS</span>
<span class="linenos">28</span><span class="o">+</span> <span class="n">DVTIDBLEXP_N18</span> <span class="o">=</span> <span class="mi">3</span>       <span class="p">;</span> <span class="n">exponent</span> <span class="n">of</span> <span class="n">dVth</span><span class="o">/</span><span class="n">dVDS</span>
<span class="linenos">29</span><span class="o">+</span> <span class="n">beta_N18</span>       <span class="o">=</span> <span class="mf">0.8</span>     <span class="p">;</span> <span class="n">Short</span> <span class="n">channel</span> <span class="n">effect</span> <span class="n">exponent</span>
<span class="linenos">30</span><span class="o">+</span> <span class="n">L_min_N18</span>      <span class="o">=</span> <span class="mi">180</span><span class="n">n</span>    <span class="p">;</span> <span class="n">minimum</span> <span class="n">channel</span> <span class="n">length</span>
<span class="linenos">31</span><span class="o">+</span> <span class="n">C_OX_N18</span>       <span class="o">=</span> <span class="p">{</span><span class="n">epsilon_0</span> <span class="o">*</span> <span class="n">epsilon_SiO2</span> <span class="o">/</span> <span class="n">TOX_N18</span><span class="p">};</span> <span class="n">oxide</span> <span class="n">capacitance</span> <span class="n">per</span> <span class="n">unit</span> <span class="n">of</span> <span class="n">area</span> <span class="p">[</span><span class="n">F</span><span class="o">/</span><span class="n">m</span><span class="o">^</span><span class="mi">2</span><span class="p">]</span>
<span class="linenos">32</span><span class="o">+</span> <span class="n">I_0_N18</span>        <span class="o">=</span> <span class="p">{</span><span class="mi">2</span><span class="o">*</span><span class="n">N_s_N18</span><span class="o">*</span><span class="n">u_0_N18</span><span class="o">*</span><span class="n">C_OX_N18</span><span class="o">*</span><span class="n">U_T</span><span class="o">^</span><span class="mi">2</span><span class="p">}</span>  <span class="p">;</span> <span class="n">technology</span> <span class="n">current</span> <span class="p">[</span><span class="n">A</span><span class="p">]</span>
<span class="linenos">33</span>
<span class="linenos">34</span><span class="o">.</span><span class="n">param</span>
<span class="linenos">35</span><span class="o">+</span> <span class="n">TOX_P18</span>        <span class="o">=</span> <span class="mf">4.1</span><span class="n">n</span>    <span class="p">;</span> <span class="n">oxide</span> <span class="n">thickness</span> <span class="p">[</span><span class="n">m</span><span class="p">]</span>
<span class="linenos">36</span><span class="o">+</span> <span class="n">Vth_P18</span>        <span class="o">=</span> <span class="o">-</span><span class="mf">0.42</span>   <span class="p">;</span> <span class="n">threshold</span> <span class="n">voltage</span> <span class="p">[</span><span class="n">V</span><span class="p">]</span>
<span class="linenos">37</span><span class="o">+</span> <span class="n">N_s_P18</span>        <span class="o">=</span> <span class="mf">1.35</span>    <span class="p">;</span> <span class="n">substrate</span> <span class="n">factor</span> <span class="p">[</span><span class="o">-</span><span class="p">]</span>
<span class="linenos">38</span><span class="o">+</span> <span class="n">Theta_P18</span>      <span class="o">=</span> <span class="mf">0.35</span>    <span class="p">;</span> <span class="n">vertical</span> <span class="n">field</span> <span class="n">mobility</span> <span class="n">reduction</span> <span class="n">factor</span> <span class="p">[</span><span class="mi">1</span><span class="o">/</span><span class="n">V</span><span class="p">]</span>
<span class="linenos">39</span><span class="o">+</span> <span class="n">E_CRIT_P18</span>     <span class="o">=</span> <span class="mi">14</span><span class="n">M</span>     <span class="p">;</span> <span class="n">lateral</span> <span class="n">field</span> <span class="n">strength</span> <span class="k">for</span> <span class="n">velocity</span> <span class="n">saturation</span> <span class="p">[</span><span class="n">V</span><span class="o">/</span><span class="n">m</span><span class="p">]</span>
<span class="linenos">40</span><span class="o">+</span> <span class="n">u_0_P18</span>        <span class="o">=</span> <span class="mf">8.92</span><span class="n">m</span>   <span class="p">;</span> <span class="n">zero</span> <span class="n">field</span> <span class="n">carrier</span> <span class="n">mobility</span> <span class="p">[</span><span class="n">m</span><span class="o">^</span><span class="mi">2</span><span class="o">/</span><span class="n">V</span><span class="o">/</span><span class="n">s</span><span class="p">]</span>
<span class="linenos">41</span><span class="o">+</span> <span class="n">CGBO_P18</span>       <span class="o">=</span> <span class="mi">1</span><span class="n">p</span>      <span class="p">;</span> <span class="n">gate</span><span class="o">-</span><span class="n">bulk</span> <span class="n">overlap</span> <span class="n">capacitance</span> <span class="p">[</span><span class="n">F</span><span class="o">/</span><span class="n">m</span><span class="p">]</span>
<span class="linenos">42</span><span class="o">+</span> <span class="n">CGSO_P18</span>       <span class="o">=</span> <span class="mi">300</span><span class="n">p</span>    <span class="p">;</span> <span class="n">gate</span><span class="o">-</span><span class="n">source</span> <span class="ow">and</span> <span class="n">gate</span><span class="o">-</span><span class="n">drain</span> <span class="n">overlap</span> <span class="n">capacitance</span> <span class="p">[</span><span class="n">F</span><span class="o">/</span><span class="n">m</span><span class="p">]</span>
<span class="linenos">43</span><span class="o">+</span> <span class="n">CJB0_P18</span>       <span class="o">=</span> <span class="mi">1</span><span class="n">m</span>      <span class="p">;</span> <span class="n">source</span><span class="o">/</span><span class="n">bulk</span> <span class="n">drain</span><span class="o">/</span><span class="n">bulk</span> <span class="n">capacitance</span> <span class="p">[</span><span class="n">F</span><span class="o">/</span><span class="n">m</span><span class="o">^</span><span class="mi">2</span><span class="p">]</span>
<span class="linenos">44</span><span class="o">+</span> <span class="n">LDS_P18</span>        <span class="o">=</span> <span class="mi">180</span><span class="n">n</span>    <span class="p">;</span> <span class="n">length</span> <span class="n">of</span> <span class="n">drain</span> <span class="ow">and</span> <span class="n">source</span> <span class="p">[</span><span class="n">m</span><span class="p">]</span>
<span class="linenos">45</span><span class="o">+</span> <span class="n">KF_P18</span>         <span class="o">=</span> <span class="mf">2.4e-27</span> <span class="p">;</span> <span class="n">flicker</span> <span class="n">noise</span> <span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">f</span> <span class="n">noise</span><span class="p">)</span> <span class="n">coefficient</span><span class="p">,</span> <span class="n">zero</span> <span class="k">for</span> <span class="n">f_ell</span><span class="o">=</span><span class="mi">0</span> <span class="p">[</span><span class="n">C</span><span class="o">^</span><span class="mi">2</span><span class="o">/</span><span class="n">m</span><span class="o">^</span><span class="mi">2</span><span class="p">]</span>
<span class="linenos">46</span><span class="o">+</span> <span class="n">AF_P18</span>         <span class="o">=</span> <span class="mf">1.05</span>    <span class="p">;</span> <span class="n">flicker</span> <span class="n">noise</span> <span class="n">exponent</span> <span class="p">[</span><span class="o">-</span><span class="p">]</span>
<span class="linenos">47</span><span class="o">+</span> <span class="n">V_KF_P18</span>       <span class="o">=</span> <span class="mf">0.25</span>    <span class="p">;</span> <span class="n">flicker</span> <span class="n">noise</span> <span class="n">voltage</span> <span class="n">dependency</span> <span class="n">factor</span> <span class="p">[</span><span class="n">V</span><span class="p">]</span>
<span class="linenos">48</span><span class="o">+</span> <span class="n">VAL_P18</span>        <span class="o">=</span> <span class="mi">20</span><span class="n">M</span>     <span class="p">;</span> <span class="n">Early</span> <span class="n">voltage</span> <span class="n">per</span> <span class="n">unit</span> <span class="n">of</span> <span class="n">length</span> <span class="p">[</span><span class="n">V</span><span class="o">/</span><span class="n">m</span><span class="p">]</span>
</pre></div>
</div>
</section>
</section>
<section id="display-schematics-on-html-pages-and-in-latex-reports">
<h2>Display schematics on html pages and in LaTeX reports<a class="headerlink" href="#display-schematics-on-html-pages-and-in-latex-reports" title="Link to this heading"></a></h2>
<p>Scalable Vector Graphics <code class="docutils literal notranslate"><span class="pre">.svg</span></code> images are preferred for displaying on HTML pages, while Portable Document Format <code class="docutils literal notranslate"><span class="pre">.pdf</span></code> is preferred for LaTeX reports.</p>
<ul class="simple">
<li><p>With <strong>KiCAD</strong> or <strong>Lepton-EDA</strong> running under Linux or MacOS, drawing-size <code class="docutils literal notranslate"><span class="pre">svg</span></code> and <code class="docutils literal notranslate"><span class="pre">pdf</span></code> images are generated with makeCircuit(). These image files will be placed in the <code class="docutils literal notranslate"><span class="pre">img/</span></code> folder in the project directory.</p></li>
<li><p>With <strong>KiCAD</strong> running under Windows, drawing-size <code class="docutils literal notranslate"><span class="pre">svg</span></code> images are generated with makeCircuit().</p></li>
<li><p>With <strong>LTspice</strong> you can print schematics to a <code class="docutils literal notranslate"><span class="pre">pdf</span></code> file using a PDF printer. Printing and rescaling cannot be invoked by SLiCAP.</p></li>
<li><p>With <strong>gSchem</strong> running under <strong>MSwindows</strong> you can write your schematic file to a <code class="docutils literal notranslate"><span class="pre">pdf</span></code> file. Printing and rescaling cannot be invoked by SLiCAP.</p></li>
</ul>
<section id="converting-and-scaling-pdf-images">
<h3>Converting and scaling pdf images<a class="headerlink" href="#converting-and-scaling-pdf-images" title="Link to this heading"></a></h3>
<p>When running under MSWindows, you can use <a class="reference external" href="https://github.com/jalios/pdf2svg-windows">pdf2svg-1</a> or <a class="reference external" href="https://www.pdftron.com/documentation/cli/download/windows/">pdf2svg-2</a> for PDF to SVG conversion.
Alternatively, on all platforms, you can use <a class="reference external" href="https://inkscape.org/">Inkscape</a> for this purpose. If you import <code class="docutils literal notranslate"><span class="pre">pdf</span></code> files with Inkscape use the import settings <em>Poppler/Cairo import</em>. With this selection, fonts are converted to <em>Bezier curves</em>.</p>
<p>Inkscape can also be used to resize images from page size to drawing size. This is required for correct display on HTML pages (<code class="docutils literal notranslate"><span class="pre">svg</span></code> or <code class="docutils literal notranslate"><span class="pre">png</span></code> format) or in LaTeX documents (<code class="docutils literal notranslate"><span class="pre">pdf</span></code> format). With KiCAD, SLiCAP uses built-in scripts. Lepton-EDA has such capabilities by default.</p>
<p>With <strong>gschem</strong> running under <strong>Linux</strong> or <strong>Mac OS</strong> you can write your schematic file to a <code class="docutils literal notranslate"><span class="pre">eps</span></code> file. These files can be converted into <code class="docutils literal notranslate"><span class="pre">pdf</span></code> files using the <a class="reference external" href="https://www.systutorials.com/docs/linux/man/1-epstopdf/">epstopdf</a> command.</p>
<p>Ghostscript is an alternative often available in the package manager of Linux distributions. Otherwise Ghostscript versions can be downloaded from: <a class="reference external" href="https://ghostscript.com/download">Ghostscript</a>.</p>
</section>
</section>
<section id="schematic-file-locations">
<h2>Schematic file locations<a class="headerlink" href="#schematic-file-locations" title="Link to this heading"></a></h2>
<p>A convenient way of working is to save your schematic circuit files in subfolders in the project folder.</p>
<p>If you create a KiCAD project in the SLiCAP project directory, the KiCAD schematic (file extension <code class="docutils literal notranslate"><span class="pre">kicad_sch</span></code>) is by default placed in the KiCAD project subfolder in the SLiCAP project directory.</p>
<p>Below a project directory structure according to this principle.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>+ project folder
| - SLiCAP.ini
| - myProject.py
+-+ kicad
| + kicad_circuit_1
| | - kicad_circuit_1.kicad_sch
| | - ...
| + kicad_circuit_2
|   - kicad_circuit_2.kicad_sch
|   - ...
+-- ltspice
|   - ltspice_circuit_1.asc
|   - ltspice_circuit_2.asc
+-- lepton-eda
|   - lepton-eda_circuit_1.sch
|   - lepton-eda_circuit_2.sch
+-- gschem
|   - gschem_circuit_1.sch
|   - gschem_circuit_2.sch
+-- cir
|   - kicad_circuit_1.cir      &lt;-- created with: sl.makeCircuit(&quot;kicad/kicad_circuit_1/kicad_circuit_1.kicad_sch&quot;)
|   - kicad_circuit_2.cir      &lt;-- created with: sl.makeCircuit(&quot;kicad/kicad_circuit_2/kicad_circuit_2.kicad_sch&quot;)
|   - ltspice_circuit_1.cir    &lt;-- created with: sl.makeCircuit(&quot;ltspice/ltspice_circuit_1.asc&quot;)
|   - ltspice_circuit_2.cir    &lt;-- created with: sl.makeCircuit(&quot;ltspice/ltspice_circuit_2.asc&quot;)
|   - lepton-eda_circuit_1.cir &lt;-- created with: sl.makeCircuit(&quot;lepton-eda/lepton-eda_circuit_1.sch&quot;)
|   - lepton-eda_circuit_2.cir &lt;-- created with: sl.makeCircuit(&quot;lepton-eda/lepton-eda_circuit_2.sch&quot;)
|   - gschem_circuit_1.cir     &lt;-- created with: sl.makeCircuit(&quot;gschem/gschem_circuit_1.sch&quot;)
|   - gschem_circuit_2.cir     &lt;-- created with: sl.makeCircuit(&quot;gschem/gschem_circuit_2.sch&quot;)
+-- lib
+-- img
    - kicad_circuit_1.svg      &lt;-- created with: sl.makeCircuit(&quot;kicad/kicad_circuit_1/kicad_circuit_1.kicad_sch&quot;)
    - kicad_circuit_1.pdf      &lt;-- created with: sl.makeCircuit(&quot;kicad/kicad_circuit_1/kicad_circuit_1.kicad_sch&quot;)
    - kicad_circuit_2.svg      &lt;-- created with: sl.makeCircuit(&quot;kicad/kicad_circuit_2/kicad_circuit_2.kicad_sch&quot;)
    - kicad_circuit_2.pdf      &lt;-- created with: sl.makeCircuit(&quot;kicad/kicad_circuit_2/kicad_circuit_2.kicad_sch&quot;)
    - lepton-eda_circuit_1.svg &lt;-- created with: sl.makeCircuit(&quot;lepton-eda/lepton-eda_circuit_1.sch&quot;)
    - lepton-eda_circuit_1.pdf &lt;-- created with: sl.makeCircuit(&quot;lepton-eda/lepton-eda_circuit_1.sch&quot;)
    - lepton-eda_circuit_2.svg &lt;-- created with: sl.makeCircuit(&quot;lepton-eda/lepton-eda_circuit_2.sch&quot;)
    - lepton-eda_circuit_2.pdf &lt;-- created with: sl.makeCircuit(&quot;lepton-eda/lepton-eda_circuit_2.sch&quot;)
</pre></div>
</div>
<p>Netlist files (<code class="docutils literal notranslate"><span class="pre">.cir</span></code> extension) and image files (<code class="docutils literal notranslate"><span class="pre">.svg</span></code> and <code class="docutils literal notranslate"><span class="pre">.pdf</span></code> extensions) shown above, are created with <code class="docutils literal notranslate"><span class="pre">makeCircuit()</span></code> and by default placed in the <code class="docutils literal notranslate"><span class="pre">cir</span></code> folder and the <code class="docutils literal notranslate"><span class="pre">img</span></code> folder of the project directory, respectively.</p>
<p>Below an example of creating a circuit object from a KiCAD schematic file. The project folder is <code class="docutils literal notranslate"><span class="pre">/USR/myProject/</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">SLiCAP</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sl</span><span class="o">.</span><span class="n">initProject</span><span class="p">(</span><span class="s2">&quot;my project&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cir</span> <span class="o">=</span> <span class="n">sl</span><span class="o">.</span><span class="n">makeCircuit</span><span class="p">(</span><span class="s2">&quot;kicad/kicad_circuit_1/kicad_circuit_1.kicad_sch&quot;</span><span class="p">)</span>

<span class="go">Compiling library: SLiCAP.lib.</span>
<span class="go">Compiling library: SLiCAPmodels.lib.</span>
<span class="go">Creating netlist of kicad//kicad_circuit_1/kicad_circuit_1.kicad_sch using KiCAD</span>
<span class="go">Creating drawing-size SVG and PDF images of kicad/kicad_circuit_1/kicad_circuit_1.kicad_sch</span>
<span class="go">Plotted to &#39;/USR/myProject/img/kicad_circuit_1.svg&#39;.</span>
<span class="go">Done.</span>
</pre></div>
</div>
</section>
<section id="obtain-circuit-elements-information">
<h2>Obtain circuit elements information<a class="headerlink" href="#obtain-circuit-elements-information" title="Link to this heading"></a></h2>
<p>Information about the circuit elements is available in the <code class="docutils literal notranslate"><span class="pre">.elements</span></code> attribute of the circuit object:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos">15</span><span class="c1"># Display information about the expanded netlist elements</span>
<span class="linenos">16</span><span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">cir</span><span class="o">.</span><span class="n">elements</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
<span class="linenos">17</span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">==============================================&quot;</span><span class="p">)</span>
<span class="linenos">18</span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;refDes    :&quot;</span><span class="p">,</span> <span class="n">cir</span><span class="o">.</span><span class="n">elements</span><span class="p">[</span><span class="n">element</span><span class="p">]</span><span class="o">.</span><span class="n">refDes</span><span class="p">)</span>
<span class="linenos">19</span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;nodes     :&quot;</span> <span class="p">,</span> <span class="n">cir</span><span class="o">.</span><span class="n">elements</span><span class="p">[</span><span class="n">element</span><span class="p">]</span><span class="o">.</span><span class="n">nodes</span><span class="p">)</span>
<span class="linenos">20</span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;refs      :&quot;</span> <span class="p">,</span> <span class="n">cir</span><span class="o">.</span><span class="n">elements</span><span class="p">[</span><span class="n">element</span><span class="p">]</span><span class="o">.</span><span class="n">refs</span><span class="p">)</span>
<span class="linenos">21</span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;model     :&quot;</span> <span class="p">,</span> <span class="n">cir</span><span class="o">.</span><span class="n">elements</span><span class="p">[</span><span class="n">element</span><span class="p">]</span><span class="o">.</span><span class="n">model</span><span class="p">)</span>
<span class="linenos">22</span>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">cir</span><span class="o">.</span><span class="n">elements</span><span class="p">[</span><span class="n">element</span><span class="p">]</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
<span class="linenos">23</span>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Model parameters:&quot;</span><span class="p">)</span>
<span class="linenos">24</span>        <span class="k">for</span> <span class="n">param</span> <span class="ow">in</span> <span class="n">cir</span><span class="o">.</span><span class="n">elements</span><span class="p">[</span><span class="n">element</span><span class="p">]</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
<span class="linenos">25</span>            <span class="nb">print</span><span class="p">(</span><span class="n">param</span><span class="p">,</span> <span class="s2">&quot;=&quot;</span><span class="p">,</span> <span class="n">cir</span><span class="o">.</span><span class="n">elements</span><span class="p">[</span><span class="n">element</span><span class="p">]</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="n">param</span><span class="p">])</span>
</pre></div>
</div>
<p>This yields:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>==============================================
refDes    : C1
nodes     : [&#39;out&#39;, &#39;0&#39;]
refs      : []
model     : C

Model parameters:
value = C_s
vinit = 0

==============================================
refDes    : I1
nodes     : [&#39;0&#39;, &#39;out&#39;]
refs      : []
model     : I

Model parameters:
value = 0
noise = 2*I_D*q
dc = -I_D
dcvar = sigma_ID**2

==============================================
refDes    : N1
nodes     : [&#39;out&#39;, &#39;0&#39;, &#39;out&#39;, &#39;0&#39;]
refs      : []
model     : N

==============================================
refDes    : R1
nodes     : [&#39;out&#39;, &#39;out&#39;]
refs      : []
model     : R

Model parameters:
value = R_t
noisetemp = T
noiseflow = 0
dcvar = sigma_R**2
dcvarlot = 0
</pre></div>
</div>
<p>For more information about the SLiCAP circuit object, see the: <a class="reference external" href="../reference/SLiCAPprotos.html#SLiCAP.SLiCAPprotos.circuit">circuit class definition</a></p>
<p>For more information about schematic capture (built-in symbols, models and subcircuits), see <a class="reference external" href="schematics.html">Schematic capture for SLiCAP</a></p>
</section>
<section id="display-circuit-data-on-html-pages-and-in-latex-documents">
<h2>Display circuit data on HTML pages and in LaTeX documents<a class="headerlink" href="#display-circuit-data-on-html-pages-and-in-latex-documents" title="Link to this heading"></a></h2>
<p>The report module <a class="reference external" href="reports.html">Create reports</a>, discusses how HTML snippets and LaTeX snippets can be created for variables, expressions, equations and tables.</p>
<img alt="../_images/colorCode.svg" src="../_images/colorCode.svg" />
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="install.html" class="btn btn-neutral float-left" title="Download, install, configure and test SLiCAP" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="schematics.html" class="btn btn-neutral float-right" title="Schematic capture for SLiCAP" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, SLiCAP development team.
      <span class="lastupdated">Last updated on 2025, Dec 27.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>